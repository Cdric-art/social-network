{"version":3,"sources":["actions/user.actions.js","components/AppContext.jsx","components/profil/FollowHandler.jsx","components/LeftNav.jsx","components/post/Card.jsx","components/Utils.js","components/post/LikeButton.jsx","components/post/DeleteCard.jsx","components/post/CardComments.jsx","actions/post.action.js","components/post/EditDeleteComment.jsx","components/Navbar.jsx","components/log/Logout.jsx","components/Notifications.jsx","pages/PublicProfil.jsx","components/Thread.jsx","components/post/NewPost.jsx","components/log/SignInForm.jsx","components/log/SignUpForm.jsx","components/log/Log.jsx","components/Trends.jsx","components/profil/FriendsHint.jsx","pages/Home.jsx","components/profil/UploadImg.jsx","components/profil/UpdateProfil.jsx","pages/Profil.jsx","pages/Trending.jsx","components/FollowThread.jsx","pages/MyFollow.jsx","components/routes/index.jsx","App.js","reportWebVitals.js","reducers/user.reducer.js","actions/users.actions.js","reducers/users.reducer.js","reducers/post.reducer.js","reducers/error.reducer.js","reducers/allPost.reducer.js","reducers/trending.reducer.js","reducers/index.js","index.js"],"names":["GET_USER","UPLOAD_PICTURE","UPDATE_BIO","FOLLOW_USER","UNFOLLOW_USER","GET_USER_ERRORS","CLEAR_NOTIFICATIONS","getUser","uid","dispatch","axios","get","process","then","res","type","payload","data","catch","err","console","log","uploadPicture","id","post","errors","picture","updateBio","userId","bio","method","url","followUser","followerId","idToFollow","unfollowUser","idToUnfollow","clearNotifications","UidContext","createContext","FollowHandler","userData","useSelector","state","userReducer","useState","isFollowed","setIsFollowed","useDispatch","useEffect","isEmpty","following","includes","onClick","_id","className","src","__dirname","alt","LeftNav","exact","to","activeClassName","Card","isLoading","setIsLoading","isUpdated","setIsUpdated","textUpdate","setTextUpdate","showComments","setShowComments","usersData","usersReducer","map","user","posterId","pseudo","dateParser","createdAt","message","defaultValue","onChange","e","target","value","updatePost","video","width","height","frameBorder","title","allow","allowFullScreen","comments","length","date","timestamp","Date","parse","toLocaleDateString","hour","minute","second","weekday","year","month","day","toString","timestampParser","tsp","undefined","Object","keys","trim","LikeButton","liked","setLiked","useContext","likers","trigger","position","closeDocumentClick","style","textAlign","likePost","unlikePost","DeleteCard","window","confirm","deletePost","CardComments","text","setText","comment","commenterId","commenterPseudo","postId","onSubmit","preventDefault","addComment","getPosts","name","placeholder","GET_POSTS","GET_ALL_POST","LIKE_POST","UNLIKE_POST","UPDATE_POST","DELETE_POST","EDIT_COMMENT","DELETE_COMMENT","GET_TRENDS","GET_POST_ERRORS","count","dataLimit","slice","addPost","editComment","commentId","deleteComment","getTrends","sortedArray","EditDeleteComment","isAuthor","setIsAuthor","edit","setEdit","htmlFor","Navbar","Logout","logout","a","withCredentials","key","cookie","remove","expires","location","NotificationsList","notifications","onClose","Notifications","showListNotifications","setShowListNotifications","PublicProfil","profilPublic","setProfilPublic","posts","setPosts","userPosts","allPostReducer","useParams","filter","followers","Thread","loadPost","setLoadPost","setCount","postReducer","loadMore","innerHeight","document","documentElement","scrollTop","scrollingElement","scrollHeight","addEventListener","removeEventListener","NewPost","setMessage","postPicture","setPostPicture","setVideo","file","setFile","error","errorReducer","postError","handlePost","FormData","append","cancelPost","alert","findLink","split","i","embed","replace","splice","join","handleVideo","now","accept","URL","createObjectURL","files","format","maxSize","SignInForm","email","setEmail","password","setPassword","emailError","querySelector","passwordError","innerHTML","SignUpForm","formSubmit","setFormSubmit","setPseudo","controlPassword","setControlPassword","handleRegister","terms","getElementById","pseudoError","passwordConfirmError","termsError","checked","href","rel","Log","signIn","signUp","signUpModal","setSignUpModal","signInModal","setSignInModal","handleModal","Trends","trendList","trendingReducer","sort","b","FriendsHint","playOne","setPlayOne","friendsHint","setFriendsHint","array","push","Math","random","notFriendsList","hint","Home","UploadImg","UpdateProfil","setBio","updateForm","setUpdateForm","userError","followingPopUp","setFollowingPopUp","followersPopUp","setFollowersPopUp","Profil","Trending","FollowThread","postFollow","setPostFollow","arr","result","concat","sortResult","updatedAt","MyFollow","Index","path","component","App","setuid","fetchToken","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","GET_USERS","combineReducers","action","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render"],"mappings":"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","file":"static/js/main.87ce2f80.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport const GET_USER = 'GET_USER';\nexport const UPLOAD_PICTURE = 'UPLOAD_PICTURE';\nexport const UPDATE_BIO = 'UPDATE_BIO';\nexport const FOLLOW_USER = 'FOLLOW_USER';\nexport const UNFOLLOW_USER = 'UNFOLLOW_USER';\n\nexport const GET_USER_ERRORS = 'GET_USER_ERRORS';\n\nexport const CLEAR_NOTIFICATIONS = 'CLEAR_NOTIFICATIONS';\n\nexport const getUser = (uid) => {\n\treturn (dispatch) => {\n\t\treturn axios\n\t\t\t.get(`${process.env.REACT_APP_API_URL}api/user/${uid}`)\n\t\t\t.then(res => {\n\t\t\t\tdispatch({type: GET_USER, payload: res.data});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const uploadPicture = (data, id) => {\n\treturn (dispatch) => {\n\t\treturn axios\n\t\t\t.post(`${process.env.REACT_APP_API_URL}api/user/upload`, data)\n\t\t\t.then(res => {\n\t\t\t\tif (res.data.errors) {\n\t\t\t\t\tdispatch({type: GET_USER_ERRORS, payload: res.data.errors});\n\t\t\t\t} else {\n\t\t\t\t\tdispatch({type: GET_USER_ERRORS, payload: ''});\n\t\t\t\t\treturn axios\n\t\t\t\t\t\t.get(`${process.env.REACT_APP_API_URL}api/user/${id}`)\n\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\tdispatch({type: UPLOAD_PICTURE, payload: res.data.picture});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => console.log({err}));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const updateBio = (userId, bio) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'put',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/user/${userId}`,\n\t\t\tdata: {bio}\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: UPDATE_BIO, payload: bio});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const followUser = (followerId, idToFollow) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/user/follow/${followerId}`,\n\t\t\tdata: {idToFollow}\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: FOLLOW_USER, payload: {idToFollow}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const unfollowUser = (followerId, idToUnfollow) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/user/unfollow/${followerId}`,\n\t\t\tdata: {idToUnfollow}\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: UNFOLLOW_USER, payload: {idToUnfollow}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const clearNotifications = (userId) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/user/notifications/${userId}`,\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: 'CLEAR_NOTIFICATIONS'});\n\t\t\t});\n\t};\n};\n","import {createContext} from 'react';\n\nexport const UidContext = createContext(null);","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport { isEmpty } from '../Utils.js';\nimport { followUser, unfollowUser } from '../../actions/user.actions.js';\n\nconst FollowHandler = ({ idToFollow, type }) => {\n\n\tconst userData = useSelector(state => state.userReducer);\n\tconst [isFollowed, setIsFollowed] = useState(false);\n\tconst dispatch = useDispatch();\n\n\tconst handleFollow = () => {\n\t\tdispatch(followUser(userData._id, idToFollow));\n\t\tsetIsFollowed(true);\n\t};\n\n\tconst handleUnfollow = () => {\n\t\tdispatch(unfollowUser(userData._id, idToFollow));\n\t\tsetIsFollowed(false);\n\t};\n\n\tuseEffect(() => {\n\t\tif (!isEmpty(userData.following)) {\n\t\t\tif (userData.following.includes(idToFollow)) {\n\t\t\t\tsetIsFollowed(true);\n\t\t\t} else {\n\t\t\t\tsetIsFollowed(false);\n\t\t\t}\n\t\t}\n\t}, [userData, idToFollow]);\n\n\treturn (\n\t\t<>\n\t\t\t{isFollowed && !isEmpty(userData) && (\n\t\t\t\t<span onClick={handleUnfollow}>\n\t\t\t\t\t{type === 'suggestion' && <button className=\"unfollow-btn\">Abonn√©</button>}\n\t\t\t\t\t{type === 'card' && <img src={__dirname + './img/icons/checked.svg'} alt=\"checked\" />}\n\t\t\t\t</span>\n\t\t\t)}\n\t\t\t{!isFollowed && !isEmpty(userData) && (\n\t\t\t\t<span onClick={handleFollow}>\n\t\t\t\t\t{type === 'suggestion' && <button className=\"follow-btn\">Suivre</button>}\n\t\t\t\t\t{type === 'card' && <img src={__dirname + './img/icons/check.svg'} alt=\"check\" />}\n\t\t\t\t</span>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default FollowHandler;","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nconst LeftNav = () => {\n\treturn (\n\t\t<div className=\"left-nav-container\">\n\t\t\t<div className=\"icons\">\n\t\t\t\t<div className=\"icons-bis\">\n\t\t\t\t\t<NavLink exact to='/' activeClassName=\"active-left-nav\">\n\t\t\t\t\t\t<img src={__dirname + 'img/icons/home.svg'} alt=\"home\"/>\n\t\t\t\t\t</NavLink>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<NavLink exact to='/my-follow' activeClassName=\"active-left-nav\">\n\t\t\t\t\t\t<img src={__dirname + 'img/icons/check.svg'} alt=\"check\"/>\n\t\t\t\t\t</NavLink>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<NavLink exact to='/trending' activeClassName=\"active-left-nav\">\n\t\t\t\t\t\t<img src={__dirname + 'img/icons/rocket.svg'} alt=\"rocket\"/>\n\t\t\t\t\t</NavLink>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<NavLink exact to='/profil' activeClassName=\"active-left-nav\">\n\t\t\t\t\t\t<img src={__dirname + 'img/icons/user.svg'} alt=\"user\"/>\n\t\t\t\t\t</NavLink>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default LeftNav;","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { dateParser, isEmpty } from '../Utils.js';\nimport FollowHandler from '../profil/FollowHandler.jsx';\nimport LikeButton from './LikeButton.jsx';\nimport { updatePost } from '../../actions/post.action.js';\nimport DeleteCard from './DeleteCard.jsx';\nimport CardComments from './CardComments.jsx';\nimport { NavLink } from 'react-router-dom';\n\nconst Card = ({post}) => {\n\n\tconst [isLoading, setIsLoading] = useState(true);\n\tconst [isUpdated, setIsUpdated] = useState(false);\n\tconst [textUpdate, setTextUpdate] = useState(null);\n\tconst [showComments, setShowComments] = useState(false);\n\tconst usersData = useSelector(state => state.usersReducer);\n\tconst userData = useSelector(state => state.userReducer);\n\tconst dispatch = useDispatch();\n\n\tconst updateItem = () => {\n\t\tif (textUpdate) {\n\t\t\tdispatch(updatePost(post._id, textUpdate));\n\t\t}\n\t\tsetIsUpdated(false);\n\t};\n\n\tuseEffect(() => {\n\t\tif (!isEmpty(usersData[0])) {\n\t\t\tsetIsLoading(false);\n\t\t}\n\t}, [usersData]);\n\n\treturn (\n\t\t<li className=\"card-container\">\n\t\t\t{isLoading ? (\n\t\t\t\t<i className=\"fas fa-spinner fa-spin\"/>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"card-left\">\n\t\t\t\t\t\t{!isEmpty(usersData[0]) && usersData.map(user => {\n\t\t\t\t\t\t\tif (user._id === post.posterId) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<NavLink key={user._id} exact to={`/public-profil/${user._id}`}>\n\t\t\t\t\t\t\t\t\t\t<img src={__dirname + user.picture} alt={user.picture}/>\n\t\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else return null;\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"card-right\">\n\t\t\t\t\t\t<div className=\"card-header\">\n\t\t\t\t\t\t\t<div className=\"pseudo\">\n\t\t\t\t\t\t\t\t{!isEmpty(usersData[0]) && usersData.map(user => {\n\t\t\t\t\t\t\t\t\tif (user._id === post.posterId) {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<h3 key={user._id}>{user.pseudo}</h3>\n\t\t\t\t\t\t\t\t\t\t\t\t{post.posterId !== userData._id && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FollowHandler key={user.posterId} idToFollow={post.posterId} type={'card'}/>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else return null;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span>{dateParser(post.createdAt)}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{!isUpdated && <p>{post.message}</p>}\n\t\t\t\t\t\t{isUpdated && (\n\t\t\t\t\t\t\t<div className=\"update-post\">\n\t\t\t\t\t\t\t\t<textarea defaultValue={post.message} onChange={(e) => setTextUpdate(e.target.value)}/>\n\t\t\t\t\t\t\t\t<div className=\"button-container\">\n\t\t\t\t\t\t\t\t\t<button className=\"btn\" onClick={updateItem}>Valider modifications</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{post.picture && (\n\t\t\t\t\t\t\t<img src={__dirname + post.picture} alt={post.picture} className=\"card-pic\"/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{post.video && (\n\t\t\t\t\t\t\t<iframe width=\"500\" height=\"300\" src={post.video} frameBorder=\"0\" title={post._id} allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{userData._id === post.posterId && (\n\t\t\t\t\t\t\t<div className=\"button-container\">\n\t\t\t\t\t\t\t\t<div onClick={() => setIsUpdated(!isUpdated)}>\n\t\t\t\t\t\t\t\t\t<img src={__dirname + './img/icons/edit.svg'} alt=\"edit\"/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<DeleteCard id={post._id}/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div className=\"card-footer\">\n\t\t\t\t\t\t\t<LikeButton post={post}/>\n\t\t\t\t\t\t\t<div className=\"comment-icon\">\n\t\t\t\t\t\t\t\t<img onClick={() => setShowComments(!showComments)} src={__dirname + './img/icons/message1.svg'} alt=\"comment\"/>\n\t\t\t\t\t\t\t\t{post.comments && <span>{post.comments.length}</span>}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{showComments && <CardComments post={post}/>}\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</li>\n\t);\n};\n\nexport default Card;","export const dateParser = (date) => {\n\tlet options = {\n\t\thour: '2-digit',\n\t\tminute: '2-digit',\n\t\tsecond: '2-digit',\n\t\tweekday: 'long',\n\t\tyear: 'numeric',\n\t\tmonth: 'short',\n\t\tday: 'numeric'\n\t};\n\n\tlet timestamp = Date.parse(date);\n\n\tlet dateFormatted = new Date(timestamp).toLocaleDateString('fr-FR', options);\n\n\treturn dateFormatted.toString();\n};\n\nexport const timestampParser = (tsp) => {\n\tlet options = {\n\t\thour: '2-digit',\n\t\tminute: '2-digit',\n\t\tsecond: '2-digit',\n\t\tweekday: 'long',\n\t\tyear: 'numeric',\n\t\tmonth: 'short',\n\t\tday: 'numeric'\n\t};\n\n\tlet date = new Date(tsp).toLocaleDateString('fr-FR', options);\n\n\treturn date.toString();\n};\n\nexport const isEmpty = (value) => {\n\treturn value === undefined ||\n        value === null ||\n        (typeof value === 'object' && Object.keys(value).length === 0) ||\n        (typeof value === 'string' && value.trim().length === 0);\n};","import React from 'react';\nimport { useState, useEffect, useContext } from 'react';\nimport { UidContext } from '../AppContext.jsx';\nimport Popup from 'reactjs-popup';\nimport 'reactjs-popup/dist/index.css';\nimport { useDispatch } from 'react-redux';\nimport { likePost, unlikePost } from '../../actions/post.action.js';\n\nconst LikeButton = ({ post }) => {\n\n\tconst [liked, setLiked] = useState(false);\n\tconst uid = useContext(UidContext);\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tif (post.likers.includes(uid)) {\n\t\t\tsetLiked(true);\n\t\t} else {\n\t\t\tsetLiked(false);\n\t\t}\n\t}, [uid, liked, post.likers]);\n\n\tconst like = () => {\n\t\tdispatch(likePost(post._id, uid));\n\t\tsetLiked(true);\n\t};\n\n\tconst unlike = () => {\n\t\tdispatch(unlikePost(post._id, uid));\n\t\tsetLiked(false);\n\t};\n\n\treturn (\n\t\t<div className=\"like-container\">\n\t\t\t{uid === null && (\n\t\t\t\t<Popup\n\t\t\t\t\ttrigger={<img src={__dirname + './img/icons/heart.svg'} alt=\"like\"/>}\n\t\t\t\t\tposition={['bottom center', 'bottom right', 'bottom left']}\n\t\t\t\t\tcloseDocumentClick\n\t\t\t\t>\n\t\t\t\t\t<div style={{textAlign: 'center'}}>Connectez-vous pour liker un post !</div>\n\t\t\t\t</Popup>\n\t\t\t)}\n\t\t\t{uid && !liked && (\n\t\t\t\t<img onClick={like} src={__dirname + './img/icons/heart.svg'} alt=\"like\"/>\n\t\t\t)}\n\t\t\t{uid && liked && (\n\t\t\t\t<img onClick={unlike} src={__dirname + './img/icons/heart-filled.svg'} alt=\"like\"/>\n\t\t\t)}\n\t\t\t<span>{post.likers && post.likers.length}</span>\n\t\t</div>\n\t);\n};\n\nexport default LikeButton;","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { deletePost } from '../../actions/post.action.js';\n\nconst DeleteCard = ({id}) => {\n\tconst dispatch = useDispatch();\n\n\tconst deleteQuote = () => {\n\t\tdispatch(deletePost(id));\n\t};\n\n\treturn (\n\t\t<div onClick={() => {\n\t\t\tif (window.confirm('Voulez-vous supprimer cet article ?')) {\n\t\t\t\tdeleteQuote();\n\t\t\t}\n\t\t}}>\n\t\t\t<img src={__dirname + './img/icons/trash.svg'} alt=\"trash\"/>\n\t\t</div>\n\t);\n};\n\nexport default DeleteCard;","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useState } from 'react';\nimport { isEmpty, timestampParser } from '../Utils.js';\nimport FollowHandler from '../profil/FollowHandler.jsx';\nimport { addComment, getPosts } from '../../actions/post.action.js';\nimport EditDeleteComment from './EditDeleteComment.jsx';\n\nconst CardComments = ({ post }) => {\n\n\tconst [text, setText] = useState('');\n\tconst usersData = useSelector(state => state.usersReducer);\n\tconst userData = useSelector(state => state.userReducer);\n\tconst dispatch = useDispatch();\n    \n\tconst handleComment = (e) => {\n\t\te.preventDefault();\n\t\tif (text) {\n\t\t\tdispatch(addComment(post._id, userData._id, text, userData.pseudo))\n\t\t\t\t.then(() => dispatch(getPosts()))\n\t\t\t\t.then(() => setText(''))\n\t\t\t\t.catch(err => console.log({ err }));\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"comments-container\">\n\t\t\t{post.comments.map(comment => (\n\t\t\t\t<div key={comment._id} className={comment.commenterId === userData._id ? 'comment-container client' : 'comment-container'}>\n\t\t\t\t\t<div className=\"left-part\">\n\t\t\t\t\t\t{!isEmpty(usersData[0]) && usersData.map(user => {\n\t\t\t\t\t\t\tif (user._id === comment.commenterId) {\n\t\t\t\t\t\t\t\treturn <img key={comment.commenterId} src={__dirname + user.picture} alt={comment.commenterId} />;\n\t\t\t\t\t\t\t} else return null;\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"right-part\">\n\t\t\t\t\t\t<div className=\"comment-header\">\n\t\t\t\t\t\t\t<div className=\"pseudo\">\n\t\t\t\t\t\t\t\t<h3>{comment.commenterPseudo}</h3>\n\t\t\t\t\t\t\t\t{comment.commenterId !== userData._id && (\n\t\t\t\t\t\t\t\t\t<FollowHandler idToFollow={comment.commenterId} type={'card'} />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span>{timestampParser(comment.timestamp)}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p>{comment.text}</p>\n\t\t\t\t\t\t<EditDeleteComment comment={comment} postId={post._id}/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t\t{userData._id && (\n\t\t\t\t<form onSubmit={handleComment} className=\"comment-form\">\n\t\t\t\t\t<input type=\"text\" name=\"text\" onChange={(e) => setText(e.target.value)} value={text} placeholder=\"Laisser un commentaire\"/>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input type=\"submit\" value=\"Envoyer\" />\n\t\t\t\t</form>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default CardComments;","import axios from 'axios';\n\nexport const GET_POSTS = 'GET_POSTS';\nexport const GET_ALL_POST = 'GET_ALL_POST';\nexport const ADD_POST = 'ADD_POST';\nexport const LIKE_POST = 'LIKE_POST';\nexport const UNLIKE_POST = 'UNLIKE_POST';\nexport const UPDATE_POST = 'UPDATE_POST';\nexport const DELETE_POST = 'DELETE_POST';\n\nexport const ADD_COMMENT = 'ADD_COMMENT';\nexport const EDIT_COMMENT = 'EDIT_COMMENT';\nexport const DELETE_COMMENT = 'DELETE_COMMENT';\n\nexport const GET_TRENDS = 'GET_TRENDS';\n\nexport const GET_POST_ERRORS = 'GET_POST_ERRORS';\n\nexport const getPosts = (count) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'get',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post`\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\tconst dataLimit = res.data.slice(0, count);\n\t\t\t\tdispatch({type: GET_POSTS, payload: dataLimit});\n\t\t\t\tdispatch({type: GET_ALL_POST, payload: res.data});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const addPost = (data) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'post',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post`,\n\t\t\tdata: data\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res.data.errors) {\n\t\t\t\t\tdispatch({type: GET_POST_ERRORS, payload: res.data.errors});\n\t\t\t\t} else {\n\t\t\t\t\tdispatch({type: GET_POST_ERRORS, payload: ''});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const likePost = (postId, userId) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/like-post/${postId}`,\n\t\t\tdata: {id: userId}\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: LIKE_POST, payload: {postId, userId}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const unlikePost = (postId, userId) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/unlike-post/${postId}`,\n\t\t\tdata: {id: userId}\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: UNLIKE_POST, payload: {postId, userId}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const updatePost = (postId, message) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'put',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/${postId}`,\n\t\t\tdata: {message}\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: UPDATE_POST, payload: {message, postId}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const deletePost = (postId) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'delete',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/${postId}`,\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: DELETE_POST, payload: {postId}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const addComment = (postId, commenterId, text, commenterPseudo) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/comment-post/${postId}`,\n\t\t\tdata: {\n\t\t\t\tcommenterId,\n\t\t\t\ttext,\n\t\t\t\tcommenterPseudo\n\t\t\t}\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: ADD_COMMENT, payload: {postId}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const editComment = (postId, commentId, text) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/edit-comment-post/${postId}`,\n\t\t\tdata: {\n\t\t\t\tcommentId,\n\t\t\t\ttext\n\t\t\t}\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: EDIT_COMMENT, payload: {postId, commentId, text}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const deleteComment = (postId, commentId) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/delete-comment-post/${postId}`,\n\t\t\tdata: {commentId}\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: DELETE_COMMENT, payload: {postId, commentId}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const getTrends = (sortedArray) => {\n\treturn (dispatch) => {\n\t\tdispatch({type: GET_TRENDS, payload: sortedArray});\n\t};\n};","import React, { useContext, useEffect, useState } from 'react';\nimport { UidContext } from '../AppContext.jsx';\nimport { useDispatch } from 'react-redux';\nimport { deleteComment, editComment } from '../../actions/post.action.js';\n\nconst EditDeleteComment = ({comment, postId}) => {\n\n\tconst [isAuthor, setIsAuthor] = useState(false);\n\tconst [edit, setEdit] = useState(false);\n\tconst [text, setText] = useState('');\n\tconst uid = useContext(UidContext);\n\tconst dispatch = useDispatch();\n\n\tconst handleEdit = (e) => {\n\t\te.preventDefault();\n\t\tif (text) {\n\t\t\tdispatch(editComment(postId, comment._id, text));\n\t\t\tsetText('');\n\t\t\tsetEdit(false);\n\t\t}\n\t};\n\n\tconst handleDelete = () => {\n\t\tdispatch(deleteComment(postId, comment._id));\n\t};\n\n\tuseEffect(() => {\n\t\tconst checkAuthor = () => {\n\t\t\tif (uid === comment.commenterId) {\n\t\t\t\tsetIsAuthor(true);\n\t\t\t}\n\t\t};\n\t\tcheckAuthor();\n\t}, [uid, comment.commenterId]);\n\n\treturn (\n\t\t<div className=\"edit-comment\">\n\t\t\t{isAuthor && !edit && (\n\t\t\t\t<span onClick={() => setEdit(!edit)}>\n\t\t\t\t\t<img src={__dirname + './img/icons/edit.svg'} alt=\"edit\"/>\n\t\t\t\t</span>\n\t\t\t)}\n\t\t\t{isAuthor && edit && (\n\t\t\t\t<form className=\"edit-comment-form\" onSubmit={handleEdit}>\n\t\t\t\t\t<label htmlFor=\"text\" onClick={() => setEdit(!edit)}>Editer</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input type=\"text\" name=\"text\" onChange={(e) => setText(e.target.value)} defaultValue={comment.text}/>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<div className=\"btn\">\n\t\t\t\t\t\t<span onClick={() => {\n\t\t\t\t\t\t\tif (window.confirm('Voulez-vous supprimer ce commentaire ?')) {\n\t\t\t\t\t\t\t\thandleDelete();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<img src={__dirname + './img/icons/trash.svg'} alt=\"trash\"/>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<input type=\"submit\" value=\"Valider les modifications\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default EditDeleteComment;","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { UidContext } from './AppContext.jsx';\nimport { useContext } from 'react';\nimport Logout from './log/Logout.jsx';\nimport { useSelector } from 'react-redux';\nimport Notifications from './Notifications.jsx';\n\nconst Navbar = () => {\n\n\tconst uid = useContext(UidContext);\n\tconst userData = useSelector(state => state.userReducer);\n\n\treturn (\n\t\t<nav>\n\t\t\t<div className=\"nav-container\">\n\t\t\t\t<div className=\"logo\">\n\t\t\t\t\t<NavLink exact to=\"/\">\n\t\t\t\t\t\t<div className=\"logo\">\n\t\t\t\t\t\t\t<img src={__dirname + 'img/icon.png'} alt=\"logo\"/>\n\t\t\t\t\t\t\t<h3>Pineapple</h3>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</NavLink>\n\t\t\t\t</div>\n\t\t\t\t{uid ? (\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li/>\n\t\t\t\t\t\t<li className=\"welcome\">\n\t\t\t\t\t\t\t<NavLink exact to=\"/profil\">\n\t\t\t\t\t\t\t\t<h5>{userData.pseudo}</h5>\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<Notifications userData={userData}/>\n\t\t\t\t\t\t<Logout/>\n\t\t\t\t\t</ul>\n\t\t\t\t) : (\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li/>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<NavLink exact to=\"/profil\">\n\t\t\t\t\t\t\t\t<img src={__dirname + 'img/icons/login.svg'} alt=\"logo\"/>\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</nav>\n\t);\n};\n\nexport default Navbar;\n","import React from 'react';\nimport axios from 'axios';\nimport cookie from 'js-cookie';\n\nconst Logout = () => {\n\n\tconst removeCookie = (key) => {\n\t\tif (window !== undefined) {\n\t\t\tcookie.remove(key, {expires: 1});\n\t\t}\n\t};\n\n\tconst logout = async () => {\n\t\tawait axios({\n\t\t\tmethod: 'get',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/user/logout`,\n\t\t\twithCredentials: true\n\t\t})\n\t\t\t.then(() => removeCookie('jwt'))\n\t\t\t.catch(err => console.log({ err }));\n\n\t\twindow.location = '/';\n\t};\n\n\treturn (\n\t\t<li onClick={logout}>\n\t\t\t<img src={__dirname + 'img/icons/logout.svg'} alt=\"Logout\"/>\n\t\t</li>\n\t);\n};\n\nexport default Logout;","import React, { useContext, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { isEmpty } from './Utils.js';\nimport { NavLink } from 'react-router-dom';\nimport { clearNotifications } from '../actions/user.actions.js';\nimport { UidContext } from './AppContext.jsx';\n\nconst Notifications = ({userData}) => {\n\n\tconst [showListNotifications, setShowListNotifications] = useState(false);\n\n\tconst uid = useContext(UidContext);\n\tconst usersData = useSelector(state => state.usersReducer);\n\tconst dispatch = useDispatch();\n\n\treturn (\n\t\t<div className=\"notifications\">\n\t\t\t<img onClick={() => setShowListNotifications(!showListNotifications)} src={__dirname + 'img/icons/bell.png'} alt=\"Bell\"/>\n\t\t\t{\n\t\t\t\t!isEmpty(userData.notifications) && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<span>{userData.notifications.length}</span>\n\t\t\t\t\t\t{showListNotifications &&\n\t\t\t\t\t\t<NotificationsList uid={uid} notifications={userData.notifications} usersData={usersData} onClose={setShowListNotifications} dispatch={dispatch}/>\n\t\t\t\t\t\t}\n\t\t\t\t\t</>\n\t\t\t\t)\n\t\t\t}\n\t\t\t{\n\t\t\t\tisEmpty(userData.notifications) && showListNotifications && (\n\t\t\t\t\t<div className=\"notifications-list\">\n\t\t\t\t\t\t<div className=\"list-item\">\n\t\t\t\t\t\t\t<h6>Rien de neuf pour le moment !</h6>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\t\t</div>\n\t);\n};\n\nconst NotificationsList = ({uid, notifications, usersData, onClose, dispatch}) => {\n\n\tconst clear = () => {\n\t\tdispatch(clearNotifications(uid));\n\t\tonClose();\n\t};\n\n\treturn (\n\t\t<div className=\"notifications-list\">\n\t\t\t{usersData.map(user => notifications.includes(user._id) ? (\n\t\t\t\t<NavLink exact to={`/public-profil/${user._id}`} onClick={() => onClose()} key={user._id} className=\"list-item\">\n\t\t\t\t\t<img src={user.picture} alt={user._id}/>\n\t\t\t\t\t<p className=\"text-notif\"><strong>{user.pseudo}</strong> vous suit !</p>\n\t\t\t\t</NavLink>\n\t\t\t) : null)}\n\t\t\t<button onClick={clear}>Supprimer mes notifications</button>\n\t\t</div>\n\t);\n};\n\nexport default Notifications;\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport LeftNav from '../components/LeftNav.jsx';\nimport { dateParser, isEmpty } from '../components/Utils.js';\nimport FollowHandler from '../components/profil/FollowHandler.jsx';\nimport Card from '../components/post/Card.jsx';\n\nconst PublicProfil = () => {\n\n\tconst [profilPublic, setProfilPublic] = useState([]);\n\tconst [posts, setPosts] = useState([]);\n\tconst usersData = useSelector(state => state.usersReducer);\n\tconst userPosts = useSelector(state => state.allPostReducer);\n\tlet {id} = useParams();\n\n\tuseEffect(() => {\n\t\tif (!isEmpty(usersData[0]) && !isEmpty(userPosts[0]) && id) {\n\t\t\tsetProfilPublic(usersData.filter(user => user._id === id));\n\t\t\tsetPosts(userPosts.filter(post => post.posterId === id));\n\t\t}\n\t}, [usersData, userPosts, id]);\n\n\n\treturn (\n\t\t<div className=\"public-profil\">\n\t\t\t{!isEmpty(profilPublic) ? (\n\t\t\t\t<div className=\"public-profil__container\">\n\t\t\t\t\t<h1>Profil de {profilPublic[0].pseudo}</h1>\n\t\t\t\t\t<LeftNav/>\n\t\t\t\t\t<div className=\"part-container\">\n\t\t\t\t\t\t<div className=\"left-part-profil\">\n\t\t\t\t\t\t\t<img src={__dirname + profilPublic[0].picture} alt=\"Profil picture\"/>\n\t\t\t\t\t\t\t<h3>Bio :</h3>\n\t\t\t\t\t\t\t<p className=\"bio\">{profilPublic[0].bio}</p>\n\t\t\t\t\t\t\t<h4 className=\"createdAt\">Membre depuis le : {dateParser(profilPublic[0].createdAt)}</h4>\n\t\t\t\t\t\t\t<div className=\"data\">\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<span>{profilPublic[0].following ? profilPublic[0].following.length : 0}</span>\n\t\t\t\t\t\t\t\t\t&nbsp;Abonnement{profilPublic[0].following && profilPublic[0].following.length > 1 ? 's' : null}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<span>{profilPublic[0].followers ? profilPublic[0].followers.length : 0}</span>\n\t\t\t\t\t\t\t\t\t&nbsp;Abonn√©{profilPublic[0].followers && profilPublic[0].followers.length > 1 ? 's' : null}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"btn-follow\">\n\t\t\t\t\t\t\t\t<FollowHandler idToFollow={profilPublic[0]._id} type={'suggestion'}/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"right-part-profil\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t{!isEmpty(posts) && posts.map(post => (\n\t\t\t\t\t\t\t\t\t<Card key={post._id} post={post}/>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"public-profil\">\n\t\t\t\t\t<h1>L'utilisateur n'existe pas...</h1>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t</div>\n\t);\n};\n\nexport default PublicProfil;","import React from 'react';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getPosts } from '../actions/post.action.js';\nimport { isEmpty } from './Utils.js';\nimport Card from './post/Card.jsx';\n\nconst Thread = () => {\n\n\tconst [loadPost, setLoadPost] = useState(true);\n\tconst [count, setCount] = useState(5);\n\tconst dispatch = useDispatch();\n\tconst posts = useSelector(state => state.postReducer);\n\n\tconst loadMore = () => {\n\t\tif (window.innerHeight + document.documentElement.scrollTop + 1 > document.scrollingElement.scrollHeight) {\n\t\t\tsetLoadPost(true);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (loadPost) {\n\t\t\tdispatch(getPosts(count));\n\t\t\tsetLoadPost(false);\n\t\t\tsetCount(count + 5);\n\t\t}\n\n\t\twindow.addEventListener('scroll', loadMore);\n\t\treturn () => window.removeEventListener;\n\n\t}, [dispatch, loadPost, count]);\n\n\treturn (\n\t\t<div className=\"thread-container\">\n\t\t\t<ul>\n\t\t\t\t{ !isEmpty(posts[0]) && (\n\t\t\t\t\tposts.map(post => {\n\t\t\t\t\t\treturn <Card key={post._id} post={post} />;\n\t\t\t\t\t})\n\t\t\t\t)}\n\t\t\t</ul>\n\t\t</div>\n\t);\n};\n\nexport default Thread;","import React from 'react';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useEffect } from 'react';\nimport { isEmpty, timestampParser } from '../Utils.js';\nimport { NavLink } from 'react-router-dom';\nimport { addPost, getPosts } from '../../actions/post.action.js';\n\nconst NewPost = () => {\n\n\tconst [isLoading, setIsLoading] = useState(true);\n\tconst [message, setMessage] = useState('');\n\tconst [postPicture, setPostPicture] = useState(null);\n\tconst [video, setVideo] = useState('');\n\tconst [file, setFile] = useState('');\n\n\tconst userData = useSelector(state => state.userReducer);\n\tconst error = useSelector(state => state.errorReducer.postError);\n\tconst dispatch = useDispatch();\n\n\tconst handlePost = async () => {\n\t\tif (message || postPicture || video) {\n\t\t\tconst data = new FormData();\n\t\t\tdata.append('posterId', userData._id);\n\t\t\tdata.append('message', message);\n\t\t\tif (file) {\n\t\t\t\tdata.append('file', file);\n\t\t\t}\n\t\t\tdata.append('video', video);\n\n\t\t\tawait dispatch(addPost(data));\n\t\t\tdispatch(getPosts());\n\n\t\t\tcancelPost();\n\n\t\t} else {\n\t\t\talert('Veuillez entrer un message');\n\t\t}\n\t};\n\n\tconst handlePicture = (e) => {\n\t\tsetPostPicture(URL.createObjectURL(e.target.files[0]));\n\t\tsetFile(e.target.files[0]);\n\t\tsetVideo('');\n\t};\n\n\tconst handleVideo = () => {\n\t\tlet findLink = message.split(' ');\n\t\tfor (let i = 0; i < findLink.length; i++) {\n\t\t\tif (findLink[i].includes('https://www.yout') || findLink[i].includes('https://yout')) {\n\t\t\t\tlet embed = findLink[i].replace('watch?v=', 'embed/');\n\t\t\t\tsetVideo(embed.split('&')[0]);\n\t\t\t\tfindLink.splice(i, 1);\n\t\t\t\tsetMessage(findLink.join(' '));\n\t\t\t\tsetPostPicture(null);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst cancelPost = () => {\n\t\tsetMessage('');\n\t\tsetPostPicture('');\n\t\tsetVideo('');\n\t\tsetFile('');\n\t};\n\n\tuseEffect(() => {\n\t\tif (!isEmpty(userData)) {\n\t\t\tsetIsLoading(false);\n\t\t}\n\t\thandleVideo();\n\t}, [userData, message, video]);\n\n\treturn (\n\t\t<div className=\"post-container\">\n\t\t\t{isLoading ? (\n\t\t\t\t<i className=\"fas fa-spinner fa-pulse\" />\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"data\">\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span>{userData.following ? userData.following.length : 0}</span>\n                            &nbsp;Abonnement{userData.following && userData.following.length > 1 ? 's' : null }\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span>{userData.followers ? userData.followers.length : 0}</span>\n                             &nbsp;Abonn√©{userData.followers && userData.followers.length > 1 ? 's' : null }\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<NavLink exact to=\"/profil\">\n\t\t\t\t\t\t<div className=\"user-info\">\n\t\t\t\t\t\t\t<img src={userData.picture} alt=\"profil\"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</NavLink>\n\t\t\t\t\t<div className=\"post-form\">\n\t\t\t\t\t\t<textarea name=\"message\" id=\"message\" placeholder=\"Quoi de neuf ?\" value={message} onChange={(e) => setMessage(e.target.value)} />\n\t\t\t\t\t\t{message || postPicture || video.length > 10 ? (\n\t\t\t\t\t\t\t<li className=\"card-container\">\n\t\t\t\t\t\t\t\t<div className=\"card-left\">\n\t\t\t\t\t\t\t\t\t<img src={userData.picture} alt=\"pic\"/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"card-right\">\n\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"pseudo\">\n\t\t\t\t\t\t\t\t\t\t\t<h3>{userData.pseudo}</h3>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<span>{timestampParser(Date.now())}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"content\">\n\t\t\t\t\t\t\t\t\t\t<p>{message}</p>\n\t\t\t\t\t\t\t\t\t\t{postPicture && (\n\t\t\t\t\t\t\t\t\t\t\t<img src={postPicture} alt=\"post-img\"/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{video && (\n\t\t\t\t\t\t\t\t\t\t\t<iframe title={video} src={video} frameBorder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypte-media; gyroscope; picture-in-picture\" allowFullScreen />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t) : null }\n\t\t\t\t\t\t<div className=\"footer-form\">\n\t\t\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t\t\t{isEmpty(video) && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<img src=\"./img/icons/picture.svg\" alt=\"pic\" />\n\t\t\t\t\t\t\t\t\t\t<input type=\"file\" id=\"file-upload\" name=\"file\" accept=\".jpg, .jpeg, .png\" onChange={handlePicture}/>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{video && (\n\t\t\t\t\t\t\t\t\t<button onClick={() => setVideo('')}>Supprimer video</button>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{!isEmpty(error.format) && (\n\t\t\t\t\t\t\t\t<p>{error.format}</p>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{!isEmpty(error.maxSize) && (\n\t\t\t\t\t\t\t\t<p>{error.maxSize}</p>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<div className=\"btn-send\">\n\t\t\t\t\t\t\t\t{message || postPicture || video.length > 5 ? (\n\t\t\t\t\t\t\t\t\t<button className=\"cancel\" onClick={cancelPost}>Annuler message</button>\n\t\t\t\t\t\t\t\t) : null }\n\t\t\t\t\t\t\t\t<button className=\"send\" onClick={handlePost}>Envoyer</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default NewPost;","import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst SignInForm = () => {\n\n\tconst [email, setEmail] = useState('');\n\tconst [password, setPassword] = useState('');\n\n\tconst handleLogin = (e) => {\n\t\te.preventDefault();\n\t\tconst emailError = document.querySelector('.email.error');\n\t\tconst passwordError = document.querySelector('.password.error');\n\n\t\taxios({\n\t\t\tmethod: 'post',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/user/login`,\n\t\t\twithCredentials: true,\n\t\t\tdata: {\n\t\t\t\temail: email,\n\t\t\t\tpassword: password\n\t\t\t},\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res.data.errors) {\n\t\t\t\t\temailError.innerHTML = res.data.errors.email;\n\t\t\t\t\tpasswordError.innerHTML = res.data.errors.password;\n\t\t\t\t} else {\n\t\t\t\t\twindow.location = '/';\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => console.log(err));\n\t};\n\n\treturn (\n\t\t<form onSubmit={handleLogin} id=\"sign-up-form\">\n\t\t\t<label htmlFor=\"email\">Email</label>\n\t\t\t<br/>\n\t\t\t<input onChange={(e) => setEmail(e.target.value)} type=\"text\" name=\"email\" id=\"email\" value={email}/>\n\t\t\t<div className=\"email error\" />\n\t\t\t<br/>\n\t\t\t<label htmlFor=\"password\">Mot de passe</label>\n\t\t\t<br/>\n\t\t\t<input onChange={(e) => setPassword(e.target.value)} type=\"password\" name=\"password\" id=\"password\" value={password}/>\n\t\t\t<div className=\"password error\" />\n\t\t\t<br/>\n\t\t\t<input type=\"submit\" value=\"Se connecter\"/>\n\t\t</form>\n\t);\n};\n\nexport default SignInForm;","import React from 'react';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport SignInForm from './SignInForm.jsx';\n\nconst SignUpForm = () => {\n\n\tconst [formSubmit, setFormSubmit] = useState(false);\n\tconst [pseudo, setPseudo] = useState('');\n\tconst [email, setEmail] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [controlPassword, setControlPassword] = useState('');\n\n\tconst handleRegister = async (e) => {\n\t\te.preventDefault();\n\t\tconst terms = document.getElementById('terms');\n\t\tconst pseudoError = document.querySelector('.pseudo.error');\n\t\tconst emailError = document.querySelector('.email.error');\n\t\tconst passwordError = document.querySelector('.password.error');\n\t\tconst passwordConfirmError = document.querySelector('.password-confirm.error');\n\t\tconst termsError = document.querySelector('.terms.error');\n\n\t\tpasswordConfirmError.innerHTML = '';\n\t\ttermsError.innerHTML = '';\n\n\t\tif (password !== controlPassword || !terms.checked) {\n\t\t\tif (password !== controlPassword) {\n\t\t\t\tpasswordConfirmError.innerHTML = 'Les mots de passe ne correspondent pas';\n\t\t\t}\n\t\t\tif (!terms.checked) {\n\t\t\t\ttermsError.innerHTML = 'Veuillez valider les conditions g√©n√©rales';\n\t\t\t}\n\t\t} else {\n\t\t\tawait axios({\n\t\t\t\tmethod: 'post',\n\t\t\t\turl: `${process.env.REACT_APP_API_URL}api/user/register`,\n\t\t\t\tdata: {\n\t\t\t\t\tpseudo,\n\t\t\t\t\temail,\n\t\t\t\t\tpassword\n\t\t\t\t}\n\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (res.data.errors) {\n\t\t\t\t\t\tpseudoError.innerHTML = res.data.errors.pseudo;\n\t\t\t\t\t\temailError.innerHTML = res.data.errors.email;\n\t\t\t\t\t\tpasswordError.innerHTML = res.data.errors.password;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetFormSubmit(true);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => console.log(err));\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{formSubmit ? (\n\t\t\t\t<>\n\t\t\t\t\t<SignInForm />\n\t\t\t\t\t<span />\n\t\t\t\t\t<h4 className=\"success\">Enregistrement r√©ussi, veuillez-vous connecter</h4>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<form onSubmit={handleRegister} id=\"sign-up-form\">\n\t\t\t\t\t<label htmlFor=\"pseudo\">Pseudo</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input onChange={(e) => setPseudo(e.target.value)} type=\"text\" name=\"pseudo\" id=\"pseudo\" value={pseudo}/>\n\t\t\t\t\t<div className=\"pseudo error\" />\n\t\t\t\t\t<br/>\n\t\t\t\t\t<label htmlFor=\"email\">Email</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input onChange={(e) => setEmail(e.target.value)} type=\"text\" name=\"email\" id=\"email\" value={email}/>\n\t\t\t\t\t<div className=\"email error\" />\n\t\t\t\t\t<br/>\n\t\t\t\t\t<label htmlFor=\"password\">Mot de passe</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input onChange={(e) => setPassword(e.target.value)} type=\"password\" name=\"password\" id=\"password\" value={password}/>\n\t\t\t\t\t<div className=\"password error\" />\n\t\t\t\t\t<br/>\n\t\t\t\t\t<label htmlFor=\"password-conf\">Confirmer mot de passe</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input onChange={(e) => setControlPassword(e.target.value)} type=\"password\" name=\"password-conf\" id=\"password-conf\" value={controlPassword}/>\n\t\t\t\t\t<div className=\"password-confirm error\" />\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input type=\"checkbox\" id=\"terms\" />\n\t\t\t\t\t<label htmlFor=\"terms\">J'accepte les <a href=\"/\" target=\"_blank\" rel=\"noopener noreferrer\">conditions g√©n√©rales</a></label>\n\t\t\t\t\t<div className=\"terms error\" />\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input type=\"submit\" value='Valider inscription'/>\n\t\t\t\t</form>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default SignUpForm;","import React, { useState } from 'react';\nimport SignInForm from './SignInForm.jsx';\nimport SignUpForm from './SignUpForm.jsx';\n\nconst Log = ({signIn, signUp}) => {\n\n\tconst [signUpModal, setSignUpModal] = useState(signUp);\n\tconst [signInModal, setSignInModal] = useState(signIn);\n\n\tconst handleModal = (e) => {\n\t\tif (e.target.id === 'register') {\n\t\t\tsetSignInModal(false);\n\t\t\tsetSignUpModal(true);\n\t\t} else if (e.target.id === 'login') {\n\t\t\tsetSignInModal(true);\n\t\t\tsetSignUpModal(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"connection-form\">\n\t\t\t<div className=\"form-container\">\n\t\t\t\t<ul>\n\t\t\t\t\t<li onClick={handleModal} id=\"register\" className={signUpModal ? 'active-btn' : null}>S'inscrire</li>\n\t\t\t\t\t<li onClick={handleModal} id=\"login\" className={signInModal ? 'active-btn' : null}>Se connecter</li>\n\t\t\t\t</ul>\n\t\t\t\t{signUpModal && <SignUpForm />}\n\t\t\t\t{signInModal && <SignInForm />}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Log;","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { isEmpty } from './Utils.js';\nimport { getTrends } from '../actions/post.action.js';\nimport { NavLink } from 'react-router-dom';\n\nconst Trends = () => {\n\n\tconst posts = useSelector(state => state.allPostReducer);\n\tconst usersData = useSelector(state => state.usersReducer);\n\tconst trendList = useSelector(state => state.trendingReducer);\n\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tif (!isEmpty(posts[0])) {\n\t\t\tconst postsArray = Object.keys(posts).map(i => posts[i]);\n\t\t\tlet sortedArray = postsArray.sort((a, b) => {\n\t\t\t\treturn b.likers.length - a.likers.length;\n\t\t\t});\n\t\t\tsortedArray.length = 3;\n\t\t\tdispatch(getTrends(sortedArray));\n\t\t}\n\t}, [posts, dispatch]);\n\n\treturn (\n\t\t<div className=\"trending-container\">\n\t\t\t<h4>Tendances</h4>\n\t\t\t<NavLink exact to=\"/trending\">\n\t\t\t\t<ul>\n\t\t\t\t\t{trendList.length && trendList.map(post => (\n\t\t\t\t\t\t<li key={post._id}>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{usersData[0] && usersData.map(user => {\n\t\t\t\t\t\t\t\t\tif (user._id === post.posterId) {\n\t\t\t\t\t\t\t\t\t\treturn <img key={user._id} src={user.picture} alt={user.picture}/>;\n\t\t\t\t\t\t\t\t\t} else return null;\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"trend-content\">\n\t\t\t\t\t\t\t\t<p>{post.message}</p>\n\t\t\t\t\t\t\t\t<span>Lire</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</NavLink>\n\t\t</div>\n\t);\n};\n\nexport default Trends;","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { isEmpty } from '../Utils.js';\nimport FollowHandler from './FollowHandler.jsx';\nimport { NavLink } from 'react-router-dom';\n\nconst FriendsHint = () => {\n\n\tconst [isLoading, setIsLoading] = useState(true);\n\tconst [playOne, setPlayOne] = useState(true);\n\tconst [friendsHint, setFriendsHint] = useState([]);\n\tconst userData = useSelector(state => state.userReducer);\n\tconst usersData = useSelector(state => state.usersReducer);\n\n\tuseEffect(() => {\n\t\tconst notFriendsList = () => {\n\t\t\tlet array = [];\n\t\t\tusersData.map(user => {\n\t\t\t\tif (user._id !== userData._id && !user.followers.includes(userData._id)) {\n\t\t\t\t\treturn array.push(user._id);\n\t\t\t\t}\n\t\t\t});\n\t\t\tarray.sort(() => 0.5 - Math.random());\n\t\t\tif (window.innerHeight > 780) {\n\t\t\t\tarray.length = 6;\n\t\t\t} else if (window.innerHeight > 720) {\n\t\t\t\tarray.length = 4;\n\t\t\t} else if (window.innerHeight > 615) {\n\t\t\t\tarray.length = 2;\n\t\t\t} else if (window.innerHeight > 540) {\n\t\t\t\tarray.length = 1;\n\t\t\t} else {\n\t\t\t\tarray.length = 0;\n\t\t\t}\n\t\t\tsetFriendsHint(array);\n\t\t};\n\n\t\tif (playOne && !isEmpty(usersData[0]) && !isEmpty(userData._id)) {\n\t\t\tnotFriendsList();\n\t\t\tsetIsLoading(false);\n\t\t\tsetPlayOne(false);\n\t\t}\n\t}, [userData, usersData]);\n\n\treturn (\n\t\t<div className=\"get-friends-container\">\n\t\t\t<h4>Suggestions</h4>\n\t\t\t{isLoading ? (\n\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t<i className=\"fas fa-spinner fa-pulse\"/>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<ul>\n\t\t\t\t\t{friendsHint.map(hint => {\n\t\t\t\t\t\tfor (let i = 0; i < usersData.length; i++) {\n\t\t\t\t\t\t\tif (hint === usersData[i]._id) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<li className=\"user-hint\" key={hint}>\n\t\t\t\t\t\t\t\t\t\t<NavLink exact to={`/public-profil/${usersData[i]._id}`}>\n\t\t\t\t\t\t\t\t\t\t\t<img src={usersData[i].picture} alt={usersData[i].picture}/>\n\t\t\t\t\t\t\t\t\t\t\t<p>{usersData[i].pseudo}</p>\n\t\t\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t\t\t\t<FollowHandler idToFollow={usersData[i]._id} type={'suggestion'}/>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default FriendsHint;","import React, { useContext } from 'react';\nimport LeftNav from '../components/LeftNav.jsx';\nimport Thread from '../components/Thread.jsx';\nimport { UidContext } from '../components/AppContext.jsx';\nimport NewPost from '../components/post/NewPost.jsx';\nimport Log from '../components/log/Log.jsx';\nimport Trends from '../components/Trends.jsx';\nimport FriendsHint from '../components/profil/FriendsHint.jsx';\n\nconst Home = () => {\n\n\tconst uid = useContext(UidContext);\n\n\treturn (\n\t\t<div className=\"home\">\n\t\t\t<LeftNav/>\n\t\t\t<div className=\"main\">\n\t\t\t\t<div className=\"home-header\">\n\t\t\t\t\t{uid ? <NewPost/> : <Log signIn={true} signUp={false}/>}\n\t\t\t\t</div>\n\t\t\t\t<Thread/>\n\t\t\t</div>\n\t\t\t<div className=\"right-side\">\n\t\t\t\t<div className=\"right-side-container\">\n\t\t\t\t\t<div className=\"wrapper\">\n\t\t\t\t\t\t<Trends />\n\t\t\t\t\t\t{uid && <FriendsHint/>}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>`\n\t\t</div>\n\t);\n};\n\nexport default Home;\n","import React from 'react';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { uploadPicture } from '../../actions/user.actions.js';\n\nconst UploadImg = () => {\n\n\tconst [file, setFile] = useState('');\n\tconst dispatch = useDispatch();\n\tconst userData = useSelector(state => state.userReducer);\n\n\tconst handlePicture = (e) => {\n\t\te.preventDefault();\n\t\tconst data = new FormData();\n\t\tdata.append('pseudo', userData.pseudo);\n\t\tdata.append('userId', userData._id);\n\t\tdata.append('file', file);\n\n\t\tdispatch(uploadPicture(data, userData._id));\n\t};\n\n\treturn (\n\t\t<form onSubmit={handlePicture} className=\"upload-pic\">\n\t\t\t<label htmlFor=\"file\">Changer d'image</label>\n\t\t\t<input onChange={(e) => setFile(e.target.files[0])} type=\"file\" id=\"file\" name=\"file\" accept=\".jpeg, .jpg, .png\"/>\n\t\t\t<br/>\n\t\t\t<input type=\"submit\" value=\"Envoyer\" />\n\t\t</form>\n\t);\n};\n\nexport default UploadImg;","import React from 'react';\nimport LeftNav from '../LeftNav.jsx';\nimport { useDispatch, useSelector } from 'react-redux';\nimport UploadImg from './UploadImg.jsx';\nimport { useState } from 'react';\nimport { updateBio } from '../../actions/user.actions.js';\nimport { dateParser } from '../Utils.js';\nimport FollowHandler from './FollowHandler.jsx';\n\nconst UpdateProfil = () => {\n\n\tconst [bio, setBio] = useState('');\n\tconst [updateForm, setUpdateForm] = useState(false);\n\tconst userData = useSelector(state => state.userReducer);\n\tconst usersData = useSelector(state => state.usersReducer);\n\tconst error = useSelector(state => state.errorReducer.userError);\n\tconst dispatch = useDispatch();\n\n\tconst [followingPopUp, setFollowingPopUp] = useState(false);\n\tconst [followersPopUp, setFollowersPopUp] = useState(false);\n\n\tconst handleUpdate = () => {\n\t\tdispatch(updateBio(userData._id, bio));\n\t\tsetUpdateForm(false);\n\t};\n\n\treturn (\n\t\t<div className=\"profil-container\">\n\t\t\t<LeftNav />\n\t\t\t<h1>Profil de {userData.pseudo}</h1>\n\t\t\t<div className=\"update-container\">\n\t\t\t\t<div className=\"left-part\">\n\t\t\t\t\t<h3>Photo de profil</h3>\n\t\t\t\t\t<img src={userData.picture} alt=\"user img\"/>\n\t\t\t\t\t<UploadImg />\n\t\t\t\t\t<p>{error.maxSize}</p>\n\t\t\t\t\t<p>{error.format}</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"right-part\">\n\t\t\t\t\t<div className=\"bio-update\">\n\t\t\t\t\t\t<h3>Bio</h3>\n\t\t\t\t\t\t{!updateForm && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<p onClick={() => setUpdateForm(!updateForm)}>{userData.bio}</p>\n\t\t\t\t\t\t\t\t<button onClick={() => setUpdateForm(!updateForm)}>Modifier bio</button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{updateForm && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<textarea onChange={(e) => setBio(e.target.value)} defaultValue={userData.bio} />\n\t\t\t\t\t\t\t\t<button onClick={handleUpdate}>Valider modifications</button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<h4>Membre depuis le : {dateParser(userData.createdAt)}</h4>\n\t\t\t\t\t<h5 onClick={() => setFollowingPopUp(true)}>\n                        Abonnements : {userData.following ? userData.following.length : null}\n\t\t\t\t\t</h5>\n\t\t\t\t\t<h5 onClick={() => setFollowersPopUp(true)}>\n                        Abonn√©s : {userData.followers ? userData.followers.length : null}\n\t\t\t\t\t</h5>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{followingPopUp && (\n\t\t\t\t<div className=\"popup-profil-container\">\n\t\t\t\t\t<div className=\"modal\">\n\t\t\t\t\t\t<h3>Abonnements</h3>\n\t\t\t\t\t\t<span onClick={() => setFollowingPopUp(false)} className=\"cross\">&#10005;</span>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t{usersData.map(user => {\n\t\t\t\t\t\t\t\tfor (let i = 0; i < userData.following.length; i++) {\n\t\t\t\t\t\t\t\t\tif (user._id === userData.following[i]) {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<li key={user._id}>\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={user.picture} alt=\"user-pic\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<h4>{user.pseudo}</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"follow-handler\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FollowHandler idToFollow={user._id} type={'suggestion'} />\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t{followersPopUp && (\n\t\t\t\t<div className=\"popup-profil-container\">\n\t\t\t\t\t<div className=\"modal\">\n\t\t\t\t\t\t<h3>Abonn√©s</h3>\n\t\t\t\t\t\t<span onClick={() => setFollowersPopUp(false)} className=\"cross\">&#10005;</span>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t{usersData.map(user => {\n\t\t\t\t\t\t\t\tfor (let i = 0; i < userData.followers.length; i++) {\n\t\t\t\t\t\t\t\t\tif (user._id === userData.followers[i]) {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<li key={user._id}>\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={user.picture} alt=\"user-pic\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<h4>{user.pseudo}</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"follow-handler\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FollowHandler idToFollow={user._id} type={'suggestion'} />\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default UpdateProfil;","import React from 'react';\nimport Log from '../components/log/Log.jsx';\nimport {UidContext} from '../components/AppContext.jsx';\nimport {useContext} from 'react';\nimport UpdateProfil from '../components/profil/UpdateProfil.jsx';\n\nconst Profil = () => {\n\n\tconst uid = useContext(UidContext);\n\n\treturn (\n\t\t<div className=\"profil-page\">\n\t\t\t{uid ? (\n\t\t\t\t<UpdateProfil />\n\t\t\t) : (\n\t\t\t\t<div className=\"log-container\">\n\t\t\t\t\t<Log signIn={false} signUp={true} />\n\t\t\t\t\t<div className=\"img-container\">\n\t\t\t\t\t\t<img src='./img/log.svg' alt=\"log\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Profil;","import React, { useContext } from 'react';\nimport { UidContext } from '../components/AppContext.jsx';\nimport { useSelector } from 'react-redux';\nimport LeftNav from '../components/LeftNav.jsx';\nimport { isEmpty } from '../components/Utils.js';\nimport Card from '../components/post/Card.jsx';\nimport Trends from '../components/Trends.jsx';\nimport FriendsHint from '../components/profil/FriendsHint.jsx';\n\nconst Trending = () => {\n\n\tconst uid = useContext(UidContext);\n\tconst trendList = useSelector(state => state.trendingReducer);\n\n\treturn (\n\t\t<div className=\"trending-page\">\n\t\t\t<LeftNav/>\n\t\t\t<div className=\"main\">\n\t\t\t\t<ul>\n\t\t\t\t\t{!isEmpty(trendList[0]) && trendList.map(post => (\n\t\t\t\t\t\t<Card post={post} key={post._id}/>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div className=\"right-side\">\n\t\t\t\t<div className=\"right-side-container\">\n\t\t\t\t\t<Trends />\n\t\t\t\t\t{uid && <FriendsHint/>}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Trending;","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { isEmpty } from './Utils.js';\nimport Card from './post/Card.jsx';\n\nconst FollowThread = () => {\n\n\tconst [postFollow, setPostFollow] = useState([]);\n\tconst posts = useSelector(state => state.allPostReducer);\n\tconst userData = useSelector(state => state.userReducer);\n\n\tuseEffect(() => {\n\t\tif (!isEmpty(userData) && !isEmpty(posts)) {\n\t\t\tlet arr = [];\n\t\t\tuserData.following.map(userId => {\n\t\t\t\tarr.push(posts.filter(post => post.posterId === userId));\n\t\t\t\tlet result = [];\n\t\t\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\t\t\tresult = result.concat(arr[i]);\n\t\t\t\t}\n\t\t\t\tconst sortResult = result.sort((a, b) => {\n\t\t\t\t\treturn new Date(b.updatedAt) - new Date(a.updatedAt);\n\t\t\t\t});\n\t\t\t\tsetPostFollow(sortResult);\n\t\t\t});\n\t\t}\n\t}, [userData, posts]);\n\n\n\treturn (\n\t\t<div className=\"thread-container\">\n\t\t\t<ul>\n\t\t\t\t{!isEmpty(postFollow) && postFollow.map(post => (\n\t\t\t\t\t<Card key={post._id} post={post}/>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</div>\n\t);\n};\n\nexport default FollowThread;","import React, { useContext } from 'react';\nimport { UidContext } from '../components/AppContext.jsx';\nimport LeftNav from '../components/LeftNav.jsx';\nimport NewPost from '../components/post/NewPost.jsx';\nimport Log from '../components/log/Log.jsx';\nimport Trends from '../components/Trends.jsx';\nimport FriendsHint from '../components/profil/FriendsHint.jsx';\nimport FollowThread from '../components/FollowThread.jsx';\n\nconst MyFollow = () => {\n\n\tconst uid = useContext(UidContext);\n\n\treturn (\n\t\t<div className=\"home\">\n\t\t\t<LeftNav/>\n\t\t\t<div className=\"main\">\n\t\t\t\t<div className=\"home-header\">\n\t\t\t\t\t{uid ? <NewPost/> : <Log signIn={true} signUp={false}/>}\n\t\t\t\t</div>\n\t\t\t\t{uid && <FollowThread/>}\n\t\t\t</div>\n\t\t\t<div className=\"right-side\">\n\t\t\t\t<div className=\"right-side-container\">\n\t\t\t\t\t<div className=\"wrapper\">\n\t\t\t\t\t\t<Trends/>\n\t\t\t\t\t\t{uid && <FriendsHint/>}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default MyFollow;","import React from 'react';\nimport { BrowserRouter as Router, Redirect, Route, Switch } from 'react-router-dom';\n\nimport Home from '../../pages/Home';\nimport Profil from '../../pages/Profil';\nimport Trending from '../../pages/Trending.jsx';\nimport Navbar from '../Navbar.jsx';\nimport PublicProfil from '../../pages/PublicProfil.jsx';\nimport MyFollow from '../../pages/MyFollow.jsx';\n\nconst Index = () => {\n\treturn (\n\t\t<Router>\n\t\t\t<Navbar/>\n\t\t\t<Switch>\n\t\t\t\t<Route exact path=\"/\" component={Home}/>\n\t\t\t\t<Route exact path=\"/profil\" component={Profil}/>\n\t\t\t\t<Route exact path=\"/public-profil/:id\" component={PublicProfil}/>\n\t\t\t\t<Route exact path=\"/trending\" component={Trending}/>\n\t\t\t\t<Route exact path=\"/my-follow\" component={MyFollow}/>\n\t\t\t\t<Redirect to='/'/>\n\t\t\t</Switch>\n\t\t</Router>\n\t);\n};\n\nexport default Index;","import React, { useState, useEffect }  from 'react';\nimport Routes from './components/routes';\nimport {UidContext} from './components/AppContext.jsx';\nimport axios from 'axios';\nimport { useDispatch } from 'react-redux';\nimport { getUser } from './actions/user.actions.js';\n\nconst App = () => {\n\n\tconst [uid, setuid] = useState(null);\n\tconst dispatch = useDispatch();\n\n\tuseEffect( () => {\n\t\tconst fetchToken = async () => {\n\t\t\tawait axios({\n\t\t\t\tmethod: 'get',\n\t\t\t\turl: `${process.env.REACT_APP_API_URL}jwtid`,\n\t\t\t\twithCredentials: true\n\t\t\t})\n\t\t\t\t.then(res => setuid(res.data))\n\t\t\t\t.catch(err => console.log(err));\n\t\t};\n\t\tfetchToken()\n\t\t\t.then(() => console.log('Uid confirm'))\n\t\t\t.catch(err => console.log(err));\n\n\t\tif (uid) {\n\t\t\tdispatch(getUser(uid));\n\t\t}\n\t}, [uid, dispatch]);\n\n\treturn (\n\t\t<UidContext.Provider value={uid}>\n\t\t\t<Routes/>\n\t\t</UidContext.Provider>\n\t);\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n\tif (onPerfEntry && onPerfEntry instanceof Function) {\n\t\timport('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n\t\t\tgetCLS(onPerfEntry);\n\t\t\tgetFID(onPerfEntry);\n\t\t\tgetFCP(onPerfEntry);\n\t\t\tgetLCP(onPerfEntry);\n\t\t\tgetTTFB(onPerfEntry);\n\t\t});\n\t}\n};\n\nexport default reportWebVitals;\n","import {\n\tCLEAR_NOTIFICATIONS,\n\tFOLLOW_USER,\n\tGET_USER,\n\tUNFOLLOW_USER,\n\tUPDATE_BIO,\n\tUPLOAD_PICTURE\n} from '../actions/user.actions.js';\n\nconst initialState = {};\n\nexport default function userReducer(state = initialState, action) {\n\tswitch (action.type) {\n\tcase GET_USER:\n\t\treturn action.payload;\n\tcase UPLOAD_PICTURE:\n\t\treturn {\n\t\t\t...state,\n\t\t\tpicture: action.payload\n\t\t};\n\tcase UPDATE_BIO:\n\t\treturn {\n\t\t\t...state,\n\t\t\tbio: action.payload\n\t\t};\n\tcase FOLLOW_USER:\n\t\treturn {\n\t\t\t...state,\n\t\t\tfollowing: [action.payload.idToFollow, ...state.following]\n\t\t};\n\tcase UNFOLLOW_USER:\n\t\treturn {\n\t\t\t...state,\n\t\t\tfollowing: state.following.filter(id => id !== action.payload.idToUnfollow)\n\t\t};\n\tcase CLEAR_NOTIFICATIONS:\n\t\treturn {\n\t\t\t...state,\n\t\t\tnotifications: []\n\t\t};\n\tdefault:\n\t\treturn state;\n\t}\n}\n","import axios from 'axios';\n\nexport const GET_USERS = 'GET_USERS';\n\nexport const getUsers = () => {\n\treturn (dispatch) => {\n\t\treturn axios\n\t\t\t.get(`${process.env.REACT_APP_API_URL}api/user`)\n\t\t\t.then(res => {\n\t\t\t\tdispatch({ type: GET_USERS, payload: res.data});\n\t\t\t})\n\t\t\t.catch(err => console.log({ err }));\n\t};\n};","import { GET_USERS } from '../actions/users.actions.js';\n\nconst initialState = {};\n\nexport default function usersReducer(state = initialState, action) {\n\tswitch (action.type) {\n\tcase GET_USERS:\n\t\treturn action.payload;\n\tdefault:\n\t\treturn state;\n\t}\n}","import {\n\tDELETE_COMMENT,\n\tDELETE_POST,\n\tEDIT_COMMENT,\n\tGET_POSTS,\n\tLIKE_POST,\n\tUNLIKE_POST,\n\tUPDATE_POST\n} from '../actions/post.action.js';\n\nconst initialState = {};\n\nexport default function postReducer (state = initialState, action) {\n\tswitch (action.type) {\n\tcase GET_POSTS:\n\t\treturn action.payload;\n\tcase LIKE_POST:\n\t\treturn state.map(post => {\n\t\t\tif (post._id === action.payload.postId) {\n\t\t\t\treturn {\n\t\t\t\t\t...post,\n\t\t\t\t\tlikers: [action.payload.userId, ...post.likers]\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn post;\n\t\t});\n\tcase UNLIKE_POST:\n\t\treturn state.map(post => {\n\t\t\tif (post._id === action.payload.postId) {\n\t\t\t\treturn {\n\t\t\t\t\t...post,\n\t\t\t\t\tlikers: post.likers.filter(id => id !== action.payload.userId)\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn post;\n\t\t});\n\tcase UPDATE_POST:\n\t\treturn state.map(post => {\n\t\t\tif (post._id === action.payload.postId) {\n\t\t\t\treturn {\n\t\t\t\t\t...post,\n\t\t\t\t\tmessage: action.payload.message\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn post;\n\t\t});\n\tcase DELETE_POST:\n\t\treturn state.filter(post => post._id !== action.payload.postId);\n\tcase EDIT_COMMENT:\n\t\treturn state.map(post => {\n\t\t\tif (post._id === action.payload.postId) {\n\t\t\t\treturn {\n\t\t\t\t\t...post,\n\t\t\t\t\tcomments: post.comments.map(comment => {\n\t\t\t\t\t\tif (comment._id === action.payload.commentId) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...comment,\n\t\t\t\t\t\t\t\ttext: action.payload.text\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} else return comment;\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t} else return post;\n\t\t});\n\tcase DELETE_COMMENT:\n\t\treturn state.map(post => {\n\t\t\tif (post._id === action.payload.postId) {\n\t\t\t\treturn {\n\t\t\t\t\t...post,\n\t\t\t\t\tcomments: post.comments.filter(comment => comment._id !== action.payload.commentId)\n\t\t\t\t};\n\t\t\t} else return post;\n\t\t});\n\tdefault:\n\t\treturn state;\n\t}\n}","import { GET_POST_ERRORS } from '../actions/post.action.js';\nimport { GET_USER_ERRORS } from '../actions/user.actions.js';\n\nconst initialState = {postError: [], userError: []};\n\nexport default function errorReducer(state = initialState, action) {\n\tswitch (action.type) {\n\tcase GET_POST_ERRORS:\n\t\treturn {\n\t\t\tpostError: action.payload,\n\t\t\tuserError: []\n\t\t};\n\tcase GET_USER_ERRORS:\n\t\treturn {\n\t\t\tuserError: action.payload,\n\t\t\tpostError: []\n\t\t};\n\tdefault:\n\t\treturn state;\n\t}\n}","import { GET_ALL_POST } from '../actions/post.action.js';\n\nconst initialState = {};\n\nexport default function allPostReducer (state = initialState, action) {\n\tswitch (action.type) {\n\tcase GET_ALL_POST:\n\t\treturn action.payload;\n\tdefault:\n\t\treturn state;\n\t}\n}","import { GET_TRENDS } from '../actions/post.action.js';\n\nconst initialState = {};\n\nexport default function trendingReducer (state = initialState, action) {\n\tswitch (action.type) {\n\tcase GET_TRENDS:\n\t\treturn action.payload;\n\tdefault:\n\t\treturn state;\n\t}\n}","import { combineReducers } from 'redux';\nimport userReducer from './user.reducer.js';\nimport usersReducer from './users.reducer.js';\nimport postReducer from './post.reducer.js';\nimport errorReducer from './error.reducer.js';\nimport allPostReducer from './allPost.reducer.js';\nimport trendingReducer from './trending.reducer.js';\n\nexport default combineReducers({\n\tuserReducer,\n\tusersReducer,\n\tpostReducer,\n\terrorReducer,\n\tallPostReducer,\n\ttrendingReducer,\n});","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport { Provider } from 'react-redux';\nimport { applyMiddleware, createStore } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\nimport { getUsers } from './actions/users.actions.js';\nimport { getPosts } from './actions/post.action.js';\n\nconst store = createStore(\n\trootReducer, composeWithDevTools(applyMiddleware(thunk))\n);\n\nstore.dispatch(getUsers());\nstore.dispatch(getPosts());\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}