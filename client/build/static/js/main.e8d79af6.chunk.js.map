{"version":3,"sources":["actions/user.actions.js","components/AppContext.jsx","components/profil/FollowHandler.jsx","components/LeftNav.jsx","components/post/Card.jsx","components/Utils.js","components/post/LikeButton.jsx","components/post/DeleteCard.jsx","components/post/CardComments.jsx","actions/post.action.js","components/post/EditDeleteComment.jsx","components/Navbar.jsx","components/log/Logout.jsx","pages/PublicProfil.jsx","components/Thread.jsx","components/post/NewPost.jsx","components/log/SignInForm.jsx","components/log/SignUpForm.jsx","components/log/Log.jsx","components/Trends.jsx","components/profil/FriendsHint.jsx","pages/Home.jsx","components/profil/UploadImg.jsx","components/profil/UpdateProfil.jsx","pages/Profil.jsx","pages/Trending.jsx","components/FollowThread.jsx","pages/MyFollow.jsx","components/routes/index.jsx","App.js","reportWebVitals.js","reducers/user.reducer.js","actions/users.actions.js","reducers/users.reducer.js","reducers/post.reducer.js","reducers/error.reducer.js","reducers/allPost.reducer.js","reducers/trending.reducer.js","reducers/index.js","index.js"],"names":["GET_USER","UPLOAD_PICTURE","UPDATE_BIO","FOLLOW_USER","UNFOLLOW_USER","GET_USER_ERRORS","getUser","uid","dispatch","axios","get","process","then","res","type","payload","data","catch","err","console","log","uploadPicture","id","post","errors","picture","updateBio","userId","bio","method","url","followUser","followerId","idToFollow","unfollowUser","idToUnfollow","UidContext","createContext","FollowHandler","userData","useSelector","state","userReducer","useState","isFollowed","setIsFollowed","useDispatch","useEffect","isEmpty","following","includes","onClick","_id","className","src","__dirname","alt","LeftNav","exact","to","activeClassName","Card","isLoading","setIsLoading","isUpdated","setIsUpdated","textUpdate","setTextUpdate","showComments","setShowComments","usersData","usersReducer","map","user","posterId","pseudo","dateParser","createdAt","message","defaultValue","onChange","e","target","value","updatePost","video","width","height","frameBorder","title","allow","allowFullScreen","comments","length","date","timestamp","Date","parse","toLocaleDateString","hour","minute","second","weekday","year","month","day","toString","timestampParser","tsp","undefined","Object","keys","trim","LikeButton","liked","setLiked","useContext","likers","trigger","position","closeDocumentClick","style","textAlign","likePost","unlikePost","DeleteCard","window","confirm","deletePost","CardComments","text","setText","comment","commenterId","commenterPseudo","postId","onSubmit","preventDefault","addComment","getPosts","name","placeholder","GET_POSTS","GET_ALL_POST","LIKE_POST","UNLIKE_POST","UPDATE_POST","DELETE_POST","EDIT_COMMENT","DELETE_COMMENT","GET_TRENDS","GET_POST_ERRORS","count","dataLimit","slice","addPost","editComment","commentId","deleteComment","getTrends","sortedArray","EditDeleteComment","isAuthor","setIsAuthor","edit","setEdit","htmlFor","Navbar","Logout","logout","a","withCredentials","key","cookie","remove","expires","location","PublicProfil","profilPublic","setProfilPublic","posts","setPosts","userPosts","allPostReducer","useParams","filter","followers","Thread","loadPost","setLoadPost","setCount","postReducer","loadMore","innerHeight","document","documentElement","scrollTop","scrollingElement","scrollHeight","addEventListener","removeEventListener","NewPost","setMessage","postPicture","setPostPicture","setVideo","file","setFile","error","errorReducer","postError","handlePost","FormData","append","cancelPost","alert","findLink","split","i","embed","replace","splice","join","handleVideo","now","accept","URL","createObjectURL","files","format","maxSize","SignInForm","email","setEmail","password","setPassword","emailError","querySelector","passwordError","innerHTML","SignUpForm","formSubmit","setFormSubmit","setPseudo","controlPassword","setControlPassword","handleRegister","terms","getElementById","pseudoError","passwordConfirmError","termsError","checked","href","rel","Log","signIn","signUp","signUpModal","setSignUpModal","signInModal","setSignInModal","handleModal","Trends","trendList","trendingReducer","sort","b","FriendsHint","playOne","setPlayOne","friendsHint","setFriendsHint","array","push","Math","random","notFriendsList","hint","Home","UploadImg","UpdateProfil","setBio","updateForm","setUpdateForm","userError","followingPopUp","setFollowingPopUp","followersPopUp","setFollowersPopUp","Profil","Trending","FollowThread","postFollow","setPostFollow","arr","result","concat","sortResult","updatedAt","MyFollow","Index","path","component","App","setuid","fetchToken","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","GET_USERS","combineReducers","action","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render"],"mappings":"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","file":"static/js/main.e8d79af6.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport const GET_USER = 'GET_USER';\nexport const UPLOAD_PICTURE = 'UPLOAD_PICTURE';\nexport const UPDATE_BIO = 'UPDATE_BIO';\nexport const FOLLOW_USER = 'FOLLOW_USER';\nexport const UNFOLLOW_USER = 'UNFOLLOW_USER';\n\nexport const GET_USER_ERRORS = 'GET_USER_ERRORS';\n\nexport const getUser = (uid) => {\n\treturn (dispatch) => {\n\t\treturn axios\n\t\t\t.get(`${process.env.REACT_APP_API_URL}api/user/${uid}`)\n\t\t\t.then(res => {\n\t\t\t\tdispatch({ type: GET_USER, payload: res.data });\n\t\t\t})\n\t\t\t.catch(err => console.log({ err }));\n\t};\n};\n\nexport const uploadPicture = (data, id) => {\n\treturn (dispatch) => {\n\t\treturn axios\n\t\t\t.post(`${process.env.REACT_APP_API_URL}api/user/upload`, data)\n\t\t\t.then(res => {\n\t\t\t\tif (res.data.errors) {\n\t\t\t\t\tdispatch({ type: GET_USER_ERRORS, payload: res.data.errors });\n\t\t\t\t} else {\n\t\t\t\t\tdispatch({ type: GET_USER_ERRORS, payload: '' });\n\t\t\t\t\treturn axios\n\t\t\t\t\t\t.get(`${process.env.REACT_APP_API_URL}api/user/${id}`)\n\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\tdispatch({ type: UPLOAD_PICTURE, payload: res.data.picture});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => console.log({ err }));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => console.log({ err }));\n\t};\n};\n\nexport const updateBio = (userId, bio) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'put',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/user/${userId}`,\n\t\t\tdata: { bio }\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({ type: UPDATE_BIO, payload: bio});\n\t\t\t})\n\t\t\t.catch(err => console.log({ err }));\n\t};\n};\n\nexport const followUser = (followerId, idToFollow) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/user/follow/${followerId}`,\n\t\t\tdata: { idToFollow }\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({ type: FOLLOW_USER, payload: {idToFollow}});\n\t\t\t})\n\t\t\t.catch(err => console.log({ err }));\n\t};\n};\n\nexport const unfollowUser = (followerId, idToUnfollow) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/user/unfollow/${followerId}`,\n\t\t\tdata: { idToUnfollow }\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({ type: UNFOLLOW_USER, payload: {idToUnfollow}});\n\t\t\t})\n\t\t\t.catch(err => console.log({ err }));\n\t};\n};","import {createContext} from 'react';\n\nexport const UidContext = createContext(null);","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport { isEmpty } from '../Utils.js';\nimport { followUser, unfollowUser } from '../../actions/user.actions.js';\n\nconst FollowHandler = ({ idToFollow, type }) => {\n\n\tconst userData = useSelector(state => state.userReducer);\n\tconst [isFollowed, setIsFollowed] = useState(false);\n\tconst dispatch = useDispatch();\n\n\tconst handleFollow = () => {\n\t\tdispatch(followUser(userData._id, idToFollow));\n\t\tsetIsFollowed(true);\n\t};\n\n\tconst handleUnfollow = () => {\n\t\tdispatch(unfollowUser(userData._id, idToFollow));\n\t\tsetIsFollowed(false);\n\t};\n\n\tuseEffect(() => {\n\t\tif (!isEmpty(userData.following)) {\n\t\t\tif (userData.following.includes(idToFollow)) {\n\t\t\t\tsetIsFollowed(true);\n\t\t\t} else {\n\t\t\t\tsetIsFollowed(false);\n\t\t\t}\n\t\t}\n\t}, [userData, idToFollow]);\n\n\treturn (\n\t\t<>\n\t\t\t{isFollowed && !isEmpty(userData) && (\n\t\t\t\t<span onClick={handleUnfollow}>\n\t\t\t\t\t{type === 'suggestion' && <button className=\"unfollow-btn\">Abonné</button>}\n\t\t\t\t\t{type === 'card' && <img src={__dirname + './img/icons/checked.svg'} alt=\"checked\" />}\n\t\t\t\t</span>\n\t\t\t)}\n\t\t\t{!isFollowed && !isEmpty(userData) && (\n\t\t\t\t<span onClick={handleFollow}>\n\t\t\t\t\t{type === 'suggestion' && <button className=\"follow-btn\">Suivre</button>}\n\t\t\t\t\t{type === 'card' && <img src={__dirname + './img/icons/check.svg'} alt=\"check\" />}\n\t\t\t\t</span>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default FollowHandler;","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nconst LeftNav = () => {\n\treturn (\n\t\t<div className=\"left-nav-container\">\n\t\t\t<div className=\"icons\">\n\t\t\t\t<div className=\"icons-bis\">\n\t\t\t\t\t<NavLink exact to='/' activeClassName=\"active-left-nav\">\n\t\t\t\t\t\t<img src={__dirname + 'img/icons/home.svg'} alt=\"home\"/>\n\t\t\t\t\t</NavLink>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<NavLink exact to='/my-follow' activeClassName=\"active-left-nav\">\n\t\t\t\t\t\t<img src={__dirname + 'img/icons/check.svg'} alt=\"check\"/>\n\t\t\t\t\t</NavLink>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<NavLink exact to='/trending' activeClassName=\"active-left-nav\">\n\t\t\t\t\t\t<img src={__dirname + 'img/icons/rocket.svg'} alt=\"rocket\"/>\n\t\t\t\t\t</NavLink>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<NavLink exact to='/profil' activeClassName=\"active-left-nav\">\n\t\t\t\t\t\t<img src={__dirname + 'img/icons/user.svg'} alt=\"user\"/>\n\t\t\t\t\t</NavLink>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default LeftNav;","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { dateParser, isEmpty } from '../Utils.js';\nimport FollowHandler from '../profil/FollowHandler.jsx';\nimport LikeButton from './LikeButton.jsx';\nimport { updatePost } from '../../actions/post.action.js';\nimport DeleteCard from './DeleteCard.jsx';\nimport CardComments from './CardComments.jsx';\nimport { NavLink } from 'react-router-dom';\n\nconst Card = ({post}) => {\n\n\tconst [isLoading, setIsLoading] = useState(true);\n\tconst [isUpdated, setIsUpdated] = useState(false);\n\tconst [textUpdate, setTextUpdate] = useState(null);\n\tconst [showComments, setShowComments] = useState(false);\n\tconst usersData = useSelector(state => state.usersReducer);\n\tconst userData = useSelector(state => state.userReducer);\n\tconst dispatch = useDispatch();\n\n\tconst updateItem = () => {\n\t\tif (textUpdate) {\n\t\t\tdispatch(updatePost(post._id, textUpdate));\n\t\t}\n\t\tsetIsUpdated(false);\n\t};\n\n\tuseEffect(() => {\n\t\tif (!isEmpty(usersData[0])) {\n\t\t\tsetIsLoading(false);\n\t\t}\n\t}, [usersData]);\n\n\treturn (\n\t\t<li className=\"card-container\">\n\t\t\t{isLoading ? (\n\t\t\t\t<i className=\"fas fa-spinner fa-spin\"/>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"card-left\">\n\t\t\t\t\t\t{!isEmpty(usersData[0]) && usersData.map(user => {\n\t\t\t\t\t\t\tif (user._id === post.posterId) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<NavLink key={user._id} exact to={`/public-profil/${user._id}`}>\n\t\t\t\t\t\t\t\t\t\t<img src={__dirname + user.picture} alt={user.picture}/>\n\t\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else return null;\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"card-right\">\n\t\t\t\t\t\t<div className=\"card-header\">\n\t\t\t\t\t\t\t<div className=\"pseudo\">\n\t\t\t\t\t\t\t\t{!isEmpty(usersData[0]) && usersData.map(user => {\n\t\t\t\t\t\t\t\t\tif (user._id === post.posterId) {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<h3 key={user._id}>{user.pseudo}</h3>\n\t\t\t\t\t\t\t\t\t\t\t\t{post.posterId !== userData._id && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FollowHandler key={user.posterId} idToFollow={post.posterId} type={'card'}/>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else return null;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span>{dateParser(post.createdAt)}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{!isUpdated && <p>{post.message}</p>}\n\t\t\t\t\t\t{isUpdated && (\n\t\t\t\t\t\t\t<div className=\"update-post\">\n\t\t\t\t\t\t\t\t<textarea defaultValue={post.message} onChange={(e) => setTextUpdate(e.target.value)}/>\n\t\t\t\t\t\t\t\t<div className=\"button-container\">\n\t\t\t\t\t\t\t\t\t<button className=\"btn\" onClick={updateItem}>Valider modifications</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{post.picture && (\n\t\t\t\t\t\t\t<img src={__dirname + post.picture} alt={post.picture} className=\"card-pic\"/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{post.video && (\n\t\t\t\t\t\t\t<iframe width=\"500\" height=\"300\" src={post.video} frameBorder=\"0\" title={post._id} allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{userData._id === post.posterId && (\n\t\t\t\t\t\t\t<div className=\"button-container\">\n\t\t\t\t\t\t\t\t<div onClick={() => setIsUpdated(!isUpdated)}>\n\t\t\t\t\t\t\t\t\t<img src={__dirname + './img/icons/edit.svg'} alt=\"edit\"/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<DeleteCard id={post._id}/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div className=\"card-footer\">\n\t\t\t\t\t\t\t<LikeButton post={post}/>\n\t\t\t\t\t\t\t<div className=\"comment-icon\">\n\t\t\t\t\t\t\t\t<img onClick={() => setShowComments(!showComments)} src={__dirname + './img/icons/message1.svg'} alt=\"comment\"/>\n\t\t\t\t\t\t\t\t{post.comments && <span>{post.comments.length}</span>}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{showComments && <CardComments post={post}/>}\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</li>\n\t);\n};\n\nexport default Card;","export const dateParser = (date) => {\n\tlet options = {\n\t\thour: '2-digit',\n\t\tminute: '2-digit',\n\t\tsecond: '2-digit',\n\t\tweekday: 'long',\n\t\tyear: 'numeric',\n\t\tmonth: 'short',\n\t\tday: 'numeric'\n\t};\n\n\tlet timestamp = Date.parse(date);\n\n\tlet dateFormatted = new Date(timestamp).toLocaleDateString('fr-FR', options);\n\n\treturn dateFormatted.toString();\n};\n\nexport const timestampParser = (tsp) => {\n\tlet options = {\n\t\thour: '2-digit',\n\t\tminute: '2-digit',\n\t\tsecond: '2-digit',\n\t\tweekday: 'long',\n\t\tyear: 'numeric',\n\t\tmonth: 'short',\n\t\tday: 'numeric'\n\t};\n\n\tlet date = new Date(tsp).toLocaleDateString('fr-FR', options);\n\n\treturn date.toString();\n};\n\nexport const isEmpty = (value) => {\n\treturn value === undefined ||\n        value === null ||\n        (typeof value === 'object' && Object.keys(value).length === 0) ||\n        (typeof value === 'string' && value.trim().length === 0);\n};","import React from 'react';\nimport { useState, useEffect, useContext } from 'react';\nimport { UidContext } from '../AppContext.jsx';\nimport Popup from 'reactjs-popup';\nimport 'reactjs-popup/dist/index.css';\nimport { useDispatch } from 'react-redux';\nimport { likePost, unlikePost } from '../../actions/post.action.js';\n\nconst LikeButton = ({ post }) => {\n\n\tconst [liked, setLiked] = useState(false);\n\tconst uid = useContext(UidContext);\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tif (post.likers.includes(uid)) {\n\t\t\tsetLiked(true);\n\t\t} else {\n\t\t\tsetLiked(false);\n\t\t}\n\t}, [uid, liked, post.likers]);\n\n\tconst like = () => {\n\t\tdispatch(likePost(post._id, uid));\n\t\tsetLiked(true);\n\t};\n\n\tconst unlike = () => {\n\t\tdispatch(unlikePost(post._id, uid));\n\t\tsetLiked(false);\n\t};\n\n\treturn (\n\t\t<div className=\"like-container\">\n\t\t\t{uid === null && (\n\t\t\t\t<Popup\n\t\t\t\t\ttrigger={<img src={__dirname + './img/icons/heart.svg'} alt=\"like\"/>}\n\t\t\t\t\tposition={['bottom center', 'bottom right', 'bottom left']}\n\t\t\t\t\tcloseDocumentClick\n\t\t\t\t>\n\t\t\t\t\t<div style={{textAlign: 'center'}}>Connectez-vous pour liker un post !</div>\n\t\t\t\t</Popup>\n\t\t\t)}\n\t\t\t{uid && !liked && (\n\t\t\t\t<img onClick={like} src={__dirname + './img/icons/heart.svg'} alt=\"like\"/>\n\t\t\t)}\n\t\t\t{uid && liked && (\n\t\t\t\t<img onClick={unlike} src={__dirname + './img/icons/heart-filled.svg'} alt=\"like\"/>\n\t\t\t)}\n\t\t\t<span>{post.likers && post.likers.length}</span>\n\t\t</div>\n\t);\n};\n\nexport default LikeButton;","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { deletePost } from '../../actions/post.action.js';\n\nconst DeleteCard = ({id}) => {\n\tconst dispatch = useDispatch();\n\n\tconst deleteQuote = () => {\n\t\tdispatch(deletePost(id));\n\t};\n\n\treturn (\n\t\t<div onClick={() => {\n\t\t\tif (window.confirm('Voulez-vous supprimer cet article ?')) {\n\t\t\t\tdeleteQuote();\n\t\t\t}\n\t\t}}>\n\t\t\t<img src={__dirname + './img/icons/trash.svg'} alt=\"trash\"/>\n\t\t</div>\n\t);\n};\n\nexport default DeleteCard;","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useState } from 'react';\nimport { isEmpty, timestampParser } from '../Utils.js';\nimport FollowHandler from '../profil/FollowHandler.jsx';\nimport { addComment, getPosts } from '../../actions/post.action.js';\nimport EditDeleteComment from './EditDeleteComment.jsx';\n\nconst CardComments = ({ post }) => {\n\n\tconst [text, setText] = useState('');\n\tconst usersData = useSelector(state => state.usersReducer);\n\tconst userData = useSelector(state => state.userReducer);\n\tconst dispatch = useDispatch();\n    \n\tconst handleComment = (e) => {\n\t\te.preventDefault();\n\t\tif (text) {\n\t\t\tdispatch(addComment(post._id, userData._id, text, userData.pseudo))\n\t\t\t\t.then(() => dispatch(getPosts()))\n\t\t\t\t.then(() => setText(''))\n\t\t\t\t.catch(err => console.log({ err }));\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"comments-container\">\n\t\t\t{post.comments.map(comment => (\n\t\t\t\t<div key={comment._id} className={comment.commenterId === userData._id ? 'comment-container client' : 'comment-container'}>\n\t\t\t\t\t<div className=\"left-part\">\n\t\t\t\t\t\t{!isEmpty(usersData[0]) && usersData.map(user => {\n\t\t\t\t\t\t\tif (user._id === comment.commenterId) {\n\t\t\t\t\t\t\t\treturn <img key={comment.commenterId} src={__dirname + user.picture} alt={comment.commenterId} />;\n\t\t\t\t\t\t\t} else return null;\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"right-part\">\n\t\t\t\t\t\t<div className=\"comment-header\">\n\t\t\t\t\t\t\t<div className=\"pseudo\">\n\t\t\t\t\t\t\t\t<h3>{comment.commenterPseudo}</h3>\n\t\t\t\t\t\t\t\t{comment.commenterId !== userData._id && (\n\t\t\t\t\t\t\t\t\t<FollowHandler idToFollow={comment.commenterId} type={'card'} />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span>{timestampParser(comment.timestamp)}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p>{comment.text}</p>\n\t\t\t\t\t\t<EditDeleteComment comment={comment} postId={post._id}/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t\t{userData._id && (\n\t\t\t\t<form onSubmit={handleComment} className=\"comment-form\">\n\t\t\t\t\t<input type=\"text\" name=\"text\" onChange={(e) => setText(e.target.value)} value={text} placeholder=\"Laisser un commentaire\"/>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input type=\"submit\" value=\"Envoyer\" />\n\t\t\t\t</form>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default CardComments;","import axios from 'axios';\n\nexport const GET_POSTS = 'GET_POSTS';\nexport const GET_ALL_POST = 'GET_ALL_POST';\nexport const ADD_POST = 'ADD_POST';\nexport const LIKE_POST = 'LIKE_POST';\nexport const UNLIKE_POST = 'UNLIKE_POST';\nexport const UPDATE_POST = 'UPDATE_POST';\nexport const DELETE_POST = 'DELETE_POST';\n\nexport const ADD_COMMENT = 'ADD_COMMENT';\nexport const EDIT_COMMENT = 'EDIT_COMMENT';\nexport const DELETE_COMMENT = 'DELETE_COMMENT';\n\nexport const GET_TRENDS = 'GET_TRENDS';\n\nexport const GET_POST_ERRORS = 'GET_POST_ERRORS';\n\nexport const getPosts = (count) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'get',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post`\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\tconst dataLimit = res.data.slice(0, count);\n\t\t\t\tdispatch({type: GET_POSTS, payload: dataLimit});\n\t\t\t\tdispatch({type: GET_ALL_POST, payload: res.data});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const addPost = (data) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'post',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post`,\n\t\t\tdata: data\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res.data.errors) {\n\t\t\t\t\tdispatch({type: GET_POST_ERRORS, payload: res.data.errors});\n\t\t\t\t} else {\n\t\t\t\t\tdispatch({type: GET_POST_ERRORS, payload: ''});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const likePost = (postId, userId) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/like-post/${postId}`,\n\t\t\tdata: {id: userId}\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: LIKE_POST, payload: {postId, userId}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const unlikePost = (postId, userId) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/unlike-post/${postId}`,\n\t\t\tdata: {id: userId}\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: UNLIKE_POST, payload: {postId, userId}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const updatePost = (postId, message) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'put',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/${postId}`,\n\t\t\tdata: {message}\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: UPDATE_POST, payload: {message, postId}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const deletePost = (postId) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'delete',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/${postId}`,\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: DELETE_POST, payload: {postId}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const addComment = (postId, commenterId, text, commenterPseudo) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/comment-post/${postId}`,\n\t\t\tdata: {\n\t\t\t\tcommenterId,\n\t\t\t\ttext,\n\t\t\t\tcommenterPseudo\n\t\t\t}\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: ADD_COMMENT, payload: {postId}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const editComment = (postId, commentId, text) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/edit-comment-post/${postId}`,\n\t\t\tdata: {\n\t\t\t\tcommentId,\n\t\t\t\ttext\n\t\t\t}\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: EDIT_COMMENT, payload: {postId, commentId, text}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const deleteComment = (postId, commentId) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/delete-comment-post/${postId}`,\n\t\t\tdata: {commentId}\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: DELETE_COMMENT, payload: {postId, commentId}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const getTrends = (sortedArray) => {\n\treturn (dispatch) => {\n\t\tdispatch({type: GET_TRENDS, payload: sortedArray});\n\t};\n};","import React, { useContext, useEffect, useState } from 'react';\nimport { UidContext } from '../AppContext.jsx';\nimport { useDispatch } from 'react-redux';\nimport { deleteComment, editComment } from '../../actions/post.action.js';\n\nconst EditDeleteComment = ({comment, postId}) => {\n\n\tconst [isAuthor, setIsAuthor] = useState(false);\n\tconst [edit, setEdit] = useState(false);\n\tconst [text, setText] = useState('');\n\tconst uid = useContext(UidContext);\n\tconst dispatch = useDispatch();\n\n\tconst handleEdit = (e) => {\n\t\te.preventDefault();\n\t\tif (text) {\n\t\t\tdispatch(editComment(postId, comment._id, text));\n\t\t\tsetText('');\n\t\t\tsetEdit(false);\n\t\t}\n\t};\n\n\tconst handleDelete = () => {\n\t\tdispatch(deleteComment(postId, comment._id));\n\t};\n\n\tuseEffect(() => {\n\t\tconst checkAuthor = () => {\n\t\t\tif (uid === comment.commenterId) {\n\t\t\t\tsetIsAuthor(true);\n\t\t\t}\n\t\t};\n\t\tcheckAuthor();\n\t}, [uid, comment.commenterId]);\n\n\treturn (\n\t\t<div className=\"edit-comment\">\n\t\t\t{isAuthor && !edit && (\n\t\t\t\t<span onClick={() => setEdit(!edit)}>\n\t\t\t\t\t<img src={__dirname + './img/icons/edit.svg'} alt=\"edit\"/>\n\t\t\t\t</span>\n\t\t\t)}\n\t\t\t{isAuthor && edit && (\n\t\t\t\t<form className=\"edit-comment-form\" onSubmit={handleEdit}>\n\t\t\t\t\t<label htmlFor=\"text\" onClick={() => setEdit(!edit)}>Editer</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input type=\"text\" name=\"text\" onChange={(e) => setText(e.target.value)} defaultValue={comment.text}/>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<div className=\"btn\">\n\t\t\t\t\t\t<span onClick={() => {\n\t\t\t\t\t\t\tif (window.confirm('Voulez-vous supprimer ce commentaire ?')) {\n\t\t\t\t\t\t\t\thandleDelete();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<img src={__dirname + './img/icons/trash.svg'} alt=\"trash\"/>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<input type=\"submit\" value=\"Valider les modifications\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default EditDeleteComment;","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { UidContext } from './AppContext.jsx';\nimport { useContext } from 'react';\nimport Logout from './log/Logout.jsx';\nimport { useSelector } from 'react-redux';\n\nconst Navbar = () => {\n    \n\tconst uid = useContext(UidContext);\n\tconst userData = useSelector(state => state.userReducer);\n    \n\treturn (\n\t\t<nav>\n\t\t\t<div className=\"nav-container\">\n\t\t\t\t<div className=\"logo\">\n\t\t\t\t\t<NavLink exact to=\"/\">\n\t\t\t\t\t\t<div className=\"logo\">\n\t\t\t\t\t\t\t<img src={__dirname + 'img/icon.png'} alt=\"logo\"/>\n\t\t\t\t\t\t\t<h3>Pineapple</h3>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</NavLink>\n\t\t\t\t</div>\n\t\t\t\t{uid ? (\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li/>\n\t\t\t\t\t\t<li className=\"welcome\">\n\t\t\t\t\t\t\t<NavLink exact to=\"/profil\">\n\t\t\t\t\t\t\t\t<h5>Bienvenue {userData.pseudo}</h5>\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<Logout/>\n\t\t\t\t\t</ul>\n\t\t\t\t) : (\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li/>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<NavLink exact to=\"/profil\">\n\t\t\t\t\t\t\t\t<img src={__dirname + 'img/icons/login.svg'} alt=\"logo\"/>\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</nav>\n\t);\n};\n\nexport default Navbar;","import React from 'react';\nimport axios from 'axios';\nimport cookie from 'js-cookie';\n\nconst Logout = () => {\n\n\tconst removeCookie = (key) => {\n\t\tif (window !== undefined) {\n\t\t\tcookie.remove(key, {expires: 1});\n\t\t}\n\t};\n\n\tconst logout = async () => {\n\t\tawait axios({\n\t\t\tmethod: 'get',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/user/logout`,\n\t\t\twithCredentials: true\n\t\t})\n\t\t\t.then(() => removeCookie('jwt'))\n\t\t\t.catch(err => console.log({ err }));\n\n\t\twindow.location = '/';\n\t};\n\n\treturn (\n\t\t<li onClick={logout}>\n\t\t\t<img src={__dirname + 'img/icons/logout.svg'} alt=\"Logout\"/>\n\t\t</li>\n\t);\n};\n\nexport default Logout;","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport LeftNav from '../components/LeftNav.jsx';\nimport { dateParser, isEmpty } from '../components/Utils.js';\nimport FollowHandler from '../components/profil/FollowHandler.jsx';\nimport Card from '../components/post/Card.jsx';\n\nconst PublicProfil = () => {\n\n\tconst [profilPublic, setProfilPublic] = useState([]);\n\tconst [posts, setPosts] = useState([]);\n\tconst usersData = useSelector(state => state.usersReducer);\n\tconst userPosts = useSelector(state => state.allPostReducer);\n\tlet {id} = useParams();\n\n\tuseEffect(() => {\n\t\tif (!isEmpty(usersData[0]) && !isEmpty(userPosts[0]) && id) {\n\t\t\tsetProfilPublic(usersData.filter(user => user._id === id));\n\t\t\tsetPosts(userPosts.filter(post => post.posterId === id));\n\t\t}\n\t}, [usersData, userPosts, id]);\n\n\n\treturn (\n\t\t<div className=\"public-profil\">\n\t\t\t{!isEmpty(profilPublic) ? (\n\t\t\t\t<div className=\"public-profil__container\">\n\t\t\t\t\t<h1>Profil de {profilPublic[0].pseudo}</h1>\n\t\t\t\t\t<LeftNav/>\n\t\t\t\t\t<div className=\"part-container\">\n\t\t\t\t\t\t<div className=\"left-part-profil\">\n\t\t\t\t\t\t\t<img src={__dirname + profilPublic[0].picture} alt=\"Profil picture\"/>\n\t\t\t\t\t\t\t<h3>Bio :</h3>\n\t\t\t\t\t\t\t<p className=\"bio\">{profilPublic[0].bio}</p>\n\t\t\t\t\t\t\t<h4 className=\"createdAt\">Membre depuis le : {dateParser(profilPublic[0].createdAt)}</h4>\n\t\t\t\t\t\t\t<div className=\"data\">\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<span>{profilPublic[0].following ? profilPublic[0].following.length : 0}</span>\n\t\t\t\t\t\t\t\t\t&nbsp;Abonnement{profilPublic[0].following && profilPublic[0].following.length > 1 ? 's' : null}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<span>{profilPublic[0].followers ? profilPublic[0].followers.length : 0}</span>\n\t\t\t\t\t\t\t\t\t&nbsp;Abonné{profilPublic[0].followers && profilPublic[0].followers.length > 1 ? 's' : null}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"btn-follow\">\n\t\t\t\t\t\t\t\t<FollowHandler idToFollow={profilPublic[0]._id} type={'suggestion'}/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"right-part-profil\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t{!isEmpty(posts) && posts.map(post => (\n\t\t\t\t\t\t\t\t\t<Card key={post._id} post={post}/>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"public-profil\">\n\t\t\t\t\t<h1>L'utilisateur n'existe pas...</h1>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t</div>\n\t);\n};\n\nexport default PublicProfil;","import React from 'react';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getPosts } from '../actions/post.action.js';\nimport { isEmpty } from './Utils.js';\nimport Card from './post/Card.jsx';\n\nconst Thread = () => {\n\n\tconst [loadPost, setLoadPost] = useState(true);\n\tconst [count, setCount] = useState(5);\n\tconst dispatch = useDispatch();\n\tconst posts = useSelector(state => state.postReducer);\n\n\tconst loadMore = () => {\n\t\tif (window.innerHeight + document.documentElement.scrollTop + 1 > document.scrollingElement.scrollHeight) {\n\t\t\tsetLoadPost(true);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (loadPost) {\n\t\t\tdispatch(getPosts(count));\n\t\t\tsetLoadPost(false);\n\t\t\tsetCount(count + 5);\n\t\t}\n\n\t\twindow.addEventListener('scroll', loadMore);\n\t\treturn () => window.removeEventListener;\n\n\t}, [dispatch, loadPost, count]);\n\n\treturn (\n\t\t<div className=\"thread-container\">\n\t\t\t<ul>\n\t\t\t\t{ !isEmpty(posts[0]) && (\n\t\t\t\t\tposts.map(post => {\n\t\t\t\t\t\treturn <Card key={post._id} post={post} />;\n\t\t\t\t\t})\n\t\t\t\t)}\n\t\t\t</ul>\n\t\t</div>\n\t);\n};\n\nexport default Thread;","import React from 'react';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useEffect } from 'react';\nimport { isEmpty, timestampParser } from '../Utils.js';\nimport { NavLink } from 'react-router-dom';\nimport { addPost, getPosts } from '../../actions/post.action.js';\n\nconst NewPost = () => {\n\n\tconst [isLoading, setIsLoading] = useState(true);\n\tconst [message, setMessage] = useState('');\n\tconst [postPicture, setPostPicture] = useState(null);\n\tconst [video, setVideo] = useState('');\n\tconst [file, setFile] = useState('');\n\n\tconst userData = useSelector(state => state.userReducer);\n\tconst error = useSelector(state => state.errorReducer.postError);\n\tconst dispatch = useDispatch();\n\n\tconst handlePost = async () => {\n\t\tif (message || postPicture || video) {\n\t\t\tconst data = new FormData();\n\t\t\tdata.append('posterId', userData._id);\n\t\t\tdata.append('message', message);\n\t\t\tif (file) {\n\t\t\t\tdata.append('file', file);\n\t\t\t}\n\t\t\tdata.append('video', video);\n\n\t\t\tawait dispatch(addPost(data));\n\t\t\tdispatch(getPosts());\n\n\t\t\tcancelPost();\n\n\t\t} else {\n\t\t\talert('Veuillez entrer un message');\n\t\t}\n\t};\n\n\tconst handlePicture = (e) => {\n\t\tsetPostPicture(URL.createObjectURL(e.target.files[0]));\n\t\tsetFile(e.target.files[0]);\n\t\tsetVideo('');\n\t};\n\n\tconst handleVideo = () => {\n\t\tlet findLink = message.split(' ');\n\t\tfor (let i = 0; i < findLink.length; i++) {\n\t\t\tif (findLink[i].includes('https://www.yout') || findLink[i].includes('https://yout')) {\n\t\t\t\tlet embed = findLink[i].replace('watch?v=', 'embed/');\n\t\t\t\tsetVideo(embed.split('&')[0]);\n\t\t\t\tfindLink.splice(i, 1);\n\t\t\t\tsetMessage(findLink.join(' '));\n\t\t\t\tsetPostPicture(null);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst cancelPost = () => {\n\t\tsetMessage('');\n\t\tsetPostPicture('');\n\t\tsetVideo('');\n\t\tsetFile('');\n\t};\n\n\tuseEffect(() => {\n\t\tif (!isEmpty(userData)) {\n\t\t\tsetIsLoading(false);\n\t\t}\n\t\thandleVideo();\n\t}, [userData, message, video]);\n\n\treturn (\n\t\t<div className=\"post-container\">\n\t\t\t{isLoading ? (\n\t\t\t\t<i className=\"fas fa-spinner fa-pulse\" />\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"data\">\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span>{userData.following ? userData.following.length : 0}</span>\n                            &nbsp;Abonnement{userData.following && userData.following.length > 1 ? 's' : null }\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span>{userData.followers ? userData.followers.length : 0}</span>\n                             &nbsp;Abonné{userData.followers && userData.followers.length > 1 ? 's' : null }\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<NavLink exact to=\"/profil\">\n\t\t\t\t\t\t<div className=\"user-info\">\n\t\t\t\t\t\t\t<img src={userData.picture} alt=\"profil\"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</NavLink>\n\t\t\t\t\t<div className=\"post-form\">\n\t\t\t\t\t\t<textarea name=\"message\" id=\"message\" placeholder=\"Quoi de neuf ?\" value={message} onChange={(e) => setMessage(e.target.value)} />\n\t\t\t\t\t\t{message || postPicture || video.length > 10 ? (\n\t\t\t\t\t\t\t<li className=\"card-container\">\n\t\t\t\t\t\t\t\t<div className=\"card-left\">\n\t\t\t\t\t\t\t\t\t<img src={userData.picture} alt=\"pic\"/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"card-right\">\n\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"pseudo\">\n\t\t\t\t\t\t\t\t\t\t\t<h3>{userData.pseudo}</h3>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<span>{timestampParser(Date.now())}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"content\">\n\t\t\t\t\t\t\t\t\t\t<p>{message}</p>\n\t\t\t\t\t\t\t\t\t\t{postPicture && (\n\t\t\t\t\t\t\t\t\t\t\t<img src={postPicture} alt=\"post-img\"/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{video && (\n\t\t\t\t\t\t\t\t\t\t\t<iframe title={video} src={video} frameBorder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypte-media; gyroscope; picture-in-picture\" allowFullScreen />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t) : null }\n\t\t\t\t\t\t<div className=\"footer-form\">\n\t\t\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t\t\t{isEmpty(video) && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<img src=\"./img/icons/picture.svg\" alt=\"pic\" />\n\t\t\t\t\t\t\t\t\t\t<input type=\"file\" id=\"file-upload\" name=\"file\" accept=\".jpg, .jpeg, .png\" onChange={handlePicture}/>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{video && (\n\t\t\t\t\t\t\t\t\t<button onClick={() => setVideo('')}>Supprimer video</button>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{!isEmpty(error.format) && (\n\t\t\t\t\t\t\t\t<p>{error.format}</p>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{!isEmpty(error.maxSize) && (\n\t\t\t\t\t\t\t\t<p>{error.maxSize}</p>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<div className=\"btn-send\">\n\t\t\t\t\t\t\t\t{message || postPicture || video.length > 5 ? (\n\t\t\t\t\t\t\t\t\t<button className=\"cancel\" onClick={cancelPost}>Annuler message</button>\n\t\t\t\t\t\t\t\t) : null }\n\t\t\t\t\t\t\t\t<button className=\"send\" onClick={handlePost}>Envoyer</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default NewPost;","import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst SignInForm = () => {\n\n\tconst [email, setEmail] = useState('');\n\tconst [password, setPassword] = useState('');\n\n\tconst handleLogin = (e) => {\n\t\te.preventDefault();\n\t\tconst emailError = document.querySelector('.email.error');\n\t\tconst passwordError = document.querySelector('.password.error');\n\n\t\taxios({\n\t\t\tmethod: 'post',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/user/login`,\n\t\t\twithCredentials: true,\n\t\t\tdata: {\n\t\t\t\temail: email,\n\t\t\t\tpassword: password\n\t\t\t},\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res.data.errors) {\n\t\t\t\t\temailError.innerHTML = res.data.errors.email;\n\t\t\t\t\tpasswordError.innerHTML = res.data.errors.password;\n\t\t\t\t} else {\n\t\t\t\t\twindow.location = '/';\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => console.log(err));\n\t};\n\n\treturn (\n\t\t<form onSubmit={handleLogin} id=\"sign-up-form\">\n\t\t\t<label htmlFor=\"email\">Email</label>\n\t\t\t<br/>\n\t\t\t<input onChange={(e) => setEmail(e.target.value)} type=\"text\" name=\"email\" id=\"email\" value={email}/>\n\t\t\t<div className=\"email error\" />\n\t\t\t<br/>\n\t\t\t<label htmlFor=\"password\">Mot de passe</label>\n\t\t\t<br/>\n\t\t\t<input onChange={(e) => setPassword(e.target.value)} type=\"password\" name=\"password\" id=\"password\" value={password}/>\n\t\t\t<div className=\"password error\" />\n\t\t\t<br/>\n\t\t\t<input type=\"submit\" value=\"Se connecter\"/>\n\t\t</form>\n\t);\n};\n\nexport default SignInForm;","import React from 'react';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport SignInForm from './SignInForm.jsx';\n\nconst SignUpForm = () => {\n\n\tconst [formSubmit, setFormSubmit] = useState(false);\n\tconst [pseudo, setPseudo] = useState('');\n\tconst [email, setEmail] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [controlPassword, setControlPassword] = useState('');\n\n\tconst handleRegister = async (e) => {\n\t\te.preventDefault();\n\t\tconst terms = document.getElementById('terms');\n\t\tconst pseudoError = document.querySelector('.pseudo.error');\n\t\tconst emailError = document.querySelector('.email.error');\n\t\tconst passwordError = document.querySelector('.password.error');\n\t\tconst passwordConfirmError = document.querySelector('.password-confirm.error');\n\t\tconst termsError = document.querySelector('.terms.error');\n\n\t\tpasswordConfirmError.innerHTML = '';\n\t\ttermsError.innerHTML = '';\n\n\t\tif (password !== controlPassword || !terms.checked) {\n\t\t\tif (password !== controlPassword) {\n\t\t\t\tpasswordConfirmError.innerHTML = 'Les mots de passe ne correspondent pas';\n\t\t\t}\n\t\t\tif (!terms.checked) {\n\t\t\t\ttermsError.innerHTML = 'Veuillez valider les conditions générales';\n\t\t\t}\n\t\t} else {\n\t\t\tawait axios({\n\t\t\t\tmethod: 'post',\n\t\t\t\turl: `${process.env.REACT_APP_API_URL}api/user/register`,\n\t\t\t\tdata: {\n\t\t\t\t\tpseudo,\n\t\t\t\t\temail,\n\t\t\t\t\tpassword\n\t\t\t\t}\n\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (res.data.errors) {\n\t\t\t\t\t\tpseudoError.innerHTML = res.data.errors.pseudo;\n\t\t\t\t\t\temailError.innerHTML = res.data.errors.email;\n\t\t\t\t\t\tpasswordError.innerHTML = res.data.errors.password;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetFormSubmit(true);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => console.log(err));\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{formSubmit ? (\n\t\t\t\t<>\n\t\t\t\t\t<SignInForm />\n\t\t\t\t\t<span />\n\t\t\t\t\t<h4 className=\"success\">Enregistrement réussi, veuillez-vous connecter</h4>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<form onSubmit={handleRegister} id=\"sign-up-form\">\n\t\t\t\t\t<label htmlFor=\"pseudo\">Pseudo</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input onChange={(e) => setPseudo(e.target.value)} type=\"text\" name=\"pseudo\" id=\"pseudo\" value={pseudo}/>\n\t\t\t\t\t<div className=\"pseudo error\" />\n\t\t\t\t\t<br/>\n\t\t\t\t\t<label htmlFor=\"email\">Email</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input onChange={(e) => setEmail(e.target.value)} type=\"text\" name=\"email\" id=\"email\" value={email}/>\n\t\t\t\t\t<div className=\"email error\" />\n\t\t\t\t\t<br/>\n\t\t\t\t\t<label htmlFor=\"password\">Mot de passe</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input onChange={(e) => setPassword(e.target.value)} type=\"password\" name=\"password\" id=\"password\" value={password}/>\n\t\t\t\t\t<div className=\"password error\" />\n\t\t\t\t\t<br/>\n\t\t\t\t\t<label htmlFor=\"password-conf\">Confirmer mot de passe</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input onChange={(e) => setControlPassword(e.target.value)} type=\"password\" name=\"password-conf\" id=\"password-conf\" value={controlPassword}/>\n\t\t\t\t\t<div className=\"password-confirm error\" />\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input type=\"checkbox\" id=\"terms\" />\n\t\t\t\t\t<label htmlFor=\"terms\">J'accepte les <a href=\"/\" target=\"_blank\" rel=\"noopener noreferrer\">conditions générales</a></label>\n\t\t\t\t\t<div className=\"terms error\" />\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input type=\"submit\" value='Valider inscription'/>\n\t\t\t\t</form>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default SignUpForm;","import React, { useState } from 'react';\nimport SignInForm from './SignInForm.jsx';\nimport SignUpForm from './SignUpForm.jsx';\n\nconst Log = ({signIn, signUp}) => {\n\n\tconst [signUpModal, setSignUpModal] = useState(signUp);\n\tconst [signInModal, setSignInModal] = useState(signIn);\n\n\tconst handleModal = (e) => {\n\t\tif (e.target.id === 'register') {\n\t\t\tsetSignInModal(false);\n\t\t\tsetSignUpModal(true);\n\t\t} else if (e.target.id === 'login') {\n\t\t\tsetSignInModal(true);\n\t\t\tsetSignUpModal(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"connection-form\">\n\t\t\t<div className=\"form-container\">\n\t\t\t\t<ul>\n\t\t\t\t\t<li onClick={handleModal} id=\"register\" className={signUpModal ? 'active-btn' : null}>S'inscrire</li>\n\t\t\t\t\t<li onClick={handleModal} id=\"login\" className={signInModal ? 'active-btn' : null}>Se connecter</li>\n\t\t\t\t</ul>\n\t\t\t\t{signUpModal && <SignUpForm />}\n\t\t\t\t{signInModal && <SignInForm />}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Log;","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { isEmpty } from './Utils.js';\nimport { getTrends } from '../actions/post.action.js';\nimport { NavLink } from 'react-router-dom';\n\nconst Trends = () => {\n\n\tconst posts = useSelector(state => state.allPostReducer);\n\tconst usersData = useSelector(state => state.usersReducer);\n\tconst trendList = useSelector(state => state.trendingReducer);\n\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tif (!isEmpty(posts[0])) {\n\t\t\tconst postsArray = Object.keys(posts).map(i => posts[i]);\n\t\t\tlet sortedArray = postsArray.sort((a, b) => {\n\t\t\t\treturn b.likers.length - a.likers.length;\n\t\t\t});\n\t\t\tsortedArray.length = 3;\n\t\t\tdispatch(getTrends(sortedArray));\n\t\t}\n\t}, [posts, dispatch]);\n\n\treturn (\n\t\t<div className=\"trending-container\">\n\t\t\t<h4>Tendances</h4>\n\t\t\t<NavLink exact to=\"/trending\">\n\t\t\t\t<ul>\n\t\t\t\t\t{trendList.length && trendList.map(post => (\n\t\t\t\t\t\t<li key={post._id}>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{usersData[0] && usersData.map(user => {\n\t\t\t\t\t\t\t\t\tif (user._id === post.posterId) {\n\t\t\t\t\t\t\t\t\t\treturn <img key={user._id} src={user.picture} alt={user.picture}/>;\n\t\t\t\t\t\t\t\t\t} else return null;\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"trend-content\">\n\t\t\t\t\t\t\t\t<p>{post.message}</p>\n\t\t\t\t\t\t\t\t<span>Lire</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</NavLink>\n\t\t</div>\n\t);\n};\n\nexport default Trends;","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { isEmpty } from '../Utils.js';\nimport FollowHandler from './FollowHandler.jsx';\nimport { NavLink } from 'react-router-dom';\n\nconst FriendsHint = () => {\n\n\tconst [isLoading, setIsLoading] = useState(true);\n\tconst [playOne, setPlayOne] = useState(true);\n\tconst [friendsHint, setFriendsHint] = useState([]);\n\tconst userData = useSelector(state => state.userReducer);\n\tconst usersData = useSelector(state => state.usersReducer);\n\n\tuseEffect(() => {\n\t\tconst notFriendsList = () => {\n\t\t\tlet array = [];\n\t\t\tusersData.map(user => {\n\t\t\t\tif (user._id !== userData._id && !user.followers.includes(userData._id)) {\n\t\t\t\t\treturn array.push(user._id);\n\t\t\t\t}\n\t\t\t});\n\t\t\tarray.sort(() => 0.5 - Math.random());\n\t\t\tif (window.innerHeight > 780) {\n\t\t\t\tarray.length = 6;\n\t\t\t} else if (window.innerHeight > 720) {\n\t\t\t\tarray.length = 4;\n\t\t\t} else if (window.innerHeight > 615) {\n\t\t\t\tarray.length = 2;\n\t\t\t} else if (window.innerHeight > 540) {\n\t\t\t\tarray.length = 1;\n\t\t\t} else {\n\t\t\t\tarray.length = 0;\n\t\t\t}\n\t\t\tsetFriendsHint(array);\n\t\t};\n\n\t\tif (playOne && !isEmpty(usersData[0]) && !isEmpty(userData._id)) {\n\t\t\tnotFriendsList();\n\t\t\tsetIsLoading(false);\n\t\t\tsetPlayOne(false);\n\t\t}\n\t}, [userData, usersData]);\n\n\treturn (\n\t\t<div className=\"get-friends-container\">\n\t\t\t<h4>Suggestions</h4>\n\t\t\t{isLoading ? (\n\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t<i className=\"fas fa-spinner fa-pulse\"/>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<ul>\n\t\t\t\t\t{friendsHint.map(hint => {\n\t\t\t\t\t\tfor (let i = 0; i < usersData.length; i++) {\n\t\t\t\t\t\t\tif (hint === usersData[i]._id) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<li className=\"user-hint\" key={hint}>\n\t\t\t\t\t\t\t\t\t\t<NavLink exact to={`/public-profil/${usersData[i]._id}`}>\n\t\t\t\t\t\t\t\t\t\t\t<img src={usersData[i].picture} alt={usersData[i].picture}/>\n\t\t\t\t\t\t\t\t\t\t\t<p>{usersData[i].pseudo}</p>\n\t\t\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t\t\t\t<FollowHandler idToFollow={usersData[i]._id} type={'suggestion'}/>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default FriendsHint;","import React, { useContext } from 'react';\nimport LeftNav from '../components/LeftNav.jsx';\nimport Thread from '../components/Thread.jsx';\nimport { UidContext } from '../components/AppContext.jsx';\nimport NewPost from '../components/post/NewPost.jsx';\nimport Log from '../components/log/Log.jsx';\nimport Trends from '../components/Trends.jsx';\nimport FriendsHint from '../components/profil/FriendsHint.jsx';\n\nconst Home = () => {\n\n\tconst uid = useContext(UidContext);\n\n\treturn (\n\t\t<div className=\"home\">\n\t\t\t<LeftNav/>\n\t\t\t<div className=\"main\">\n\t\t\t\t<div className=\"home-header\">\n\t\t\t\t\t{uid ? <NewPost/> : <Log signIn={true} signUp={false}/>}\n\t\t\t\t</div>\n\t\t\t\t<Thread/>\n\t\t\t</div>\n\t\t\t<div className=\"right-side\">\n\t\t\t\t<div className=\"right-side-container\">\n\t\t\t\t\t<div className=\"wrapper\">\n\t\t\t\t\t\t<Trends />\n\t\t\t\t\t\t{uid && <FriendsHint/>}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Home;","import React from 'react';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { uploadPicture } from '../../actions/user.actions.js';\n\nconst UploadImg = () => {\n\n\tconst [file, setFile] = useState('');\n\tconst dispatch = useDispatch();\n\tconst userData = useSelector(state => state.userReducer);\n\n\tconst handlePicture = (e) => {\n\t\te.preventDefault();\n\t\tconst data = new FormData();\n\t\tdata.append('pseudo', userData.pseudo);\n\t\tdata.append('userId', userData._id);\n\t\tdata.append('file', file);\n\n\t\tdispatch(uploadPicture(data, userData._id));\n\t};\n\n\treturn (\n\t\t<form onSubmit={handlePicture} className=\"upload-pic\">\n\t\t\t<label htmlFor=\"file\">Changer d'image</label>\n\t\t\t<input onChange={(e) => setFile(e.target.files[0])} type=\"file\" id=\"file\" name=\"file\" accept=\".jpeg, .jpg, .png\"/>\n\t\t\t<br/>\n\t\t\t<input type=\"submit\" value=\"Envoyer\" />\n\t\t</form>\n\t);\n};\n\nexport default UploadImg;","import React from 'react';\nimport LeftNav from '../LeftNav.jsx';\nimport { useDispatch, useSelector } from 'react-redux';\nimport UploadImg from './UploadImg.jsx';\nimport { useState } from 'react';\nimport { updateBio } from '../../actions/user.actions.js';\nimport { dateParser } from '../Utils.js';\nimport FollowHandler from './FollowHandler.jsx';\n\nconst UpdateProfil = () => {\n\n\tconst [bio, setBio] = useState('');\n\tconst [updateForm, setUpdateForm] = useState(false);\n\tconst userData = useSelector(state => state.userReducer);\n\tconst usersData = useSelector(state => state.usersReducer);\n\tconst error = useSelector(state => state.errorReducer.userError);\n\tconst dispatch = useDispatch();\n\n\tconst [followingPopUp, setFollowingPopUp] = useState(false);\n\tconst [followersPopUp, setFollowersPopUp] = useState(false);\n\n\tconst handleUpdate = () => {\n\t\tdispatch(updateBio(userData._id, bio));\n\t\tsetUpdateForm(false);\n\t};\n\n\treturn (\n\t\t<div className=\"profil-container\">\n\t\t\t<LeftNav />\n\t\t\t<h1>Profil de {userData.pseudo}</h1>\n\t\t\t<div className=\"update-container\">\n\t\t\t\t<div className=\"left-part\">\n\t\t\t\t\t<h3>Photo de profil</h3>\n\t\t\t\t\t<img src={userData.picture} alt=\"user img\"/>\n\t\t\t\t\t<UploadImg />\n\t\t\t\t\t<p>{error.maxSize}</p>\n\t\t\t\t\t<p>{error.format}</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"right-part\">\n\t\t\t\t\t<div className=\"bio-update\">\n\t\t\t\t\t\t<h3>Bio</h3>\n\t\t\t\t\t\t{!updateForm && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<p onClick={() => setUpdateForm(!updateForm)}>{userData.bio}</p>\n\t\t\t\t\t\t\t\t<button onClick={() => setUpdateForm(!updateForm)}>Modifier bio</button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{updateForm && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<textarea onChange={(e) => setBio(e.target.value)} defaultValue={userData.bio} />\n\t\t\t\t\t\t\t\t<button onClick={handleUpdate}>Valider modifications</button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<h4>Membre depuis le : {dateParser(userData.createdAt)}</h4>\n\t\t\t\t\t<h5 onClick={() => setFollowingPopUp(true)}>\n                        Abonnements : {userData.following ? userData.following.length : null}\n\t\t\t\t\t</h5>\n\t\t\t\t\t<h5 onClick={() => setFollowersPopUp(true)}>\n                        Abonnés : {userData.followers ? userData.followers.length : null}\n\t\t\t\t\t</h5>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{followingPopUp && (\n\t\t\t\t<div className=\"popup-profil-container\">\n\t\t\t\t\t<div className=\"modal\">\n\t\t\t\t\t\t<h3>Abonnements</h3>\n\t\t\t\t\t\t<span onClick={() => setFollowingPopUp(false)} className=\"cross\">&#10005;</span>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t{usersData.map(user => {\n\t\t\t\t\t\t\t\tfor (let i = 0; i < userData.following.length; i++) {\n\t\t\t\t\t\t\t\t\tif (user._id === userData.following[i]) {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<li key={user._id}>\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={user.picture} alt=\"user-pic\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<h4>{user.pseudo}</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"follow-handler\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FollowHandler idToFollow={user._id} type={'suggestion'} />\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t{followersPopUp && (\n\t\t\t\t<div className=\"popup-profil-container\">\n\t\t\t\t\t<div className=\"modal\">\n\t\t\t\t\t\t<h3>Abonnés</h3>\n\t\t\t\t\t\t<span onClick={() => setFollowersPopUp(false)} className=\"cross\">&#10005;</span>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t{usersData.map(user => {\n\t\t\t\t\t\t\t\tfor (let i = 0; i < userData.followers.length; i++) {\n\t\t\t\t\t\t\t\t\tif (user._id === userData.followers[i]) {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<li key={user._id}>\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={user.picture} alt=\"user-pic\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<h4>{user.pseudo}</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"follow-handler\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FollowHandler idToFollow={user._id} type={'suggestion'} />\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default UpdateProfil;","import React from 'react';\nimport Log from '../components/log/Log.jsx';\nimport {UidContext} from '../components/AppContext.jsx';\nimport {useContext} from 'react';\nimport UpdateProfil from '../components/profil/UpdateProfil.jsx';\n\nconst Profil = () => {\n\n\tconst uid = useContext(UidContext);\n\n\treturn (\n\t\t<div className=\"profil-page\">\n\t\t\t{uid ? (\n\t\t\t\t<UpdateProfil />\n\t\t\t) : (\n\t\t\t\t<div className=\"log-container\">\n\t\t\t\t\t<Log signIn={false} signUp={true} />\n\t\t\t\t\t<div className=\"img-container\">\n\t\t\t\t\t\t<img src='./img/log.svg' alt=\"log\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Profil;","import React, { useContext } from 'react';\nimport { UidContext } from '../components/AppContext.jsx';\nimport { useSelector } from 'react-redux';\nimport LeftNav from '../components/LeftNav.jsx';\nimport { isEmpty } from '../components/Utils.js';\nimport Card from '../components/post/Card.jsx';\nimport Trends from '../components/Trends.jsx';\nimport FriendsHint from '../components/profil/FriendsHint.jsx';\n\nconst Trending = () => {\n\n\tconst uid = useContext(UidContext);\n\tconst trendList = useSelector(state => state.trendingReducer);\n\n\treturn (\n\t\t<div className=\"trending-page\">\n\t\t\t<LeftNav/>\n\t\t\t<div className=\"main\">\n\t\t\t\t<ul>\n\t\t\t\t\t{!isEmpty(trendList[0]) && trendList.map(post => (\n\t\t\t\t\t\t<Card post={post} key={post._id}/>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div className=\"right-side\">\n\t\t\t\t<div className=\"right-side-container\">\n\t\t\t\t\t<Trends />\n\t\t\t\t\t{uid && <FriendsHint/>}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Trending;","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { isEmpty } from './Utils.js';\nimport Card from './post/Card.jsx';\n\nconst FollowThread = () => {\n\n\tconst [postFollow, setPostFollow] = useState([]);\n\tconst posts = useSelector(state => state.allPostReducer);\n\tconst userData = useSelector(state => state.userReducer);\n\n\tuseEffect(() => {\n\t\tif (!isEmpty(userData) && !isEmpty(posts)) {\n\t\t\tlet arr = [];\n\t\t\tuserData.following.map(userId => {\n\t\t\t\tarr.push(posts.filter(post => post.posterId === userId));\n\t\t\t\tlet result = [];\n\t\t\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\t\t\tresult = result.concat(arr[i]);\n\t\t\t\t}\n\t\t\t\tconst sortResult = result.sort((a, b) => {\n\t\t\t\t\treturn new Date(b.updatedAt) - new Date(a.updatedAt);\n\t\t\t\t});\n\t\t\t\tsetPostFollow(sortResult);\n\t\t\t});\n\t\t}\n\t}, [userData, posts]);\n\n\n\treturn (\n\t\t<div className=\"thread-container\">\n\t\t\t<ul>\n\t\t\t\t{!isEmpty(postFollow) && postFollow.map(post => (\n\t\t\t\t\t<Card key={post._id} post={post}/>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</div>\n\t);\n};\n\nexport default FollowThread;","import React, { useContext } from 'react';\nimport { UidContext } from '../components/AppContext.jsx';\nimport LeftNav from '../components/LeftNav.jsx';\nimport NewPost from '../components/post/NewPost.jsx';\nimport Log from '../components/log/Log.jsx';\nimport Trends from '../components/Trends.jsx';\nimport FriendsHint from '../components/profil/FriendsHint.jsx';\nimport FollowThread from '../components/FollowThread.jsx';\n\nconst MyFollow = () => {\n\n\tconst uid = useContext(UidContext);\n\n\treturn (\n\t\t<div className=\"home\">\n\t\t\t<LeftNav/>\n\t\t\t<div className=\"main\">\n\t\t\t\t<div className=\"home-header\">\n\t\t\t\t\t{uid ? <NewPost/> : <Log signIn={true} signUp={false}/>}\n\t\t\t\t</div>\n\t\t\t\t{uid && <FollowThread/>}\n\t\t\t</div>\n\t\t\t<div className=\"right-side\">\n\t\t\t\t<div className=\"right-side-container\">\n\t\t\t\t\t<div className=\"wrapper\">\n\t\t\t\t\t\t<Trends/>\n\t\t\t\t\t\t{uid && <FriendsHint/>}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default MyFollow;","import React from 'react';\nimport { BrowserRouter as Router, Redirect, Route, Switch } from 'react-router-dom';\n\nimport Home from '../../pages/Home';\nimport Profil from '../../pages/Profil';\nimport Trending from '../../pages/Trending.jsx';\nimport Navbar from '../Navbar.jsx';\nimport PublicProfil from '../../pages/PublicProfil.jsx';\nimport MyFollow from '../../pages/MyFollow.jsx';\n\nconst Index = () => {\n\treturn (\n\t\t<Router>\n\t\t\t<Navbar/>\n\t\t\t<Switch>\n\t\t\t\t<Route exact path=\"/\" component={Home}/>\n\t\t\t\t<Route exact path=\"/profil\" component={Profil}/>\n\t\t\t\t<Route exact path=\"/public-profil/:id\" component={PublicProfil}/>\n\t\t\t\t<Route exact path=\"/trending\" component={Trending}/>\n\t\t\t\t<Route exact path=\"/my-follow\" component={MyFollow}/>\n\t\t\t\t<Redirect to='/'/>\n\t\t\t</Switch>\n\t\t</Router>\n\t);\n};\n\nexport default Index;","import React, { useState, useEffect }  from 'react';\nimport Routes from './components/routes';\nimport {UidContext} from './components/AppContext.jsx';\nimport axios from 'axios';\nimport { useDispatch } from 'react-redux';\nimport { getUser } from './actions/user.actions.js';\n\nconst App = () => {\n\n\tconst [uid, setuid] = useState(null);\n\tconst dispatch = useDispatch();\n\n\tuseEffect( () => {\n\t\tconst fetchToken = async () => {\n\t\t\tawait axios({\n\t\t\t\tmethod: 'get',\n\t\t\t\turl: `${process.env.REACT_APP_API_URL}jwtid`,\n\t\t\t\twithCredentials: true\n\t\t\t})\n\t\t\t\t.then(res => setuid(res.data))\n\t\t\t\t.catch(err => console.log(err));\n\t\t};\n\t\tfetchToken()\n\t\t\t.then(() => console.log('Uid confirm'))\n\t\t\t.catch(err => console.log(err));\n\n\t\tif (uid) {\n\t\t\tdispatch(getUser(uid));\n\t\t}\n\t}, [uid, dispatch]);\n\n\treturn (\n\t\t<UidContext.Provider value={uid}>\n\t\t\t<Routes/>\n\t\t</UidContext.Provider>\n\t);\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n\tif (onPerfEntry && onPerfEntry instanceof Function) {\n\t\timport('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n\t\t\tgetCLS(onPerfEntry);\n\t\t\tgetFID(onPerfEntry);\n\t\t\tgetFCP(onPerfEntry);\n\t\t\tgetLCP(onPerfEntry);\n\t\t\tgetTTFB(onPerfEntry);\n\t\t});\n\t}\n};\n\nexport default reportWebVitals;\n","import { FOLLOW_USER, GET_USER, UNFOLLOW_USER, UPDATE_BIO, UPLOAD_PICTURE } from '../actions/user.actions.js';\n\nconst initialState = {};\n\nexport default function userReducer(state = initialState, action) {\n\tswitch (action.type) {\n\tcase GET_USER:\n\t\treturn action.payload;\n\tcase UPLOAD_PICTURE:\n\t\treturn {\n\t\t\t...state,\n\t\t\tpicture: action.payload\n\t\t};\n\tcase UPDATE_BIO:\n\t\treturn {\n\t\t\t...state,\n\t\t\tbio: action.payload\n\t\t};\n\tcase FOLLOW_USER:\n\t\treturn {\n\t\t\t...state,\n\t\t\tfollowing: [action.payload.idToFollow, ...state.following]\n\t\t};\n\tcase UNFOLLOW_USER:\n\t\treturn {\n\t\t\t...state,\n\t\t\tfollowing: state.following.filter(id => id !== action.payload.idToUnfollow)\n\t\t};\n\tdefault:\n\t\treturn state;\n\t}\n}","import axios from 'axios';\n\nexport const GET_USERS = 'GET_USERS';\n\nexport const getUsers = () => {\n\treturn (dispatch) => {\n\t\treturn axios\n\t\t\t.get(`${process.env.REACT_APP_API_URL}api/user`)\n\t\t\t.then(res => {\n\t\t\t\tdispatch({ type: GET_USERS, payload: res.data});\n\t\t\t})\n\t\t\t.catch(err => console.log({ err }));\n\t};\n};","import { GET_USERS } from '../actions/users.actions.js';\n\nconst initialState = {};\n\nexport default function usersReducer(state = initialState, action) {\n\tswitch (action.type) {\n\tcase GET_USERS:\n\t\treturn action.payload;\n\tdefault:\n\t\treturn state;\n\t}\n}","import {\n\tDELETE_COMMENT,\n\tDELETE_POST,\n\tEDIT_COMMENT,\n\tGET_POSTS,\n\tLIKE_POST,\n\tUNLIKE_POST,\n\tUPDATE_POST\n} from '../actions/post.action.js';\n\nconst initialState = {};\n\nexport default function postReducer (state = initialState, action) {\n\tswitch (action.type) {\n\tcase GET_POSTS:\n\t\treturn action.payload;\n\tcase LIKE_POST:\n\t\treturn state.map(post => {\n\t\t\tif (post._id === action.payload.postId) {\n\t\t\t\treturn {\n\t\t\t\t\t...post,\n\t\t\t\t\tlikers: [action.payload.userId, ...post.likers]\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn post;\n\t\t});\n\tcase UNLIKE_POST:\n\t\treturn state.map(post => {\n\t\t\tif (post._id === action.payload.postId) {\n\t\t\t\treturn {\n\t\t\t\t\t...post,\n\t\t\t\t\tlikers: post.likers.filter(id => id !== action.payload.userId)\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn post;\n\t\t});\n\tcase UPDATE_POST:\n\t\treturn state.map(post => {\n\t\t\tif (post._id === action.payload.postId) {\n\t\t\t\treturn {\n\t\t\t\t\t...post,\n\t\t\t\t\tmessage: action.payload.message\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn post;\n\t\t});\n\tcase DELETE_POST:\n\t\treturn state.filter(post => post._id !== action.payload.postId);\n\tcase EDIT_COMMENT:\n\t\treturn state.map(post => {\n\t\t\tif (post._id === action.payload.postId) {\n\t\t\t\treturn {\n\t\t\t\t\t...post,\n\t\t\t\t\tcomments: post.comments.map(comment => {\n\t\t\t\t\t\tif (comment._id === action.payload.commentId) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...comment,\n\t\t\t\t\t\t\t\ttext: action.payload.text\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} else return comment;\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t} else return post;\n\t\t});\n\tcase DELETE_COMMENT:\n\t\treturn state.map(post => {\n\t\t\tif (post._id === action.payload.postId) {\n\t\t\t\treturn {\n\t\t\t\t\t...post,\n\t\t\t\t\tcomments: post.comments.filter(comment => comment._id !== action.payload.commentId)\n\t\t\t\t};\n\t\t\t} else return post;\n\t\t});\n\tdefault:\n\t\treturn state;\n\t}\n}","import { GET_POST_ERRORS } from '../actions/post.action.js';\nimport { GET_USER_ERRORS } from '../actions/user.actions.js';\n\nconst initialState = {postError: [], userError: []};\n\nexport default function errorReducer(state = initialState, action) {\n\tswitch (action.type) {\n\tcase GET_POST_ERRORS:\n\t\treturn {\n\t\t\tpostError: action.payload,\n\t\t\tuserError: []\n\t\t};\n\tcase GET_USER_ERRORS:\n\t\treturn {\n\t\t\tuserError: action.payload,\n\t\t\tpostError: []\n\t\t};\n\tdefault:\n\t\treturn state;\n\t}\n}","import { GET_ALL_POST } from '../actions/post.action.js';\n\nconst initialState = {};\n\nexport default function allPostReducer (state = initialState, action) {\n\tswitch (action.type) {\n\tcase GET_ALL_POST:\n\t\treturn action.payload;\n\tdefault:\n\t\treturn state;\n\t}\n}","import { GET_TRENDS } from '../actions/post.action.js';\n\nconst initialState = {};\n\nexport default function trendingReducer (state = initialState, action) {\n\tswitch (action.type) {\n\tcase GET_TRENDS:\n\t\treturn action.payload;\n\tdefault:\n\t\treturn state;\n\t}\n}","import { combineReducers } from 'redux';\nimport userReducer from './user.reducer.js';\nimport usersReducer from './users.reducer.js';\nimport postReducer from './post.reducer.js';\nimport errorReducer from './error.reducer.js';\nimport allPostReducer from './allPost.reducer.js';\nimport trendingReducer from './trending.reducer.js';\n\nexport default combineReducers({\n\tuserReducer,\n\tusersReducer,\n\tpostReducer,\n\terrorReducer,\n\tallPostReducer,\n\ttrendingReducer,\n});","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport { Provider } from 'react-redux';\nimport { applyMiddleware, createStore } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\nimport { getUsers } from './actions/users.actions.js';\nimport { getPosts } from './actions/post.action.js';\n\nconst store = createStore(\n\trootReducer, composeWithDevTools(applyMiddleware(thunk))\n);\n\nstore.dispatch(getUsers());\nstore.dispatch(getPosts());\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}