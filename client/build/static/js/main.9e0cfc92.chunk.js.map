{"version":3,"sources":["actions/user.actions.js","components/AppContext.jsx","components/profil/FollowHandler.jsx","components/LeftNav.jsx","components/Utils.js","components/Navbar.jsx","components/log/Logout.jsx","pages/PublicProfil.jsx","actions/post.action.js","components/post/LikeButton.jsx","components/post/DeleteCard.jsx","components/post/EditDeleteComment.jsx","components/post/CardComments.jsx","components/post/Card.jsx","components/Thread.jsx","components/post/NewPost.jsx","components/log/SignInForm.jsx","components/log/SignUpForm.jsx","components/log/Log.jsx","components/Trends.jsx","components/profil/FriendsHint.jsx","pages/Home.jsx","components/profil/UploadImg.jsx","components/profil/UpdateProfil.jsx","pages/Profil.jsx","pages/Trending.jsx","components/routes/index.jsx","App.js","reportWebVitals.js","reducers/user.reducer.js","actions/users.actions.js","reducers/users.reducer.js","reducers/post.reducer.js","reducers/error.reducer.js","reducers/allPost.reducer.js","reducers/trending.reducer.js","reducers/index.js","index.js"],"names":["GET_USER","UPLOAD_PICTURE","UPDATE_BIO","FOLLOW_USER","UNFOLLOW_USER","GET_USER_ERRORS","getUser","uid","dispatch","axios","get","process","then","res","type","payload","data","catch","err","console","log","uploadPicture","id","post","errors","picture","updateBio","userId","bio","method","url","followUser","followerId","idToFollow","unfollowUser","idToUnfollow","UidContext","createContext","FollowHandler","userData","useSelector","state","userReducer","useState","isFollowed","setIsFollowed","useDispatch","useEffect","isEmpty","following","includes","onClick","_id","className","src","alt","LeftNav","exact","to","activeClassName","__dirname","dateParser","date","timestamp","Date","parse","toLocaleDateString","hour","minute","second","weekday","year","month","day","toString","timestampParser","tsp","value","undefined","Object","keys","length","trim","Navbar","useContext","pseudo","Logout","logout","a","withCredentials","key","window","cookie","remove","expires","location","PublicProfil","profilPublic","setProfilPublic","usersData","usersReducer","useParams","filter","user","createdAt","followers","GET_POSTS","GET_ALL_POST","LIKE_POST","UNLIKE_POST","UPDATE_POST","DELETE_POST","EDIT_COMMENT","DELETE_COMMENT","GET_TRENDS","GET_POST_ERRORS","getPosts","count","dataLimit","slice","addPost","LikeButton","liked","setLiked","likers","trigger","position","closeDocumentClick","style","textAlign","postId","DeleteCard","deleteQuote","confirm","EditDeleteComment","comment","isAuthor","setIsAuthor","edit","setEdit","text","setText","handleDelete","commentId","deleteComment","commenterId","onSubmit","e","preventDefault","editComment","htmlFor","name","onChange","target","defaultValue","CardComments","comments","map","commenterPseudo","addComment","placeholder","Card","isLoading","setIsLoading","isUpdated","setIsUpdated","textUpdate","setTextUpdate","showComments","setShowComments","posterId","message","video","width","height","frameBorder","title","allow","allowFullScreen","Thread","loadPost","setLoadPost","setCount","posts","postReducer","loadMore","innerHeight","document","documentElement","scrollTop","scrollingElement","scrollHeight","addEventListener","removeEventListener","NewPost","setMessage","postPicture","setPostPicture","setVideo","file","setFile","error","errorReducer","postError","handlePost","FormData","append","cancelPost","alert","findLink","split","i","embed","replace","splice","join","handleVideo","now","accept","URL","createObjectURL","files","format","maxSize","SignInForm","email","setEmail","password","setPassword","emailError","querySelector","passwordError","innerHTML","SignUpForm","formSubmit","setFormSubmit","setPseudo","controlPassword","setControlPassword","handleRegister","terms","getElementById","pseudoError","passwordConfirmError","termsError","checked","href","rel","Log","signIn","signUp","signUpModal","setSignUpModal","signInModal","setSignInModal","handleModal","Trends","allPostReducer","trendList","trendingReducer","sortedArray","sort","b","getTrends","FriendsHint","playOne","setPlayOne","friendsHint","setFriendsHint","array","push","Math","random","notFriendsList","hint","Home","UploadImg","UpdateProfil","setBio","updateForm","setUpdateForm","userError","followingPopUp","setFollowingPopUp","followersPopUp","setFollowersPopUp","Profil","Trending","Index","path","component","App","setuid","fetchToken","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","GET_USERS","combineReducers","action","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render"],"mappings":"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","file":"static/js/main.9e0cfc92.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport const GET_USER = 'GET_USER';\nexport const UPLOAD_PICTURE = 'UPLOAD_PICTURE';\nexport const UPDATE_BIO = 'UPDATE_BIO';\nexport const FOLLOW_USER = 'FOLLOW_USER';\nexport const UNFOLLOW_USER = 'UNFOLLOW_USER';\n\nexport const GET_USER_ERRORS = 'GET_USER_ERRORS';\n\nexport const getUser = (uid) => {\n\treturn (dispatch) => {\n\t\treturn axios\n\t\t\t.get(`${process.env.REACT_APP_API_URL}api/user/${uid}`)\n\t\t\t.then(res => {\n\t\t\t\tdispatch({ type: GET_USER, payload: res.data });\n\t\t\t})\n\t\t\t.catch(err => console.log({ err }));\n\t};\n};\n\nexport const uploadPicture = (data, id) => {\n\treturn (dispatch) => {\n\t\treturn axios\n\t\t\t.post(`${process.env.REACT_APP_API_URL}api/user/upload`, data)\n\t\t\t.then(res => {\n\t\t\t\tif (res.data.errors) {\n\t\t\t\t\tdispatch({ type: GET_USER_ERRORS, payload: res.data.errors });\n\t\t\t\t} else {\n\t\t\t\t\tdispatch({ type: GET_USER_ERRORS, payload: '' });\n\t\t\t\t\treturn axios\n\t\t\t\t\t\t.get(`${process.env.REACT_APP_API_URL}api/user/${id}`)\n\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\tdispatch({ type: UPLOAD_PICTURE, payload: res.data.picture});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => console.log({ err }));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => console.log({ err }));\n\t};\n};\n\nexport const updateBio = (userId, bio) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'put',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/user/${userId}`,\n\t\t\tdata: { bio }\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({ type: UPDATE_BIO, payload: bio});\n\t\t\t})\n\t\t\t.catch(err => console.log({ err }));\n\t};\n};\n\nexport const followUser = (followerId, idToFollow) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/user/follow/${followerId}`,\n\t\t\tdata: { idToFollow }\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({ type: FOLLOW_USER, payload: {idToFollow}});\n\t\t\t})\n\t\t\t.catch(err => console.log({ err }));\n\t};\n};\n\nexport const unfollowUser = (followerId, idToUnfollow) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/user/unfollow/${followerId}`,\n\t\t\tdata: { idToUnfollow }\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({ type: UNFOLLOW_USER, payload: {idToUnfollow}});\n\t\t\t})\n\t\t\t.catch(err => console.log({ err }));\n\t};\n};","import {createContext} from 'react';\n\nexport const UidContext = createContext(null);","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport { isEmpty } from '../Utils.js';\nimport { followUser, unfollowUser } from '../../actions/user.actions.js';\n\nconst FollowHandler = ({ idToFollow, type }) => {\n\n\tconst userData = useSelector(state => state.userReducer);\n\tconst [isFollowed, setIsFollowed] = useState(false);\n\tconst dispatch = useDispatch();\n\n\tconst handleFollow = () => {\n\t\tdispatch(followUser(userData._id, idToFollow));\n\t\tsetIsFollowed(true);\n\t};\n\n\tconst handleUnfollow = () => {\n\t\tdispatch(unfollowUser(userData._id, idToFollow));\n\t\tsetIsFollowed(false);\n\t};\n\n\tuseEffect(() => {\n\t\tif (!isEmpty(userData.following)) {\n\t\t\tif (userData.following.includes(idToFollow)) {\n\t\t\t\tsetIsFollowed(true);\n\t\t\t} else {\n\t\t\t\tsetIsFollowed(false);\n\t\t\t}\n\t\t}\n\t}, [userData, idToFollow]);\n\n\treturn (\n\t\t<>\n\t\t\t{isFollowed && !isEmpty(userData) && (\n\t\t\t\t<span onClick={handleUnfollow}>\n\t\t\t\t\t{type === 'suggestion' && <button className=\"unfollow-btn\">Abonné</button>}\n\t\t\t\t\t{type === 'card' && <img src=\"./img/icons/checked.svg\" alt=\"checked\" />}\n\t\t\t\t</span>\n\t\t\t)}\n\t\t\t{!isFollowed && !isEmpty(userData) && (\n\t\t\t\t<span onClick={handleFollow}>\n\t\t\t\t\t{type === 'suggestion' && <button className=\"follow-btn\">Suivre</button>}\n\t\t\t\t\t{type === 'card' && <img src=\"./img/icons/check.svg\" alt=\"check\" />}\n\t\t\t\t</span>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default FollowHandler;","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nconst LeftNav = () => {\n\treturn (\n\t\t<div className=\"left-nav-container\">\n\t\t\t<div className=\"icons\">\n\t\t\t\t<div className=\"icons-bis\">\n\t\t\t\t\t<NavLink exact to='/' activeClassName=\"active-left-nav\">\n\t\t\t\t\t\t<img src={__dirname + 'img/icons/home.svg'} alt=\"home\"/>\n\t\t\t\t\t</NavLink>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<NavLink exact to='/trending' activeClassName=\"active-left-nav\">\n\t\t\t\t\t\t<img src={__dirname + 'img/icons/rocket.svg'} alt=\"home\"/>\n\t\t\t\t\t</NavLink>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<NavLink exact to='/profil' activeClassName=\"active-left-nav\">\n\t\t\t\t\t\t<img src={__dirname + 'img/icons/user.svg'} alt=\"home\"/>\n\t\t\t\t\t</NavLink>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default LeftNav;","export const dateParser = (date) => {\n\tlet options = {\n\t\thour: '2-digit',\n\t\tminute: '2-digit',\n\t\tsecond: '2-digit',\n\t\tweekday: 'long',\n\t\tyear: 'numeric',\n\t\tmonth: 'short',\n\t\tday: 'numeric'\n\t};\n\n\tlet timestamp = Date.parse(date);\n\n\tlet dateFormatted = new Date(timestamp).toLocaleDateString('fr-FR', options);\n\n\treturn dateFormatted.toString();\n};\n\nexport const timestampParser = (tsp) => {\n\tlet options = {\n\t\thour: '2-digit',\n\t\tminute: '2-digit',\n\t\tsecond: '2-digit',\n\t\tweekday: 'long',\n\t\tyear: 'numeric',\n\t\tmonth: 'short',\n\t\tday: 'numeric'\n\t};\n\n\tlet date = new Date(tsp).toLocaleDateString('fr-FR', options);\n\n\treturn date.toString();\n};\n\nexport const isEmpty = (value) => {\n\treturn value === undefined ||\n        value === null ||\n        (typeof value === 'object' && Object.keys(value).length === 0) ||\n        (typeof value === 'string' && value.trim().length === 0);\n};","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { UidContext } from './AppContext.jsx';\nimport { useContext } from 'react';\nimport Logout from './log/Logout.jsx';\nimport { useSelector } from 'react-redux';\n\nconst Navbar = () => {\n    \n\tconst uid = useContext(UidContext);\n\tconst userData = useSelector(state => state.userReducer);\n    \n\treturn (\n\t\t<nav>\n\t\t\t<div className=\"nav-container\">\n\t\t\t\t<div className=\"logo\">\n\t\t\t\t\t<NavLink exact to=\"/\">\n\t\t\t\t\t\t<div className=\"logo\">\n\t\t\t\t\t\t\t<img src={__dirname + 'img/icon.png'} alt=\"logo\"/>\n\t\t\t\t\t\t\t<h3>Pineapple</h3>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</NavLink>\n\t\t\t\t</div>\n\t\t\t\t{uid ? (\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li/>\n\t\t\t\t\t\t<li className=\"welcome\">\n\t\t\t\t\t\t\t<NavLink exact to=\"/profil\">\n\t\t\t\t\t\t\t\t<h5>Bienvenue {userData.pseudo}</h5>\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<Logout/>\n\t\t\t\t\t</ul>\n\t\t\t\t) : (\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li/>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<NavLink exact to=\"/profil\">\n\t\t\t\t\t\t\t\t<img src={__dirname + 'img/icons/login.svg'} alt=\"logo\"/>\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</nav>\n\t);\n};\n\nexport default Navbar;","import React from 'react';\nimport axios from 'axios';\nimport cookie from 'js-cookie';\n\nconst Logout = () => {\n\n\tconst removeCookie = (key) => {\n\t\tif (window !== undefined) {\n\t\t\tcookie.remove(key, {expires: 1});\n\t\t}\n\t};\n\n\tconst logout = async () => {\n\t\tawait axios({\n\t\t\tmethod: 'get',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/user/logout`,\n\t\t\twithCredentials: true\n\t\t})\n\t\t\t.then(() => removeCookie('jwt'))\n\t\t\t.catch(err => console.log({ err }));\n\n\t\twindow.location = '/';\n\t};\n\n\treturn (\n\t\t<li onClick={logout}>\n\t\t\t<img src={__dirname + 'img/icons/logout.svg'} alt=\"Logout\"/>\n\t\t</li>\n\t);\n};\n\nexport default Logout;","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport LeftNav from '../components/LeftNav.jsx';\nimport { dateParser, isEmpty } from '../components/Utils.js';\nimport FollowHandler from '../components/profil/FollowHandler.jsx';\n\nconst PublicProfil = () => {\n\n\tconst [profilPublic, setProfilPublic] = useState([]);\n\tconst usersData = useSelector(state => state.usersReducer);\n\tlet { id } = useParams();\n\n\tuseEffect(() => {\n\t\tif (!isEmpty(usersData[0]) && id) {\n\t\t\tsetProfilPublic(usersData.filter(user => user._id === id));\n\t\t}\n\t}, [usersData, id]);\n\n\n\treturn (\n\t\t<div className=\"public-profil\">\n\t\t\t{!isEmpty(profilPublic) ? (\n\t\t\t\t<div className=\"public-profil__container\">\n\t\t\t\t\t<LeftNav/>\n\t\t\t\t\t<h1>Profil de {profilPublic[0].pseudo}</h1>\n\t\t\t\t\t<div className=\"left-part\">\n\t\t\t\t\t\t<img src={__dirname + profilPublic[0].picture} alt=\"Profil picture\"/>\n\t\t\t\t\t\t<h3>Bio :</h3>\n\t\t\t\t\t\t<p className=\"bio\">{profilPublic[0].bio}</p>\n\t\t\t\t\t\t<h4 className=\"createdAt\">Membre depuis le : {dateParser(profilPublic[0].createdAt)}</h4>\n\t\t\t\t\t\t<div className=\"data\">\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<span>{profilPublic[0].following ? profilPublic[0].following.length : 0}</span>\n\t\t\t\t\t\t\t\t&nbsp;Abonnement{profilPublic[0].following && profilPublic[0].following.length > 1 ? 's' : null}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<span>{profilPublic[0].followers ? profilPublic[0].followers.length : 0}</span>\n\t\t\t\t\t\t\t\t&nbsp;Abonné{profilPublic[0].followers && profilPublic[0].followers.length > 1 ? 's' : null}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"btn-follow\">\n\t\t\t\t\t\t\t<FollowHandler idToFollow={profilPublic[0]._id} type={'suggestion'}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"public-profil\">\n\t\t\t\t\t<h1>L'utilisateur n'existe pas...</h1>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t</div>\n\t);\n};\n\nexport default PublicProfil;","import axios from 'axios';\n\nexport const GET_POSTS = 'GET_POSTS';\nexport const GET_ALL_POST = 'GET_ALL_POST';\nexport const ADD_POST = 'ADD_POST';\nexport const LIKE_POST = 'LIKE_POST';\nexport const UNLIKE_POST = 'UNLIKE_POST';\nexport const UPDATE_POST = 'UPDATE_POST';\nexport const DELETE_POST = 'DELETE_POST';\n\nexport const ADD_COMMENT = 'ADD_COMMENT';\nexport const EDIT_COMMENT = 'EDIT_COMMENT';\nexport const DELETE_COMMENT = 'DELETE_COMMENT';\n\nexport const GET_TRENDS = 'GET_TRENDS';\n\nexport const GET_POST_ERRORS = 'GET_POST_ERRORS';\n\nexport const getPosts = (count) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'get',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post`\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\tconst dataLimit = res.data.slice(0, count);\n\t\t\t\tdispatch({type: GET_POSTS, payload: dataLimit});\n\t\t\t\tdispatch({type: GET_ALL_POST, payload: res.data});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const addPost = (data) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'post',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post`,\n\t\t\tdata: data\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res.data.errors) {\n\t\t\t\t\tdispatch({type: GET_POST_ERRORS, payload: res.data.errors});\n\t\t\t\t} else {\n\t\t\t\t\tdispatch({type: GET_POST_ERRORS, payload: ''});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const likePost = (postId, userId) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/like-post/${postId}`,\n\t\t\tdata: {id: userId}\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: LIKE_POST, payload: {postId, userId}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const unlikePost = (postId, userId) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/unlike-post/${postId}`,\n\t\t\tdata: {id: userId}\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: UNLIKE_POST, payload: {postId, userId}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const updatePost = (postId, message) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'put',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/${postId}`,\n\t\t\tdata: {message}\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: UPDATE_POST, payload: {message, postId}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const deletePost = (postId) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'delete',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/${postId}`,\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: DELETE_POST, payload: {postId}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const addComment = (postId, commenterId, text, commenterPseudo) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/comment-post/${postId}`,\n\t\t\tdata: {\n\t\t\t\tcommenterId,\n\t\t\t\ttext,\n\t\t\t\tcommenterPseudo\n\t\t\t}\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: ADD_COMMENT, payload: {postId}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const editComment = (postId, commentId, text) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/edit-comment-post/${postId}`,\n\t\t\tdata: {\n\t\t\t\tcommentId,\n\t\t\t\ttext\n\t\t\t}\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: EDIT_COMMENT, payload: {postId, commentId, text}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const deleteComment = (postId, commentId) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/delete-comment-post/${postId}`,\n\t\t\tdata: {commentId}\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: DELETE_COMMENT, payload: {postId, commentId}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const getTrends = (sortedArray) => {\n\treturn (dispatch) => {\n\t\tdispatch({type: GET_TRENDS, payload: sortedArray});\n\t};\n};","import React from 'react';\nimport { useState, useEffect, useContext } from 'react';\nimport { UidContext } from '../AppContext.jsx';\nimport Popup from 'reactjs-popup';\nimport 'reactjs-popup/dist/index.css';\nimport { useDispatch } from 'react-redux';\nimport { likePost, unlikePost } from '../../actions/post.action.js';\n\nconst LikeButton = ({ post }) => {\n\n\tconst [liked, setLiked] = useState(false);\n\tconst uid = useContext(UidContext);\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tif (post.likers.includes(uid)) {\n\t\t\tsetLiked(true);\n\t\t} else {\n\t\t\tsetLiked(false);\n\t\t}\n\t}, [uid, liked, post.likers]);\n\n\tconst like = () => {\n\t\tdispatch(likePost(post._id, uid));\n\t\tsetLiked(true);\n\t};\n\n\tconst unlike = () => {\n\t\tdispatch(unlikePost(post._id, uid));\n\t\tsetLiked(false);\n\t};\n\n\treturn (\n\t\t<div className=\"like-container\">\n\t\t\t{uid === null && (\n\t\t\t\t<Popup\n\t\t\t\t\ttrigger={<img src=\"./img/icons/heart.svg\" alt=\"like\"/>}\n\t\t\t\t\tposition={['bottom center', 'bottom right', 'bottom left']}\n\t\t\t\t\tcloseDocumentClick\n\t\t\t\t>\n\t\t\t\t\t<div style={{textAlign: 'center'}}>Connectez-vous pour liker un post !</div>\n\t\t\t\t</Popup>\n\t\t\t)}\n\t\t\t{uid && !liked && (\n\t\t\t\t<img onClick={like} src=\"./img/icons/heart.svg\" alt=\"like\"/>\n\t\t\t)}\n\t\t\t{uid && liked && (\n\t\t\t\t<img onClick={unlike} src=\"./img/icons/heart-filled.svg\" alt=\"like\"/>\n\t\t\t)}\n\t\t\t<span>{post.likers && post.likers.length}</span>\n\t\t</div>\n\t);\n};\n\nexport default LikeButton;","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { deletePost } from '../../actions/post.action.js';\n\nconst DeleteCard = ({ id }) => {\n\tconst dispatch = useDispatch();\n\n\tconst deleteQuote = () => {\n\t\tdispatch(deletePost(id));\n\t};\n\n\treturn (\n\t\t<div onClick={() => {\n\t\t\tif (window.confirm('Voulez-vous supprimer cet article ?')) {\n\t\t\t\tdeleteQuote();\n\t\t\t}\n\t\t}}>\n\t\t\t<img src=\"./img/icons/trash.svg\" alt=\"trash\" />\n\t\t</div>\n\t);\n};\n\nexport default DeleteCard;","import React from 'react';\nimport { useState } from 'react';\nimport { UidContext } from '../AppContext.jsx';\nimport { useContext } from 'react';\nimport { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { deleteComment, editComment } from '../../actions/post.action.js';\n\nconst EditDeleteComment = ({ comment, postId}) => {\n\n\tconst [isAuthor, setIsAuthor] = useState(false);\n\tconst [edit, setEdit] = useState(false);\n\tconst [text, setText] = useState('');\n\tconst uid = useContext(UidContext);\n\tconst dispatch = useDispatch();\n\n\tconst handleEdit = (e) => {\n\t\te.preventDefault();\n\t\tif (text) {\n\t\t\tdispatch(editComment(postId, comment._id, text));\n\t\t\tsetText('');\n\t\t\tsetEdit(false);\n\t\t}\n\t};\n    \n\tconst handleDelete = () => {\n\t\tdispatch(deleteComment(postId, comment._id));\n\t};\n\n\tuseEffect(() => {\n\t\tconst checkAuthor = () => {\n\t\t\tif (uid === comment.commenterId) {\n\t\t\t\tsetIsAuthor(true);\n\t\t\t}\n\t\t};\n\t\tcheckAuthor();\n\t}, [uid, comment.commenterId]);\n\n\treturn (\n\t\t<div className=\"edit-comment\">\n\t\t\t{isAuthor && !edit && (\n\t\t\t\t<span onClick={() => setEdit(!edit)}>\n\t\t\t\t\t<img src=\"./img/icons/edit.svg\" alt=\"edit\"/>\n\t\t\t\t</span>\n\t\t\t)}\n\t\t\t{isAuthor && edit && (\n\t\t\t\t<form className=\"edit-comment-form\" onSubmit={handleEdit}>\n\t\t\t\t\t<label htmlFor=\"text\" onClick={() => setEdit(!edit)}>Editer</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input type=\"text\" name=\"text\" onChange={(e) => setText(e.target.value)} defaultValue={comment.text}/>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<div className=\"btn\">\n\t\t\t\t\t\t<span onClick={() => {\n\t\t\t\t\t\t\tif (window.confirm('Voulez-vous supprimer ce commentaire ?')) {\n\t\t\t\t\t\t\t\thandleDelete();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<img src=\"./img/icons/trash.svg\" alt=\"trash\"/>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<input type=\"submit\" value=\"Valider les modifications\" />\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default EditDeleteComment;","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useState } from 'react';\nimport { isEmpty, timestampParser } from '../Utils.js';\nimport FollowHandler from '../profil/FollowHandler.jsx';\nimport { addComment, getPosts } from '../../actions/post.action.js';\nimport EditDeleteComment from './EditDeleteComment.jsx';\n\nconst CardComments = ({ post }) => {\n\n\tconst [text, setText] = useState('');\n\tconst usersData = useSelector(state => state.usersReducer);\n\tconst userData = useSelector(state => state.userReducer);\n\tconst dispatch = useDispatch();\n    \n\tconst handleComment = (e) => {\n\t\te.preventDefault();\n\t\tif (text) {\n\t\t\tdispatch(addComment(post._id, userData._id, text, userData.pseudo))\n\t\t\t\t.then(() => dispatch(getPosts()))\n\t\t\t\t.then(() => setText(''))\n\t\t\t\t.catch(err => console.log({ err }));\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"comments-container\">\n\t\t\t{post.comments.map(comment => (\n\t\t\t\t<div key={comment._id} className={comment.commenterId === userData._id ? 'comment-container client' : 'comment-container'}>\n\t\t\t\t\t<div className=\"left-part\">\n\t\t\t\t\t\t{!isEmpty(usersData[0]) && usersData.map(user => {\n\t\t\t\t\t\t\tif (user._id === comment.commenterId) {\n\t\t\t\t\t\t\t\treturn <img key={comment.commenterId} src={user.picture} alt={comment.commenterId} />;\n\t\t\t\t\t\t\t} else return null;\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"right-part\">\n\t\t\t\t\t\t<div className=\"comment-header\">\n\t\t\t\t\t\t\t<div className=\"pseudo\">\n\t\t\t\t\t\t\t\t<h3>{comment.commenterPseudo}</h3>\n\t\t\t\t\t\t\t\t{comment.commenterId !== userData._id && (\n\t\t\t\t\t\t\t\t\t<FollowHandler idToFollow={comment.commenterId} type={'card'} />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span>{timestampParser(comment.timestamp)}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p>{comment.text}</p>\n\t\t\t\t\t\t<EditDeleteComment comment={comment} postId={post._id}/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t\t{userData._id && (\n\t\t\t\t<form onSubmit={handleComment} className=\"comment-form\">\n\t\t\t\t\t<input type=\"text\" name=\"text\" onChange={(e) => setText(e.target.value)} value={text} placeholder=\"Laisser un commentaire\"/>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input type=\"submit\" value=\"Envoyer\" />\n\t\t\t\t</form>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default CardComments;","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { dateParser, isEmpty } from '../Utils.js';\nimport FollowHandler from '../profil/FollowHandler.jsx';\nimport LikeButton from './LikeButton.jsx';\nimport { updatePost } from '../../actions/post.action.js';\nimport DeleteCard from './DeleteCard.jsx';\nimport CardComments from './CardComments.jsx';\nimport { NavLink } from 'react-router-dom';\n\nconst Card = ({post}) => {\n\n\tconst [isLoading, setIsLoading] = useState(true);\n\tconst [isUpdated, setIsUpdated] = useState(false);\n\tconst [textUpdate, setTextUpdate] = useState(null);\n\tconst [showComments, setShowComments] = useState(false);\n\tconst usersData = useSelector(state => state.usersReducer);\n\tconst userData = useSelector(state => state.userReducer);\n\tconst dispatch = useDispatch();\n\n\tconst updateItem = () => {\n\t\tif (textUpdate) {\n\t\t\tdispatch(updatePost(post._id, textUpdate));\n\t\t}\n\t\tsetIsUpdated(false);\n\t};\n\n\tuseEffect(() => {\n\t\tif (!isEmpty(usersData[0])) {\n\t\t\tsetIsLoading(false);\n\t\t}\n\t}, [usersData]);\n\n\treturn (\n\t\t<li className=\"card-container\">\n\t\t\t{isLoading ? (\n\t\t\t\t<i className=\"fas fa-spinner fa-spin\"/>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"card-left\">\n\t\t\t\t\t\t{!isEmpty(usersData[0]) && usersData.map(user => {\n\t\t\t\t\t\t\tif (user._id === post.posterId) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<NavLink key={user._id} exact to={`/public-profil/${user._id}`}>\n\t\t\t\t\t\t\t\t\t\t<img src={user.picture} alt={user.picture}/>\n\t\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else return null;\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"card-right\">\n\t\t\t\t\t\t<div className=\"card-header\">\n\t\t\t\t\t\t\t<div className=\"pseudo\">\n\t\t\t\t\t\t\t\t{!isEmpty(usersData[0]) && usersData.map(user => {\n\t\t\t\t\t\t\t\t\tif (user._id === post.posterId) {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<h3 key={user._id}>{user.pseudo}</h3>\n\t\t\t\t\t\t\t\t\t\t\t\t{post.posterId !== userData._id && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FollowHandler idToFollow={post.posterId} type={'card'}/>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else return null;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span>{dateParser(post.createdAt)}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{!isUpdated && <p>{post.message}</p>}\n\t\t\t\t\t\t{isUpdated && (\n\t\t\t\t\t\t\t<div className=\"update-post\">\n\t\t\t\t\t\t\t\t<textarea defaultValue={post.message} onChange={(e) => setTextUpdate(e.target.value)}/>\n\t\t\t\t\t\t\t\t<div className=\"button-container\">\n\t\t\t\t\t\t\t\t\t<button className=\"btn\" onClick={updateItem}>Valider modifications</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{post.picture && (\n\t\t\t\t\t\t\t<img src={post.picture} alt={post.picture} className=\"card-pic\"/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{post.video && (\n\t\t\t\t\t\t\t<iframe width=\"500\" height=\"300\" src={post.video} frameBorder=\"0\" title={post._id} allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{userData._id === post.posterId && (\n\t\t\t\t\t\t\t<div className=\"button-container\">\n\t\t\t\t\t\t\t\t<div onClick={() => setIsUpdated(!isUpdated)}>\n\t\t\t\t\t\t\t\t\t<img src=\"./img/icons/edit.svg\" alt=\"edit\"/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<DeleteCard id={post._id}/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div className=\"card-footer\">\n\t\t\t\t\t\t\t<LikeButton post={post}/>\n\t\t\t\t\t\t\t<div className=\"comment-icon\">\n\t\t\t\t\t\t\t\t<img onClick={() => setShowComments(!showComments)} src=\"./img/icons/message1.svg\" alt=\"comment\"/>\n\t\t\t\t\t\t\t\t{post.comments && <span>{post.comments.length}</span>}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{showComments && <CardComments post={post}/>}\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</li>\n\t);\n};\n\nexport default Card;","import React from 'react';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getPosts } from '../actions/post.action.js';\nimport { isEmpty } from './Utils.js';\nimport Card from './post/Card.jsx';\n\nconst Thread = () => {\n\n\tconst [loadPost, setLoadPost] = useState(true);\n\tconst [count, setCount] = useState(5);\n\tconst dispatch = useDispatch();\n\tconst posts = useSelector(state => state.postReducer);\n\n\tconst loadMore = () => {\n\t\tif (window.innerHeight + document.documentElement.scrollTop + 1 > document.scrollingElement.scrollHeight) {\n\t\t\tsetLoadPost(true);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (loadPost) {\n\t\t\tdispatch(getPosts(count));\n\t\t\tsetLoadPost(false);\n\t\t\tsetCount(count + 5);\n\t\t}\n\n\t\twindow.addEventListener('scroll', loadMore);\n\t\treturn () => window.removeEventListener;\n\n\t}, [dispatch, loadPost, count]);\n\n\treturn (\n\t\t<div className=\"thread-container\">\n\t\t\t<ul>\n\t\t\t\t{ !isEmpty(posts[0]) && (\n\t\t\t\t\tposts.map(post => {\n\t\t\t\t\t\treturn <Card key={post._id} post={post} />;\n\t\t\t\t\t})\n\t\t\t\t)}\n\t\t\t</ul>\n\t\t</div>\n\t);\n};\n\nexport default Thread;","import React from 'react';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useEffect } from 'react';\nimport { isEmpty, timestampParser } from '../Utils.js';\nimport { NavLink } from 'react-router-dom';\nimport { addPost, getPosts } from '../../actions/post.action.js';\n\nconst NewPost = () => {\n\n\tconst [isLoading, setIsLoading] = useState(true);\n\tconst [message, setMessage] = useState('');\n\tconst [postPicture, setPostPicture] = useState(null);\n\tconst [video, setVideo] = useState('');\n\tconst [file, setFile] = useState('');\n\n\tconst userData = useSelector(state => state.userReducer);\n\tconst error = useSelector(state => state.errorReducer.postError);\n\tconst dispatch = useDispatch();\n\n\tconst handlePost = async () => {\n\t\tif (message || postPicture || video) {\n\t\t\tconst data = new FormData();\n\t\t\tdata.append('posterId', userData._id);\n\t\t\tdata.append('message', message);\n\t\t\tif (file) {\n\t\t\t\tdata.append('file', file);\n\t\t\t}\n\t\t\tdata.append('video', video);\n\n\t\t\tawait dispatch(addPost(data));\n\t\t\tdispatch(getPosts());\n\n\t\t\tcancelPost();\n\n\t\t} else {\n\t\t\talert('Veuillez entrer un message');\n\t\t}\n\t};\n\n\tconst handlePicture = (e) => {\n\t\tsetPostPicture(URL.createObjectURL(e.target.files[0]));\n\t\tsetFile(e.target.files[0]);\n\t\tsetVideo('');\n\t};\n\n\tconst handleVideo = () => {\n\t\tlet findLink = message.split(' ');\n\t\tfor (let i = 0; i < findLink.length; i++) {\n\t\t\tif (findLink[i].includes('https://www.yout') || findLink[i].includes('https://yout')) {\n\t\t\t\tlet embed = findLink[i].replace('watch?v=', 'embed/');\n\t\t\t\tsetVideo(embed.split('&')[0]);\n\t\t\t\tfindLink.splice(i, 1);\n\t\t\t\tsetMessage(findLink.join(' '));\n\t\t\t\tsetPostPicture(null);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst cancelPost = () => {\n\t\tsetMessage('');\n\t\tsetPostPicture('');\n\t\tsetVideo('');\n\t\tsetFile('');\n\t};\n\n\tuseEffect(() => {\n\t\tif (!isEmpty(userData)) {\n\t\t\tsetIsLoading(false);\n\t\t}\n\t\thandleVideo();\n\t}, [userData, message, video]);\n\n\treturn (\n\t\t<div className=\"post-container\">\n\t\t\t{isLoading ? (\n\t\t\t\t<i className=\"fas fa-spinner fa-pulse\" />\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"data\">\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span>{userData.following ? userData.following.length : 0}</span>\n                            &nbsp;Abonnement{userData.following && userData.following.length > 1 ? 's' : null }\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span>{userData.followers ? userData.followers.length : 0}</span>\n                             &nbsp;Abonné{userData.followers && userData.followers.length > 1 ? 's' : null }\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<NavLink exact to=\"/profil\">\n\t\t\t\t\t\t<div className=\"user-info\">\n\t\t\t\t\t\t\t<img src={userData.picture} alt=\"profil\"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</NavLink>\n\t\t\t\t\t<div className=\"post-form\">\n\t\t\t\t\t\t<textarea name=\"message\" id=\"message\" placeholder=\"Quoi de neuf ?\" value={message} onChange={(e) => setMessage(e.target.value)} />\n\t\t\t\t\t\t{message || postPicture || video.length > 10 ? (\n\t\t\t\t\t\t\t<li className=\"card-container\">\n\t\t\t\t\t\t\t\t<div className=\"card-left\">\n\t\t\t\t\t\t\t\t\t<img src={userData.picture} alt=\"pic\"/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"card-right\">\n\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"pseudo\">\n\t\t\t\t\t\t\t\t\t\t\t<h3>{userData.pseudo}</h3>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<span>{timestampParser(Date.now())}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"content\">\n\t\t\t\t\t\t\t\t\t\t<p>{message}</p>\n\t\t\t\t\t\t\t\t\t\t{postPicture && (\n\t\t\t\t\t\t\t\t\t\t\t<img src={postPicture} alt=\"post-img\"/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{video && (\n\t\t\t\t\t\t\t\t\t\t\t<iframe title={video} src={video} frameBorder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypte-media; gyroscope; picture-in-picture\" allowFullScreen />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t) : null }\n\t\t\t\t\t\t<div className=\"footer-form\">\n\t\t\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t\t\t{isEmpty(video) && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<img src=\"./img/icons/picture.svg\" alt=\"pic\" />\n\t\t\t\t\t\t\t\t\t\t<input type=\"file\" id=\"file-upload\" name=\"file\" accept=\".jpg, .jpeg, .png\" onChange={handlePicture}/>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{video && (\n\t\t\t\t\t\t\t\t\t<button onClick={() => setVideo('')}>Supprimer video</button>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{!isEmpty(error.format) && (\n\t\t\t\t\t\t\t\t<p>{error.format}</p>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{!isEmpty(error.maxSize) && (\n\t\t\t\t\t\t\t\t<p>{error.maxSize}</p>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<div className=\"btn-send\">\n\t\t\t\t\t\t\t\t{message || postPicture || video.length > 5 ? (\n\t\t\t\t\t\t\t\t\t<button className=\"cancel\" onClick={cancelPost}>Annuler message</button>\n\t\t\t\t\t\t\t\t) : null }\n\t\t\t\t\t\t\t\t<button className=\"send\" onClick={handlePost}>Envoyer</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default NewPost;","import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst SignInForm = () => {\n\n\tconst [email, setEmail] = useState('');\n\tconst [password, setPassword] = useState('');\n\n\tconst handleLogin = (e) => {\n\t\te.preventDefault();\n\t\tconst emailError = document.querySelector('.email.error');\n\t\tconst passwordError = document.querySelector('.password.error');\n\n\t\taxios({\n\t\t\tmethod: 'post',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/user/login`,\n\t\t\twithCredentials: true,\n\t\t\tdata: {\n\t\t\t\temail: email,\n\t\t\t\tpassword: password\n\t\t\t},\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res.data.errors) {\n\t\t\t\t\temailError.innerHTML = res.data.errors.email;\n\t\t\t\t\tpasswordError.innerHTML = res.data.errors.password;\n\t\t\t\t} else {\n\t\t\t\t\twindow.location = '/';\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => console.log(err));\n\t};\n\n\treturn (\n\t\t<form onSubmit={handleLogin} id=\"sign-up-form\">\n\t\t\t<label htmlFor=\"email\">Email</label>\n\t\t\t<br/>\n\t\t\t<input onChange={(e) => setEmail(e.target.value)} type=\"text\" name=\"email\" id=\"email\" value={email}/>\n\t\t\t<div className=\"email error\" />\n\t\t\t<br/>\n\t\t\t<label htmlFor=\"password\">Mot de passe</label>\n\t\t\t<br/>\n\t\t\t<input onChange={(e) => setPassword(e.target.value)} type=\"password\" name=\"password\" id=\"password\" value={password}/>\n\t\t\t<div className=\"password error\" />\n\t\t\t<br/>\n\t\t\t<input type=\"submit\" value=\"Se connecter\"/>\n\t\t</form>\n\t);\n};\n\nexport default SignInForm;","import React from 'react';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport SignInForm from './SignInForm.jsx';\n\nconst SignUpForm = () => {\n\n\tconst [formSubmit, setFormSubmit] = useState(false);\n\tconst [pseudo, setPseudo] = useState('');\n\tconst [email, setEmail] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [controlPassword, setControlPassword] = useState('');\n\n\tconst handleRegister = async (e) => {\n\t\te.preventDefault();\n\t\tconst terms = document.getElementById('terms');\n\t\tconst pseudoError = document.querySelector('.pseudo.error');\n\t\tconst emailError = document.querySelector('.email.error');\n\t\tconst passwordError = document.querySelector('.password.error');\n\t\tconst passwordConfirmError = document.querySelector('.password-confirm.error');\n\t\tconst termsError = document.querySelector('.terms.error');\n\n\t\tpasswordConfirmError.innerHTML = '';\n\t\ttermsError.innerHTML = '';\n\n\t\tif (password !== controlPassword || !terms.checked) {\n\t\t\tif (password !== controlPassword) {\n\t\t\t\tpasswordConfirmError.innerHTML = 'Les mots de passe ne correspondent pas';\n\t\t\t}\n\t\t\tif (!terms.checked) {\n\t\t\t\ttermsError.innerHTML = 'Veuillez valider les conditions générales';\n\t\t\t}\n\t\t} else {\n\t\t\tawait axios({\n\t\t\t\tmethod: 'post',\n\t\t\t\turl: `${process.env.REACT_APP_API_URL}api/user/register`,\n\t\t\t\tdata: {\n\t\t\t\t\tpseudo,\n\t\t\t\t\temail,\n\t\t\t\t\tpassword\n\t\t\t\t}\n\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (res.data.errors) {\n\t\t\t\t\t\tpseudoError.innerHTML = res.data.errors.pseudo;\n\t\t\t\t\t\temailError.innerHTML = res.data.errors.email;\n\t\t\t\t\t\tpasswordError.innerHTML = res.data.errors.password;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetFormSubmit(true);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => console.log(err));\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{formSubmit ? (\n\t\t\t\t<>\n\t\t\t\t\t<SignInForm />\n\t\t\t\t\t<span />\n\t\t\t\t\t<h4 className=\"success\">Enregistrement réussi, veuillez-vous connecter</h4>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<form onSubmit={handleRegister} id=\"sign-up-form\">\n\t\t\t\t\t<label htmlFor=\"pseudo\">Pseudo</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input onChange={(e) => setPseudo(e.target.value)} type=\"text\" name=\"pseudo\" id=\"pseudo\" value={pseudo}/>\n\t\t\t\t\t<div className=\"pseudo error\" />\n\t\t\t\t\t<br/>\n\t\t\t\t\t<label htmlFor=\"email\">Email</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input onChange={(e) => setEmail(e.target.value)} type=\"text\" name=\"email\" id=\"email\" value={email}/>\n\t\t\t\t\t<div className=\"email error\" />\n\t\t\t\t\t<br/>\n\t\t\t\t\t<label htmlFor=\"password\">Mot de passe</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input onChange={(e) => setPassword(e.target.value)} type=\"password\" name=\"password\" id=\"password\" value={password}/>\n\t\t\t\t\t<div className=\"password error\" />\n\t\t\t\t\t<br/>\n\t\t\t\t\t<label htmlFor=\"password-conf\">Confirmer mot de passe</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input onChange={(e) => setControlPassword(e.target.value)} type=\"password\" name=\"password-conf\" id=\"password-conf\" value={controlPassword}/>\n\t\t\t\t\t<div className=\"password-confirm error\" />\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input type=\"checkbox\" id=\"terms\" />\n\t\t\t\t\t<label htmlFor=\"terms\">J'accepte les <a href=\"/\" target=\"_blank\" rel=\"noopener noreferrer\">conditions générales</a></label>\n\t\t\t\t\t<div className=\"terms error\" />\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input type=\"submit\" value='Valider inscription'/>\n\t\t\t\t</form>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default SignUpForm;","import React, { useState } from 'react';\nimport SignInForm from './SignInForm.jsx';\nimport SignUpForm from './SignUpForm.jsx';\n\nconst Log = ({signIn, signUp}) => {\n\n\tconst [signUpModal, setSignUpModal] = useState(signUp);\n\tconst [signInModal, setSignInModal] = useState(signIn);\n\n\tconst handleModal = (e) => {\n\t\tif (e.target.id === 'register') {\n\t\t\tsetSignInModal(false);\n\t\t\tsetSignUpModal(true);\n\t\t} else if (e.target.id === 'login') {\n\t\t\tsetSignInModal(true);\n\t\t\tsetSignUpModal(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"connection-form\">\n\t\t\t<div className=\"form-container\">\n\t\t\t\t<ul>\n\t\t\t\t\t<li onClick={handleModal} id=\"register\" className={signUpModal ? 'active-btn' : null}>S'inscrire</li>\n\t\t\t\t\t<li onClick={handleModal} id=\"login\" className={signInModal ? 'active-btn' : null}>Se connecter</li>\n\t\t\t\t</ul>\n\t\t\t\t{signUpModal && <SignUpForm />}\n\t\t\t\t{signInModal && <SignInForm />}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Log;","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { isEmpty } from './Utils.js';\nimport { getTrends } from '../actions/post.action.js';\nimport { NavLink } from 'react-router-dom';\n\nconst Trends = () => {\n\n\tconst posts = useSelector(state => state.allPostReducer);\n\tconst usersData = useSelector(state => state.usersReducer);\n\tconst trendList = useSelector(state => state.trendingReducer);\n\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tif (!isEmpty(posts[0])) {\n\t\t\tconst postsArray = Object.keys(posts).map(i => posts[i]);\n\t\t\tlet sortedArray = postsArray.sort((a, b) => {\n\t\t\t\treturn b.likers.length - a.likers.length;\n\t\t\t});\n\t\t\tsortedArray.length = 3;\n\t\t\tdispatch(getTrends(sortedArray));\n\t\t}\n\t}, [posts, dispatch]);\n\n\treturn (\n\t\t<div className=\"trending-container\">\n\t\t\t<h4>Tendances</h4>\n\t\t\t<NavLink exact to=\"/trending\">\n\t\t\t\t<ul>\n\t\t\t\t\t{trendList.length && trendList.map(post => (\n\t\t\t\t\t\t<li key={post._id}>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{usersData[0] && usersData.map(user => {\n\t\t\t\t\t\t\t\t\tif (user._id === post.posterId) {\n\t\t\t\t\t\t\t\t\t\treturn <img key={user._id} src={user.picture} alt={user.picture}/>;\n\t\t\t\t\t\t\t\t\t} else return null;\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"trend-content\">\n\t\t\t\t\t\t\t\t<p>{post.message}</p>\n\t\t\t\t\t\t\t\t<span>Lire</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</NavLink>\n\t\t</div>\n\t);\n};\n\nexport default Trends;","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { isEmpty } from '../Utils.js';\nimport FollowHandler from './FollowHandler.jsx';\nimport { NavLink } from 'react-router-dom';\n\nconst FriendsHint = () => {\n\n\tconst [isLoading, setIsLoading] = useState(true);\n\tconst [playOne, setPlayOne] = useState(true);\n\tconst [friendsHint, setFriendsHint] = useState([]);\n\tconst userData = useSelector(state => state.userReducer);\n\tconst usersData = useSelector(state => state.usersReducer);\n\n\tuseEffect(() => {\n\t\tconst notFriendsList = () => {\n\t\t\tlet array = [];\n\t\t\tusersData.map(user => {\n\t\t\t\tif (user._id !== userData._id && !user.followers.includes(userData._id)) {\n\t\t\t\t\treturn array.push(user._id);\n\t\t\t\t}\n\t\t\t});\n\t\t\tarray.sort(() => 0.5 - Math.random());\n\t\t\tif (window.innerHeight > 780) {\n\t\t\t\tarray.length = 6;\n\t\t\t} else if (window.innerHeight > 720) {\n\t\t\t\tarray.length = 4;\n\t\t\t} else if (window.innerHeight > 615) {\n\t\t\t\tarray.length = 2;\n\t\t\t} else if (window.innerHeight > 540) {\n\t\t\t\tarray.length = 1;\n\t\t\t} else {\n\t\t\t\tarray.length = 0;\n\t\t\t}\n\t\t\tsetFriendsHint(array);\n\t\t};\n\n\t\tif (playOne && !isEmpty(usersData[0]) && !isEmpty(userData._id)) {\n\t\t\tnotFriendsList();\n\t\t\tsetIsLoading(false);\n\t\t\tsetPlayOne(false);\n\t\t}\n\t}, [userData, usersData]);\n\n\treturn (\n\t\t<div className=\"get-friends-container\">\n\t\t\t<h4>Suggestions</h4>\n\t\t\t{isLoading ? (\n\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t<i className=\"fas fa-spinner fa-pulse\"/>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<ul>\n\t\t\t\t\t{friendsHint.map(hint => {\n\t\t\t\t\t\tfor (let i = 0; i < usersData.length; i++) {\n\t\t\t\t\t\t\tif (hint === usersData[i]._id) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<li className=\"user-hint\" key={hint}>\n\t\t\t\t\t\t\t\t\t\t<NavLink exact to={`/public-profil/${usersData[i]._id}`}>\n\t\t\t\t\t\t\t\t\t\t\t<img src={usersData[i].picture} alt={usersData[i].picture}/>\n\t\t\t\t\t\t\t\t\t\t\t<p>{usersData[i].pseudo}</p>\n\t\t\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t\t\t\t<FollowHandler idToFollow={usersData[i]._id} type={'suggestion'}/>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default FriendsHint;","import React, { useContext } from 'react';\nimport LeftNav from '../components/LeftNav.jsx';\nimport Thread from '../components/Thread.jsx';\nimport { UidContext } from '../components/AppContext.jsx';\nimport NewPost from '../components/post/NewPost.jsx';\nimport Log from '../components/log/Log.jsx';\nimport Trends from '../components/Trends.jsx';\nimport FriendsHint from '../components/profil/FriendsHint.jsx';\n\nconst Home = () => {\n\n\tconst uid = useContext(UidContext);\n\n\treturn (\n\t\t<div className=\"home\">\n\t\t\t<LeftNav/>\n\t\t\t<div className=\"main\">\n\t\t\t\t<div className=\"home-header\">\n\t\t\t\t\t{uid ? <NewPost/> : <Log signIn={true} signUp={false}/>}\n\t\t\t\t</div>\n\t\t\t\t<Thread/>\n\t\t\t</div>\n\t\t\t<div className=\"right-side\">\n\t\t\t\t<div className=\"right-side-container\">\n\t\t\t\t\t<div className=\"wrapper\">\n\t\t\t\t\t\t<Trends />\n\t\t\t\t\t\t{uid && <FriendsHint/>}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Home;","import React from 'react';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { uploadPicture } from '../../actions/user.actions.js';\n\nconst UploadImg = () => {\n\n\tconst [file, setFile] = useState('');\n\tconst dispatch = useDispatch();\n\tconst userData = useSelector(state => state.userReducer);\n\n\tconst handlePicture = (e) => {\n\t\te.preventDefault();\n\t\tconst data = new FormData();\n\t\tdata.append('pseudo', userData.pseudo);\n\t\tdata.append('userId', userData._id);\n\t\tdata.append('file', file);\n\n\t\tdispatch(uploadPicture(data, userData._id));\n\t};\n\n\treturn (\n\t\t<form onSubmit={handlePicture} className=\"upload-pic\">\n\t\t\t<label htmlFor=\"file\">Changer d'image</label>\n\t\t\t<input onChange={(e) => setFile(e.target.files[0])} type=\"file\" id=\"file\" name=\"file\" accept=\".jpeg, .jpg, .png\"/>\n\t\t\t<br/>\n\t\t\t<input type=\"submit\" value=\"Envoyer\" />\n\t\t</form>\n\t);\n};\n\nexport default UploadImg;","import React from 'react';\nimport LeftNav from '../LeftNav.jsx';\nimport { useDispatch, useSelector } from 'react-redux';\nimport UploadImg from './UploadImg.jsx';\nimport { useState } from 'react';\nimport { updateBio } from '../../actions/user.actions.js';\nimport { dateParser } from '../Utils.js';\nimport FollowHandler from './FollowHandler.jsx';\n\nconst UpdateProfil = () => {\n\n\tconst [bio, setBio] = useState('');\n\tconst [updateForm, setUpdateForm] = useState(false);\n\tconst userData = useSelector(state => state.userReducer);\n\tconst usersData = useSelector(state => state.usersReducer);\n\tconst error = useSelector(state => state.errorReducer.userError);\n\tconst dispatch = useDispatch();\n\n\tconst [followingPopUp, setFollowingPopUp] = useState(false);\n\tconst [followersPopUp, setFollowersPopUp] = useState(false);\n\n\tconst handleUpdate = () => {\n\t\tdispatch(updateBio(userData._id, bio));\n\t\tsetUpdateForm(false);\n\t};\n\n\treturn (\n\t\t<div className=\"profil-container\">\n\t\t\t<LeftNav />\n\t\t\t<h1>Profil de {userData.pseudo}</h1>\n\t\t\t<div className=\"update-container\">\n\t\t\t\t<div className=\"left-part\">\n\t\t\t\t\t<h3>Photo de profil</h3>\n\t\t\t\t\t<img src={userData.picture} alt=\"user img\"/>\n\t\t\t\t\t<UploadImg />\n\t\t\t\t\t<p>{error.maxSize}</p>\n\t\t\t\t\t<p>{error.format}</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"right-part\">\n\t\t\t\t\t<div className=\"bio-update\">\n\t\t\t\t\t\t<h3>Bio</h3>\n\t\t\t\t\t\t{!updateForm && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<p onClick={() => setUpdateForm(!updateForm)}>{userData.bio}</p>\n\t\t\t\t\t\t\t\t<button onClick={() => setUpdateForm(!updateForm)}>Modifier bio</button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{updateForm && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<textarea onChange={(e) => setBio(e.target.value)} defaultValue={userData.bio} />\n\t\t\t\t\t\t\t\t<button onClick={handleUpdate}>Valider modifications</button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<h4>Membre depuis le : {dateParser(userData.createdAt)}</h4>\n\t\t\t\t\t<h5 onClick={() => setFollowingPopUp(true)}>\n                        Abonnements : {userData.following ? userData.following.length : null}\n\t\t\t\t\t</h5>\n\t\t\t\t\t<h5 onClick={() => setFollowersPopUp(true)}>\n                        Abonnés : {userData.followers ? userData.followers.length : null}\n\t\t\t\t\t</h5>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{followingPopUp && (\n\t\t\t\t<div className=\"popup-profil-container\">\n\t\t\t\t\t<div className=\"modal\">\n\t\t\t\t\t\t<h3>Abonnements</h3>\n\t\t\t\t\t\t<span onClick={() => setFollowingPopUp(false)} className=\"cross\">&#10005;</span>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t{usersData.map(user => {\n\t\t\t\t\t\t\t\tfor (let i = 0; i < userData.following.length; i++) {\n\t\t\t\t\t\t\t\t\tif (user._id === userData.following[i]) {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<li key={user._id}>\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={user.picture} alt=\"user-pic\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<h4>{user.pseudo}</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"follow-handler\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FollowHandler idToFollow={user._id} type={'suggestion'} />\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t{followersPopUp && (\n\t\t\t\t<div className=\"popup-profil-container\">\n\t\t\t\t\t<div className=\"modal\">\n\t\t\t\t\t\t<h3>Abonnés</h3>\n\t\t\t\t\t\t<span onClick={() => setFollowersPopUp(false)} className=\"cross\">&#10005;</span>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t{usersData.map(user => {\n\t\t\t\t\t\t\t\tfor (let i = 0; i < userData.followers.length; i++) {\n\t\t\t\t\t\t\t\t\tif (user._id === userData.followers[i]) {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<li key={user._id}>\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={user.picture} alt=\"user-pic\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<h4>{user.pseudo}</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"follow-handler\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FollowHandler idToFollow={user._id} type={'suggestion'} />\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default UpdateProfil;","import React from 'react';\nimport Log from '../components/log/Log.jsx';\nimport {UidContext} from '../components/AppContext.jsx';\nimport {useContext} from 'react';\nimport UpdateProfil from '../components/profil/UpdateProfil.jsx';\n\nconst Profil = () => {\n\n\tconst uid = useContext(UidContext);\n\n\treturn (\n\t\t<div className=\"profil-page\">\n\t\t\t{uid ? (\n\t\t\t\t<UpdateProfil />\n\t\t\t) : (\n\t\t\t\t<div className=\"log-container\">\n\t\t\t\t\t<Log signIn={false} signUp={true} />\n\t\t\t\t\t<div className=\"img-container\">\n\t\t\t\t\t\t<img src='./img/log.svg' alt=\"log\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Profil;","import React, { useContext } from 'react';\nimport { UidContext } from '../components/AppContext.jsx';\nimport { useSelector } from 'react-redux';\nimport LeftNav from '../components/LeftNav.jsx';\nimport { isEmpty } from '../components/Utils.js';\nimport Card from '../components/post/Card.jsx';\nimport Trends from '../components/Trends.jsx';\nimport FriendsHint from '../components/profil/FriendsHint.jsx';\n\nconst Trending = () => {\n\n\tconst uid = useContext(UidContext);\n\tconst trendList = useSelector(state => state.trendingReducer);\n\n\treturn (\n\t\t<div className=\"trending-page\">\n\t\t\t<LeftNav/>\n\t\t\t<div className=\"main\">\n\t\t\t\t<ul>\n\t\t\t\t\t{!isEmpty(trendList[0]) && trendList.map(post => (\n\t\t\t\t\t\t<Card post={post} key={post._id}/>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div className=\"right-side\">\n\t\t\t\t<div className=\"right-side-container\">\n\t\t\t\t\t<Trends />\n\t\t\t\t\t{uid && <FriendsHint/>}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Trending;","import React from 'react';\nimport { BrowserRouter as Router, Redirect, Route, Switch } from 'react-router-dom';\n\nimport Home from '../../pages/Home';\nimport Profil from '../../pages/Profil';\nimport Trending from '../../pages/Trending.jsx';\nimport Navbar from '../Navbar.jsx';\nimport PublicProfil from '../../pages/PublicProfil.jsx';\n\nconst Index = () => {\n\treturn (\n\t\t<Router>\n\t\t\t<Navbar/>\n\t\t\t<Switch>\n\t\t\t\t<Route exact path=\"/\" component={Home}/>\n\t\t\t\t<Route exact path=\"/profil\" component={Profil}/>\n\t\t\t\t<Route exact path=\"/public-profil/:id\" component={PublicProfil}/>\n\t\t\t\t<Route exact path=\"/trending\" component={Trending}/>\n\t\t\t\t<Redirect to='/'/>\n\t\t\t</Switch>\n\t\t</Router>\n\t);\n};\n\nexport default Index;","import React, { useState, useEffect }  from 'react';\nimport Routes from './components/routes';\nimport {UidContext} from './components/AppContext.jsx';\nimport axios from 'axios';\nimport { useDispatch } from 'react-redux';\nimport { getUser } from './actions/user.actions.js';\n\nconst App = () => {\n\n\tconst [uid, setuid] = useState(null);\n\tconst dispatch = useDispatch();\n\n\tuseEffect( () => {\n\t\tconst fetchToken = async () => {\n\t\t\tawait axios({\n\t\t\t\tmethod: 'get',\n\t\t\t\turl: `${process.env.REACT_APP_API_URL}jwtid`,\n\t\t\t\twithCredentials: true\n\t\t\t})\n\t\t\t\t.then(res => setuid(res.data))\n\t\t\t\t.catch(err => console.log(err));\n\t\t};\n\t\tfetchToken()\n\t\t\t.then(() => console.log('Uid confirm'))\n\t\t\t.catch(err => console.log(err));\n\n\t\tif (uid) {\n\t\t\tdispatch(getUser(uid));\n\t\t}\n\t}, [uid, dispatch]);\n\n\treturn (\n\t\t<UidContext.Provider value={uid}>\n\t\t\t<Routes/>\n\t\t</UidContext.Provider>\n\t);\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n\tif (onPerfEntry && onPerfEntry instanceof Function) {\n\t\timport('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n\t\t\tgetCLS(onPerfEntry);\n\t\t\tgetFID(onPerfEntry);\n\t\t\tgetFCP(onPerfEntry);\n\t\t\tgetLCP(onPerfEntry);\n\t\t\tgetTTFB(onPerfEntry);\n\t\t});\n\t}\n};\n\nexport default reportWebVitals;\n","import { FOLLOW_USER, GET_USER, UNFOLLOW_USER, UPDATE_BIO, UPLOAD_PICTURE } from '../actions/user.actions.js';\n\nconst initialState = {};\n\nexport default function userReducer(state = initialState, action) {\n\tswitch (action.type) {\n\tcase GET_USER:\n\t\treturn action.payload;\n\tcase UPLOAD_PICTURE:\n\t\treturn {\n\t\t\t...state,\n\t\t\tpicture: action.payload\n\t\t};\n\tcase UPDATE_BIO:\n\t\treturn {\n\t\t\t...state,\n\t\t\tbio: action.payload\n\t\t};\n\tcase FOLLOW_USER:\n\t\treturn {\n\t\t\t...state,\n\t\t\tfollowing: [action.payload.idToFollow, ...state.following]\n\t\t};\n\tcase UNFOLLOW_USER:\n\t\treturn {\n\t\t\t...state,\n\t\t\tfollowing: state.following.filter(id => id !== action.payload.idToUnfollow)\n\t\t};\n\tdefault:\n\t\treturn state;\n\t}\n}","import axios from 'axios';\n\nexport const GET_USERS = 'GET_USERS';\n\nexport const getUsers = () => {\n\treturn (dispatch) => {\n\t\treturn axios\n\t\t\t.get(`${process.env.REACT_APP_API_URL}api/user`)\n\t\t\t.then(res => {\n\t\t\t\tdispatch({ type: GET_USERS, payload: res.data});\n\t\t\t})\n\t\t\t.catch(err => console.log({ err }));\n\t};\n};","import { GET_USERS } from '../actions/users.actions.js';\n\nconst initialState = {};\n\nexport default function usersReducer(state = initialState, action) {\n\tswitch (action.type) {\n\tcase GET_USERS:\n\t\treturn action.payload;\n\tdefault:\n\t\treturn state;\n\t}\n}","import {\n\tDELETE_COMMENT,\n\tDELETE_POST,\n\tEDIT_COMMENT,\n\tGET_POSTS,\n\tLIKE_POST,\n\tUNLIKE_POST,\n\tUPDATE_POST\n} from '../actions/post.action.js';\n\nconst initialState = {};\n\nexport default function postReducer (state = initialState, action) {\n\tswitch (action.type) {\n\tcase GET_POSTS:\n\t\treturn action.payload;\n\tcase LIKE_POST:\n\t\treturn state.map(post => {\n\t\t\tif (post._id === action.payload.postId) {\n\t\t\t\treturn {\n\t\t\t\t\t...post,\n\t\t\t\t\tlikers: [action.payload.userId, ...post.likers]\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn post;\n\t\t});\n\tcase UNLIKE_POST:\n\t\treturn state.map(post => {\n\t\t\tif (post._id === action.payload.postId) {\n\t\t\t\treturn {\n\t\t\t\t\t...post,\n\t\t\t\t\tlikers: post.likers.filter(id => id !== action.payload.userId)\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn post;\n\t\t});\n\tcase UPDATE_POST:\n\t\treturn state.map(post => {\n\t\t\tif (post._id === action.payload.postId) {\n\t\t\t\treturn {\n\t\t\t\t\t...post,\n\t\t\t\t\tmessage: action.payload.message\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn post;\n\t\t});\n\tcase DELETE_POST:\n\t\treturn state.filter(post => post._id !== action.payload.postId);\n\tcase EDIT_COMMENT:\n\t\treturn state.map(post => {\n\t\t\tif (post._id === action.payload.postId) {\n\t\t\t\treturn {\n\t\t\t\t\t...post,\n\t\t\t\t\tcomments: post.comments.map(comment => {\n\t\t\t\t\t\tif (comment._id === action.payload.commentId) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...comment,\n\t\t\t\t\t\t\t\ttext: action.payload.text\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} else return comment;\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t} else return post;\n\t\t});\n\tcase DELETE_COMMENT:\n\t\treturn state.map(post => {\n\t\t\tif (post._id === action.payload.postId) {\n\t\t\t\treturn {\n\t\t\t\t\t...post,\n\t\t\t\t\tcomments: post.comments.filter(comment => comment._id !== action.payload.commentId)\n\t\t\t\t};\n\t\t\t} else return post;\n\t\t});\n\tdefault:\n\t\treturn state;\n\t}\n}","import { GET_POST_ERRORS } from '../actions/post.action.js';\nimport { GET_USER_ERRORS } from '../actions/user.actions.js';\n\nconst initialState = {postError: [], userError: []};\n\nexport default function errorReducer(state = initialState, action) {\n\tswitch (action.type) {\n\tcase GET_POST_ERRORS:\n\t\treturn {\n\t\t\tpostError: action.payload,\n\t\t\tuserError: []\n\t\t};\n\tcase GET_USER_ERRORS:\n\t\treturn {\n\t\t\tuserError: action.payload,\n\t\t\tpostError: []\n\t\t};\n\tdefault:\n\t\treturn state;\n\t}\n}","import { GET_ALL_POST } from '../actions/post.action.js';\n\nconst initialState = {};\n\nexport default function allPostReducer (state = initialState, action) {\n\tswitch (action.type) {\n\tcase GET_ALL_POST:\n\t\treturn action.payload;\n\tdefault:\n\t\treturn state;\n\t}\n}","import { GET_TRENDS } from '../actions/post.action.js';\n\nconst initialState = {};\n\nexport default function trendingReducer (state = initialState, action) {\n\tswitch (action.type) {\n\tcase GET_TRENDS:\n\t\treturn action.payload;\n\tdefault:\n\t\treturn state;\n\t}\n}","import { combineReducers } from 'redux';\nimport userReducer from './user.reducer.js';\nimport usersReducer from './users.reducer.js';\nimport postReducer from './post.reducer.js';\nimport errorReducer from './error.reducer.js';\nimport allPostReducer from './allPost.reducer.js';\nimport trendingReducer from './trending.reducer.js';\n\nexport default combineReducers({\n\tuserReducer,\n\tusersReducer,\n\tpostReducer,\n\terrorReducer,\n\tallPostReducer,\n\ttrendingReducer,\n});","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport { Provider } from 'react-redux';\nimport { applyMiddleware, createStore } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\nimport { getUsers } from './actions/users.actions.js';\nimport { getPosts } from './actions/post.action.js';\n\nconst store = createStore(\n\trootReducer, composeWithDevTools(applyMiddleware(thunk))\n);\n\nstore.dispatch(getUsers());\nstore.dispatch(getPosts());\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}