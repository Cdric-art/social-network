(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{11:function(e,t,c){"use strict";c.d(t,"c",(function(){return s})),c.d(t,"g",(function(){return i})),c.d(t,"f",(function(){return a})),c.d(t,"b",(function(){return o})),c.d(t,"e",(function(){return l})),c.d(t,"d",(function(){return u})),c.d(t,"a",(function(){return j})),c.d(t,"j",(function(){return d})),c.d(t,"m",(function(){return b})),c.d(t,"l",(function(){return p})),c.d(t,"i",(function(){return O})),c.d(t,"k",(function(){return h})),c.d(t,"h",(function(){return f}));var n=c(6),r=c.n(n),s="GET_USER",i="UPLOAD_PICTURE",a="UPDATE_BIO",o="FOLLOW_USER",l="UNFOLLOW_USER",u="GET_USER_ERRORS",j="CLEAR_NOTIFICATIONS",d=function(e){return function(t){return r.a.get("".concat("https://pine-apple-server.herokuapp.com/","api/user/").concat(e)).then((function(e){t({type:s,payload:e.data})})).catch((function(e){return console.log({err:e})}))}},b=function(e,t){return function(c){return r.a.post("".concat("https://pine-apple-server.herokuapp.com/","api/user/upload"),e).then((function(e){if(!e.data.errors)return c({type:u,payload:""}),r.a.get("".concat("https://pine-apple-server.herokuapp.com/","api/user/").concat(t)).then((function(e){c({type:i,payload:e.data.picture})})).catch((function(e){return console.log({err:e})}));c({type:u,payload:e.data.errors})})).catch((function(e){return console.log({err:e})}))}},p=function(e,t){return function(c){return r()({method:"put",url:"".concat("https://pine-apple-server.herokuapp.com/","api/user/").concat(e),data:{bio:t}}).then((function(){c({type:a,payload:t})})).catch((function(e){return console.log({err:e})}))}},O=function(e,t){return function(c){return r()({method:"patch",url:"".concat("https://pine-apple-server.herokuapp.com/","api/user/follow/").concat(e),data:{idToFollow:t}}).then((function(){c({type:o,payload:{idToFollow:t}})})).catch((function(e){return console.log({err:e})}))}},h=function(e,t){return function(c){return r()({method:"patch",url:"".concat("https://pine-apple-server.herokuapp.com/","api/user/unfollow/").concat(e),data:{idToUnfollow:t}}).then((function(){c({type:l,payload:{idToUnfollow:t}})})).catch((function(e){return console.log({err:e})}))}},f=function(e){return function(t){return r()({method:"patch",url:"".concat("https://pine-apple-server.herokuapp.com/","api/user/notifications/").concat(e)}).then((function(){t({type:"CLEAR_NOTIFICATIONS"})}))}}},12:function(e,t,c){"use strict";c.d(t,"a",(function(){return r}));var n=c(1),r=Object(n.createContext)(null)},19:function(e,t,c){"use strict";(function(e){var n=c(0),r=c(2),s=c(1),i=c(3),a=c(4),o=c(11);t.a=function(t){var c=t.idToFollow,l=t.type,u=Object(i.c)((function(e){return e.userReducer})),j=Object(s.useState)(!1),d=Object(r.a)(j,2),b=d[0],p=d[1],O=Object(i.b)();return Object(s.useEffect)((function(){Object(a.b)(u.following)||(u.following.includes(c)?p(!0):p(!1))}),[u,c]),Object(n.jsxs)(n.Fragment,{children:[b&&!Object(a.b)(u)&&Object(n.jsxs)("span",{onClick:function(){O(Object(o.k)(u._id,c)),p(!1)},children:["suggestion"===l&&Object(n.jsx)("button",{className:"unfollow-btn",children:"Abonn\xe9"}),"card"===l&&Object(n.jsx)("img",{src:e+"./img/icons/checked.svg",alt:"checked"})]}),!b&&!Object(a.b)(u)&&Object(n.jsxs)("span",{onClick:function(){O(Object(o.i)(u._id,c)),p(!0)},children:["suggestion"===l&&Object(n.jsx)("button",{className:"follow-btn",children:"Suivre"}),"card"===l&&Object(n.jsx)("img",{src:e+"./img/icons/check.svg",alt:"check"})]})]})}}).call(this,"/")},20:function(e,t,c){"use strict";(function(e){var n=c(0),r=(c(1),c(8));t.a=function(){return Object(n.jsx)("div",{className:"left-nav-container",children:Object(n.jsx)("div",{className:"icons",children:Object(n.jsxs)("div",{className:"icons-bis",children:[Object(n.jsx)(r.c,{exact:!0,to:"/",activeClassName:"active-left-nav",children:Object(n.jsx)("img",{src:e+"img/icons/home.svg",alt:"home"})}),Object(n.jsx)("br",{}),Object(n.jsx)(r.c,{exact:!0,to:"/my-follow",activeClassName:"active-left-nav",children:Object(n.jsx)("img",{src:e+"img/icons/check.svg",alt:"check"})}),Object(n.jsx)("br",{}),Object(n.jsx)(r.c,{exact:!0,to:"/trending",activeClassName:"active-left-nav",children:Object(n.jsx)("img",{src:e+"img/icons/rocket.svg",alt:"rocket"})}),Object(n.jsx)("br",{}),Object(n.jsx)(r.c,{exact:!0,to:"/profil",activeClassName:"active-left-nav",children:Object(n.jsx)("img",{src:e+"img/icons/user.svg",alt:"user"})})]})})})}}).call(this,"/")},23:function(e,t,c){"use strict";(function(e){var n=c(0),r=c(2),s=c(1),i=c(3),a=c(4),o=c(19),l=c(46),u=c(5),j=c(48),d=c(49),b=c(8);t.a=function(t){var c=t.post,p=Object(s.useState)(!0),O=Object(r.a)(p,2),h=O[0],f=O[1],m=Object(s.useState)(!1),x=Object(r.a)(m,2),g=x[0],v=x[1],w=Object(s.useState)(null),y=Object(r.a)(w,2),N=y[0],k=y[1],_=Object(s.useState)(!1),S=Object(r.a)(_,2),C=S[0],E=S[1],I=Object(i.c)((function(e){return e.usersReducer})),T=Object(i.c)((function(e){return e.userReducer})),R=Object(i.b)();return Object(s.useEffect)((function(){Object(a.b)(I[0])||f(!1)}),[I]),Object(n.jsx)("li",{className:"card-container",children:h?Object(n.jsx)("i",{className:"fas fa-spinner fa-spin"}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"card-left",children:!Object(a.b)(I[0])&&I.map((function(t){return t._id===c.posterId?Object(n.jsx)(b.c,{exact:!0,to:"/public-profil/".concat(t._id),children:Object(n.jsx)("img",{src:e+t.picture,alt:t.picture})},t._id):null}))}),Object(n.jsxs)("div",{className:"card-right",children:[Object(n.jsxs)("div",{className:"card-header",children:[Object(n.jsx)("div",{className:"pseudo",children:!Object(a.b)(I[0])&&I.map((function(e){return e._id===c.posterId?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h3",{children:e.pseudo},e._id),c.posterId!==T._id&&Object(n.jsx)(o.a,{idToFollow:c.posterId,type:"card"},e.posterId)]}):null}))}),Object(n.jsx)("span",{children:Object(a.a)(c.createdAt)})]}),!g&&Object(n.jsx)("p",{children:c.message}),g&&Object(n.jsxs)("div",{className:"update-post",children:[Object(n.jsx)("textarea",{defaultValue:c.message,onChange:function(e){return k(e.target.value)}}),Object(n.jsx)("div",{className:"button-container",children:Object(n.jsx)("button",{className:"btn",onClick:function(){N&&R(Object(u.t)(c._id,N)),v(!1)},children:"Valider modifications"})})]}),c.picture&&Object(n.jsx)("img",{src:e+c.picture,alt:c.picture,className:"card-pic"}),c.video&&Object(n.jsx)("iframe",{width:"500",height:"300",src:c.video,frameBorder:"0",title:c._id,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),T._id===c.posterId&&Object(n.jsxs)("div",{className:"button-container",children:[Object(n.jsx)("div",{onClick:function(){return v(!g)},children:Object(n.jsx)("img",{src:e+"./img/icons/edit.svg",alt:"edit"})}),Object(n.jsx)(j.a,{id:c._id})]}),Object(n.jsxs)("div",{className:"card-footer",children:[Object(n.jsx)(l.a,{post:c}),Object(n.jsxs)("div",{className:"comment-icon",children:[Object(n.jsx)("img",{onClick:function(){return E(!C)},src:e+"./img/icons/message1.svg",alt:"comment"}),c.comments&&Object(n.jsx)("span",{children:c.comments.length})]})]}),C&&Object(n.jsx)(d.a,{post:c})]})]})})}}).call(this,"/")},4:function(e,t,c){"use strict";c.d(t,"a",(function(){return n})),c.d(t,"c",(function(){return r})),c.d(t,"b",(function(){return s}));c(2),c(1);var n=function(e){var t=Date.parse(e);return new Date(t).toLocaleDateString("fr-FR",{hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"long",year:"numeric",month:"short",day:"numeric"}).toString()},r=function(e){return new Date(e).toLocaleDateString("fr-FR",{hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"long",year:"numeric",month:"short",day:"numeric"}).toString()},s=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length}},46:function(e,t,c){"use strict";(function(e){var n=c(0),r=c(2),s=c(1),i=c(12),a=c(47),o=(c(88),c(3)),l=c(5);t.a=function(t){var c=t.post,u=Object(s.useState)(!1),j=Object(r.a)(u,2),d=j[0],b=j[1],p=Object(s.useContext)(i.a),O=Object(o.b)();Object(s.useEffect)((function(){c.likers.includes(p)?b(!0):b(!1)}),[p,d,c.likers]);return Object(n.jsxs)("div",{className:"like-container",children:[null===p&&Object(n.jsx)(a.a,{trigger:Object(n.jsx)("img",{src:e+"./img/icons/heart.svg",alt:"like"}),position:["bottom center","bottom right","bottom left"],closeDocumentClick:!0,children:Object(n.jsx)("div",{style:{textAlign:"center"},children:"Connectez-vous pour liker un post !"})}),p&&!d&&Object(n.jsx)("img",{onClick:function(){O(Object(l.r)(c._id,p)),b(!0)},src:e+"./img/icons/heart.svg",alt:"like"}),p&&d&&Object(n.jsx)("img",{onClick:function(){O(Object(l.s)(c._id,p)),b(!1)},src:e+"./img/icons/heart-filled.svg",alt:"like"}),Object(n.jsx)("span",{children:c.likers&&c.likers.length})]})}}).call(this,"/")},48:function(e,t,c){"use strict";(function(e){var n=c(0),r=(c(1),c(3)),s=c(5);t.a=function(t){var c=t.id,i=Object(r.b)();return Object(n.jsx)("div",{onClick:function(){window.confirm("Voulez-vous supprimer cet article ?")&&i(Object(s.n)(c))},children:Object(n.jsx)("img",{src:e+"./img/icons/trash.svg",alt:"trash"})})}}).call(this,"/")},49:function(e,t,c){"use strict";(function(e){var n=c(0),r=c(2),s=c(1),i=c(3),a=c(4),o=c(19),l=c(5),u=c(50);t.a=function(t){var c=t.post,j=Object(s.useState)(""),d=Object(r.a)(j,2),b=d[0],p=d[1],O=Object(i.c)((function(e){return e.usersReducer})),h=Object(i.c)((function(e){return e.userReducer})),f=Object(i.b)();return Object(n.jsxs)("div",{className:"comments-container",children:[c.comments.map((function(t){return Object(n.jsxs)("div",{className:t.commenterId===h._id?"comment-container client":"comment-container",children:[Object(n.jsx)("div",{className:"left-part",children:!Object(a.b)(O[0])&&O.map((function(c){return c._id===t.commenterId?Object(n.jsx)("img",{src:e+c.picture,alt:t.commenterId},t.commenterId):null}))}),Object(n.jsxs)("div",{className:"right-part",children:[Object(n.jsxs)("div",{className:"comment-header",children:[Object(n.jsxs)("div",{className:"pseudo",children:[Object(n.jsx)("h3",{children:t.commenterPseudo}),t.commenterId!==h._id&&Object(n.jsx)(o.a,{idToFollow:t.commenterId,type:"card"})]}),Object(n.jsx)("span",{children:Object(a.c)(t.timestamp)})]}),Object(n.jsx)("p",{children:t.text}),Object(n.jsx)(u.a,{comment:t,postId:c._id})]})]},t._id)})),h._id&&Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),b&&f(Object(l.k)(c._id,h._id,b,h.pseudo)).then((function(){return f(Object(l.p)())})).then((function(){return p("")})).catch((function(e){return console.log({err:e})}))},className:"comment-form",children:[Object(n.jsx)("input",{type:"text",name:"text",onChange:function(e){return p(e.target.value)},value:b,placeholder:"Laisser un commentaire"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{type:"submit",value:"Envoyer"})]})]})}}).call(this,"/")},5:function(e,t,c){"use strict";c.d(t,"e",(function(){return s})),c.d(t,"d",(function(){return i})),c.d(t,"h",(function(){return a})),c.d(t,"i",(function(){return o})),c.d(t,"j",(function(){return l})),c.d(t,"b",(function(){return u})),c.d(t,"c",(function(){return j})),c.d(t,"a",(function(){return d})),c.d(t,"g",(function(){return b})),c.d(t,"f",(function(){return p})),c.d(t,"p",(function(){return O})),c.d(t,"l",(function(){return h})),c.d(t,"r",(function(){return f})),c.d(t,"s",(function(){return m})),c.d(t,"t",(function(){return x})),c.d(t,"n",(function(){return g})),c.d(t,"k",(function(){return v})),c.d(t,"o",(function(){return w})),c.d(t,"m",(function(){return y})),c.d(t,"q",(function(){return N}));var n=c(6),r=c.n(n),s="GET_POSTS",i="GET_ALL_POST",a="LIKE_POST",o="UNLIKE_POST",l="UPDATE_POST",u="DELETE_POST",j="EDIT_COMMENT",d="DELETE_COMMENT",b="GET_TRENDS",p="GET_POST_ERRORS",O=function(e){return function(t){return r()({method:"get",url:"".concat("https://pine-apple-server.herokuapp.com/","api/post")}).then((function(c){var n=c.data.slice(0,e);t({type:s,payload:n}),t({type:i,payload:c.data})})).catch((function(e){return console.log({err:e})}))}},h=function(e){return function(t){return r()({method:"post",url:"".concat("https://pine-apple-server.herokuapp.com/","api/post"),data:e}).then((function(e){e.data.errors?t({type:p,payload:e.data.errors}):t({type:p,payload:""})})).catch((function(e){return console.log({err:e})}))}},f=function(e,t){return function(c){return r()({method:"patch",url:"".concat("https://pine-apple-server.herokuapp.com/","api/post/like-post/").concat(e),data:{id:t}}).then((function(){c({type:a,payload:{postId:e,userId:t}})})).catch((function(e){return console.log({err:e})}))}},m=function(e,t){return function(c){return r()({method:"patch",url:"".concat("https://pine-apple-server.herokuapp.com/","api/post/unlike-post/").concat(e),data:{id:t}}).then((function(){c({type:o,payload:{postId:e,userId:t}})})).catch((function(e){return console.log({err:e})}))}},x=function(e,t){return function(c){return r()({method:"put",url:"".concat("https://pine-apple-server.herokuapp.com/","api/post/").concat(e),data:{message:t}}).then((function(){c({type:l,payload:{message:t,postId:e}})})).catch((function(e){return console.log({err:e})}))}},g=function(e){return function(t){return r()({method:"delete",url:"".concat("https://pine-apple-server.herokuapp.com/","api/post/").concat(e)}).then((function(){t({type:u,payload:{postId:e}})})).catch((function(e){return console.log({err:e})}))}},v=function(e,t,c,n){return function(s){return r()({method:"patch",url:"".concat("https://pine-apple-server.herokuapp.com/","api/post/comment-post/").concat(e),data:{commenterId:t,text:c,commenterPseudo:n}}).then((function(){s({type:"ADD_COMMENT",payload:{postId:e}})})).catch((function(e){return console.log({err:e})}))}},w=function(e,t,c){return function(n){return r()({method:"patch",url:"".concat("https://pine-apple-server.herokuapp.com/","api/post/edit-comment-post/").concat(e),data:{commentId:t,text:c}}).then((function(){n({type:j,payload:{postId:e,commentId:t,text:c}})})).catch((function(e){return console.log({err:e})}))}},y=function(e,t){return function(c){return r()({method:"patch",url:"".concat("https://pine-apple-server.herokuapp.com/","api/post/delete-comment-post/").concat(e),data:{commentId:t}}).then((function(){c({type:d,payload:{postId:e,commentId:t}})})).catch((function(e){return console.log({err:e})}))}},N=function(e){return function(t){t({type:b,payload:e})}}},50:function(e,t,c){"use strict";(function(e){var n=c(0),r=c(2),s=c(1),i=c(12),a=c(3),o=c(5);t.a=function(t){var c=t.comment,l=t.postId,u=Object(s.useState)(!1),j=Object(r.a)(u,2),d=j[0],b=j[1],p=Object(s.useState)(!1),O=Object(r.a)(p,2),h=O[0],f=O[1],m=Object(s.useState)(""),x=Object(r.a)(m,2),g=x[0],v=x[1],w=Object(s.useContext)(i.a),y=Object(a.b)();return Object(s.useEffect)((function(){w===c.commenterId&&b(!0)}),[w,c.commenterId]),Object(n.jsxs)("div",{className:"edit-comment",children:[d&&!h&&Object(n.jsx)("span",{onClick:function(){return f(!h)},children:Object(n.jsx)("img",{src:e+"./img/icons/edit.svg",alt:"edit"})}),d&&h&&Object(n.jsxs)("form",{className:"edit-comment-form",onSubmit:function(e){e.preventDefault(),g&&(y(Object(o.o)(l,c._id,g)),v(""),f(!1))},children:[Object(n.jsx)("label",{htmlFor:"text",onClick:function(){return f(!h)},children:"Editer"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{type:"text",name:"text",onChange:function(e){return v(e.target.value)},defaultValue:c.text}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{className:"btn",children:[Object(n.jsx)("span",{onClick:function(){window.confirm("Voulez-vous supprimer ce commentaire ?")&&y(Object(o.m)(l,c._id))},children:Object(n.jsx)("img",{src:e+"./img/icons/trash.svg",alt:"trash"})}),Object(n.jsx)("input",{type:"submit",value:"Valider les modifications"})]})]})]})}}).call(this,"/")},51:function(e,t,c){"use strict";(function(e){var n=c(0),r=c(1),s=c(8),i=c(12),a=c(52),o=c(3),l=c(54);t.a=function(){var t=Object(r.useContext)(i.a),c=Object(o.c)((function(e){return e.userReducer}));return Object(n.jsx)("nav",{children:Object(n.jsxs)("div",{className:"nav-container",children:[Object(n.jsx)("div",{className:"logo",children:Object(n.jsx)(s.c,{exact:!0,to:"/",children:Object(n.jsxs)("div",{className:"logo",children:[Object(n.jsx)("img",{src:e+"img/icon.png",alt:"logo"}),Object(n.jsx)("h3",{children:"Pineapple"})]})})}),t?Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{}),Object(n.jsx)("li",{className:"welcome",children:Object(n.jsx)(s.c,{exact:!0,to:"/profil",children:Object(n.jsx)("h5",{children:c.pseudo})})}),Object(n.jsx)(l.a,{userData:c}),Object(n.jsx)(a.a,{})]}):Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{}),Object(n.jsx)("li",{children:Object(n.jsx)(s.c,{exact:!0,to:"/profil",children:Object(n.jsx)("img",{src:e+"img/icons/login.svg",alt:"logo"})})})]})]})})}}).call(this,"/")},52:function(e,t,c){"use strict";(function(e){var n=c(0),r=c(17),s=c.n(r),i=c(21),a=(c(1),c(6)),o=c.n(a),l=c(53),u=c.n(l);t.a=function(){var t=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o()({method:"get",url:"".concat("https://pine-apple-server.herokuapp.com/","api/user/logout"),withCredentials:!0}).then((function(){return e="jwt",void(void 0!==window&&u.a.remove(e,{expires:1}));var e})).catch((function(e){return console.log({err:e})}));case 2:window.location="/";case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)("li",{onClick:t,children:Object(n.jsx)("img",{src:e+"img/icons/logout.svg",alt:"Logout"})})}}).call(this,"/")},54:function(e,t,c){"use strict";(function(e){var n=c(0),r=c(2),s=c(1),i=c(3),a=c(4),o=c(8),l=c(11),u=c(12),j=function(e){var t=e.uid,c=e.notifications,r=e.usersData,s=e.onClose,i=e.dispatch;return Object(n.jsxs)("div",{className:"notifications-list",children:[r.map((function(e){return c.includes(e._id)?Object(n.jsxs)(o.c,{exact:!0,to:"/public-profil/".concat(e._id),onClick:function(){return s()},className:"list-item",children:[Object(n.jsx)("img",{src:e.picture,alt:e._id}),Object(n.jsxs)("p",{className:"text-notif",children:[Object(n.jsx)("strong",{children:e.pseudo})," vous suit !"]})]},e._id):null})),Object(n.jsx)("button",{onClick:function(){i(Object(l.h)(t)),s()},children:"Supprimer mes notifications"})]})};t.a=function(t){var c=t.userData,o=Object(s.useState)(!1),l=Object(r.a)(o,2),d=l[0],b=l[1],p=Object(s.useContext)(u.a),O=Object(i.c)((function(e){return e.usersReducer})),h=Object(i.b)();return Object(n.jsxs)("div",{className:"notifications",children:[Object(n.jsx)("img",{onClick:function(){return b(!d)},src:e+"img/icons/bell.png",alt:"Bell"}),!Object(a.b)(c.notifications)&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{children:c.notifications.length}),d&&Object(n.jsx)(j,{uid:p,notifications:c.notifications,usersData:O,onClose:b,dispatch:h})]}),Object(a.b)(c.notifications)&&d&&Object(n.jsx)("div",{className:"notifications-list",children:Object(n.jsx)("div",{className:"list-item",children:Object(n.jsx)("h6",{children:"Rien de neuf pour le moment !"})})})]})}}).call(this,"/")},55:function(e,t,c){"use strict";(function(e){var n=c(0),r=c(2),s=c(1),i=c(10),a=c(3),o=c(20),l=c(4),u=c(19),j=c(23);t.a=function(){var t=Object(s.useState)([]),c=Object(r.a)(t,2),d=c[0],b=c[1],p=Object(s.useState)([]),O=Object(r.a)(p,2),h=O[0],f=O[1],m=Object(a.c)((function(e){return e.usersReducer})),x=Object(a.c)((function(e){return e.allPostReducer})),g=Object(i.g)().id;return Object(s.useEffect)((function(){Object(l.b)(m[0])||Object(l.b)(x[0])||!g||(b(m.filter((function(e){return e._id===g}))),f(x.filter((function(e){return e.posterId===g}))))}),[m,x,g]),Object(n.jsx)("div",{className:"public-profil",children:Object(l.b)(d)?Object(n.jsx)("div",{className:"public-profil",children:Object(n.jsx)("h1",{children:"L'utilisateur n'existe pas..."})}):Object(n.jsxs)("div",{className:"public-profil__container",children:[Object(n.jsxs)("h1",{children:["Profil de ",d[0].pseudo]}),Object(n.jsx)(o.a,{}),Object(n.jsxs)("div",{className:"part-container",children:[Object(n.jsxs)("div",{className:"left-part-profil",children:[Object(n.jsx)("img",{src:e+d[0].picture,alt:"Profil picture"}),Object(n.jsx)("h3",{children:"Bio :"}),Object(n.jsx)("p",{className:"bio",children:d[0].bio}),Object(n.jsxs)("h4",{className:"createdAt",children:["Membre depuis le : ",Object(l.a)(d[0].createdAt)]}),Object(n.jsxs)("div",{className:"data",children:[Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{children:d[0].following?d[0].following.length:0}),"\xa0Abonnement",d[0].following&&d[0].following.length>1?"s":null]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{children:d[0].followers?d[0].followers.length:0}),"\xa0Abonn\xe9",d[0].followers&&d[0].followers.length>1?"s":null]})]}),Object(n.jsx)("div",{className:"btn-follow",children:Object(n.jsx)(u.a,{idToFollow:d[0]._id,type:"suggestion"})})]}),Object(n.jsx)("div",{className:"right-part-profil",children:Object(n.jsx)("ul",{children:!Object(l.b)(h)&&h.map((function(e){return Object(n.jsx)(j.a,{post:e},e._id)}))})})]})]})})}}).call(this,"/")},63:function(e,t,c){},89:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c(1),s=c(24),i=c.n(s),a=(c(63),c(17)),o=c.n(a),l=c(21),u=c(2),j=c(8),d=c(10),b=c(20),p=c(3),O=c(5),h=c(4),f=c(23),m=function(){var e=Object(r.useState)(!0),t=Object(u.a)(e,2),c=t[0],s=t[1],i=Object(r.useState)(5),a=Object(u.a)(i,2),o=a[0],l=a[1],j=Object(p.b)(),d=Object(p.c)((function(e){return e.postReducer})),b=function(){window.innerHeight+document.documentElement.scrollTop+1>document.scrollingElement.scrollHeight&&s(!0)};return Object(r.useEffect)((function(){return c&&(j(Object(O.p)(o)),s(!1),l(o+5)),window.addEventListener("scroll",b),function(){return window.removeEventListener}}),[j,c,o]),Object(n.jsx)("div",{className:"thread-container",children:Object(n.jsx)("ul",{children:!Object(h.b)(d[0])&&d.map((function(e){return Object(n.jsx)(f.a,{post:e},e._id)}))})})},x=c(12),g=function(){var e=Object(r.useState)(!0),t=Object(u.a)(e,2),c=t[0],s=t[1],i=Object(r.useState)(""),a=Object(u.a)(i,2),d=a[0],b=a[1],f=Object(r.useState)(null),m=Object(u.a)(f,2),x=m[0],g=m[1],v=Object(r.useState)(""),w=Object(u.a)(v,2),y=w[0],N=w[1],k=Object(r.useState)(""),_=Object(u.a)(k,2),S=_[0],C=_[1],E=Object(p.c)((function(e){return e.userReducer})),I=Object(p.c)((function(e){return e.errorReducer.postError})),T=Object(p.b)(),R=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(d||x||y)){e.next=12;break}return(t=new FormData).append("posterId",E._id),t.append("message",d),S&&t.append("file",S),t.append("video",y),e.next=8,T(Object(O.l)(t));case 8:T(Object(O.p)()),F(),e.next=13;break;case 12:alert("Veuillez entrer un message");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){b(""),g(""),N(""),C("")};return Object(r.useEffect)((function(){Object(h.b)(E)||s(!1),function(){for(var e=d.split(" "),t=0;t<e.length;t++)if(e[t].includes("https://www.yout")||e[t].includes("https://yout")){var c=e[t].replace("watch?v=","embed/");N(c.split("&")[0]),e.splice(t,1),b(e.join(" ")),g(null)}}()}),[E,d,y]),Object(n.jsx)("div",{className:"post-container",children:c?Object(n.jsx)("i",{className:"fas fa-spinner fa-pulse"}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"data",children:[Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{children:E.following?E.following.length:0}),"\xa0Abonnement",E.following&&E.following.length>1?"s":null]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{children:E.followers?E.followers.length:0}),"\xa0Abonn\xe9",E.followers&&E.followers.length>1?"s":null]})]}),Object(n.jsx)(j.c,{exact:!0,to:"/profil",children:Object(n.jsx)("div",{className:"user-info",children:Object(n.jsx)("img",{src:E.picture,alt:"profil"})})}),Object(n.jsxs)("div",{className:"post-form",children:[Object(n.jsx)("textarea",{name:"message",id:"message",placeholder:"Quoi de neuf ?",value:d,onChange:function(e){return b(e.target.value)}}),d||x||y.length>10?Object(n.jsxs)("li",{className:"card-container",children:[Object(n.jsx)("div",{className:"card-left",children:Object(n.jsx)("img",{src:E.picture,alt:"pic"})}),Object(n.jsxs)("div",{className:"card-right",children:[Object(n.jsxs)("div",{className:"card-header",children:[Object(n.jsx)("div",{className:"pseudo",children:Object(n.jsx)("h3",{children:E.pseudo})}),Object(n.jsx)("span",{children:Object(h.c)(Date.now())})]}),Object(n.jsxs)("div",{className:"content",children:[Object(n.jsx)("p",{children:d}),x&&Object(n.jsx)("img",{src:x,alt:"post-img"}),y&&Object(n.jsx)("iframe",{title:y,src:y,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypte-media; gyroscope; picture-in-picture",allowFullScreen:!0})]})]})]}):null,Object(n.jsxs)("div",{className:"footer-form",children:[Object(n.jsxs)("div",{className:"icon",children:[Object(h.b)(y)&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("img",{src:"./img/icons/picture.svg",alt:"pic"}),Object(n.jsx)("input",{type:"file",id:"file-upload",name:"file",accept:".jpg, .jpeg, .png",onChange:function(e){g(URL.createObjectURL(e.target.files[0])),C(e.target.files[0]),N("")}})]}),y&&Object(n.jsx)("button",{onClick:function(){return N("")},children:"Supprimer video"})]}),!Object(h.b)(I.format)&&Object(n.jsx)("p",{children:I.format}),!Object(h.b)(I.maxSize)&&Object(n.jsx)("p",{children:I.maxSize}),Object(n.jsxs)("div",{className:"btn-send",children:[d||x||y.length>5?Object(n.jsx)("button",{className:"cancel",onClick:F,children:"Annuler message"}):null,Object(n.jsx)("button",{className:"send",onClick:R,children:"Envoyer"})]})]})]})]})})},v=c(6),w=c.n(v),y=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),c=t[0],s=t[1],i=Object(r.useState)(""),a=Object(u.a)(i,2),o=a[0],l=a[1];return Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=document.querySelector(".email.error"),n=document.querySelector(".password.error");w()({method:"post",url:"".concat("https://pine-apple-server.herokuapp.com/","api/user/login"),withCredentials:!0,data:{email:c,password:o}}).then((function(e){e.data.errors?(t.innerHTML=e.data.errors.email,n.innerHTML=e.data.errors.password):window.location="/"})).catch((function(e){return console.log(e)}))},id:"sign-up-form",children:[Object(n.jsx)("label",{htmlFor:"email",children:"Email"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{onChange:function(e){return s(e.target.value)},type:"text",name:"email",id:"email",value:c}),Object(n.jsx)("div",{className:"email error"}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"password",children:"Mot de passe"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{onChange:function(e){return l(e.target.value)},type:"password",name:"password",id:"password",value:o}),Object(n.jsx)("div",{className:"password error"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{type:"submit",value:"Se connecter"})]})},N=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),c=t[0],s=t[1],i=Object(r.useState)(""),a=Object(u.a)(i,2),j=a[0],d=a[1],b=Object(r.useState)(""),p=Object(u.a)(b,2),O=p[0],h=p[1],f=Object(r.useState)(""),m=Object(u.a)(f,2),x=m[0],g=m[1],v=Object(r.useState)(""),N=Object(u.a)(v,2),k=N[0],_=N[1],S=function(){var e=Object(l.a)(o.a.mark((function e(t){var c,n,r,i,a,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c=document.getElementById("terms"),n=document.querySelector(".pseudo.error"),r=document.querySelector(".email.error"),i=document.querySelector(".password.error"),a=document.querySelector(".password-confirm.error"),l=document.querySelector(".terms.error"),a.innerHTML="",l.innerHTML="",x===k&&c.checked){e.next=14;break}x!==k&&(a.innerHTML="Les mots de passe ne correspondent pas"),c.checked||(l.innerHTML="Veuillez valider les conditions g\xe9n\xe9rales"),e.next=16;break;case 14:return e.next=16,w()({method:"post",url:"".concat("https://pine-apple-server.herokuapp.com/","api/user/register"),data:{pseudo:j,email:O,password:x}}).then((function(e){e.data.errors?(n.innerHTML=e.data.errors.pseudo,r.innerHTML=e.data.errors.email,i.innerHTML=e.data.errors.password):s(!0)})).catch((function(e){return console.log(e)}));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(n.Fragment,{children:c?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(y,{}),Object(n.jsx)("span",{}),Object(n.jsx)("h4",{className:"success",children:"Enregistrement r\xe9ussi, veuillez-vous connecter"})]}):Object(n.jsxs)("form",{onSubmit:S,id:"sign-up-form",children:[Object(n.jsx)("label",{htmlFor:"pseudo",children:"Pseudo"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{onChange:function(e){return d(e.target.value)},type:"text",name:"pseudo",id:"pseudo",value:j}),Object(n.jsx)("div",{className:"pseudo error"}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"email",children:"Email"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{onChange:function(e){return h(e.target.value)},type:"text",name:"email",id:"email",value:O}),Object(n.jsx)("div",{className:"email error"}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"password",children:"Mot de passe"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{onChange:function(e){return g(e.target.value)},type:"password",name:"password",id:"password",value:x}),Object(n.jsx)("div",{className:"password error"}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"password-conf",children:"Confirmer mot de passe"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{onChange:function(e){return _(e.target.value)},type:"password",name:"password-conf",id:"password-conf",value:k}),Object(n.jsx)("div",{className:"password-confirm error"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{type:"checkbox",id:"terms"}),Object(n.jsxs)("label",{htmlFor:"terms",children:["J'accepte les ",Object(n.jsx)("a",{href:"/",target:"_blank",rel:"noopener noreferrer",children:"conditions g\xe9n\xe9rales"})]}),Object(n.jsx)("div",{className:"terms error"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{type:"submit",value:"Valider inscription"})]})})},k=function(e){var t=e.signIn,c=e.signUp,s=Object(r.useState)(c),i=Object(u.a)(s,2),a=i[0],o=i[1],l=Object(r.useState)(t),j=Object(u.a)(l,2),d=j[0],b=j[1],p=function(e){"register"===e.target.id?(b(!1),o(!0)):"login"===e.target.id&&(b(!0),o(!1))};return Object(n.jsx)("div",{className:"connection-form",children:Object(n.jsxs)("div",{className:"form-container",children:[Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{onClick:p,id:"register",className:a?"active-btn":null,children:"S'inscrire"}),Object(n.jsx)("li",{onClick:p,id:"login",className:d?"active-btn":null,children:"Se connecter"})]}),a&&Object(n.jsx)(N,{}),d&&Object(n.jsx)(y,{})]})})},_=function(){var e=Object(p.c)((function(e){return e.allPostReducer})),t=Object(p.c)((function(e){return e.usersReducer})),c=Object(p.c)((function(e){return e.trendingReducer})),s=Object(p.b)();return Object(r.useEffect)((function(){if(!Object(h.b)(e[0])){var t=Object.keys(e).map((function(t){return e[t]})).sort((function(e,t){return t.likers.length-e.likers.length}));t.length=3,s(Object(O.q)(t))}}),[e,s]),Object(n.jsxs)("div",{className:"trending-container",children:[Object(n.jsx)("h4",{children:"Tendances"}),Object(n.jsx)(j.c,{exact:!0,to:"/trending",children:Object(n.jsx)("ul",{children:c.length&&c.map((function(e){return Object(n.jsxs)("li",{children:[Object(n.jsx)("div",{children:t[0]&&t.map((function(t){return t._id===e.posterId?Object(n.jsx)("img",{src:t.picture,alt:t.picture},t._id):null}))}),Object(n.jsxs)("div",{className:"trend-content",children:[Object(n.jsx)("p",{children:e.message}),Object(n.jsx)("span",{children:"Lire"})]})]},e._id)}))})})]})},S=c(19),C=function(){var e=Object(r.useState)(!0),t=Object(u.a)(e,2),c=t[0],s=t[1],i=Object(r.useState)(!0),a=Object(u.a)(i,2),o=a[0],l=a[1],d=Object(r.useState)([]),b=Object(u.a)(d,2),O=b[0],f=b[1],m=Object(p.c)((function(e){return e.userReducer})),x=Object(p.c)((function(e){return e.usersReducer}));return Object(r.useEffect)((function(){!o||Object(h.b)(x[0])||Object(h.b)(m._id)||(!function(){var e=[];x.map((function(t){if(t._id!==m._id&&!t.followers.includes(m._id))return e.push(t._id)})),e.sort((function(){return.5-Math.random()})),window.innerHeight>780?e.length=6:window.innerHeight>720?e.length=4:window.innerHeight>615?e.length=2:window.innerHeight>540?e.length=1:e.length=0,f(e)}(),s(!1),l(!1))}),[m,x]),Object(n.jsxs)("div",{className:"get-friends-container",children:[Object(n.jsx)("h4",{children:"Suggestions"}),c?Object(n.jsx)("div",{className:"icon",children:Object(n.jsx)("i",{className:"fas fa-spinner fa-pulse"})}):Object(n.jsx)("ul",{children:O.map((function(e){for(var t=0;t<x.length;t++)if(e===x[t]._id)return Object(n.jsxs)("li",{className:"user-hint",children:[Object(n.jsxs)(j.c,{exact:!0,to:"/public-profil/".concat(x[t]._id),children:[Object(n.jsx)("img",{src:x[t].picture,alt:x[t].picture}),Object(n.jsx)("p",{children:x[t].pseudo})]}),Object(n.jsx)(S.a,{idToFollow:x[t]._id,type:"suggestion"})]},e)}))})]})},E=c(26),I=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),c=t[0],s=t[1],i=Object(r.useRef)(null),a=Object(p.c)((function(e){return e.usersReducer}));return Object(n.jsxs)("div",{className:"search-bar",children:[Object(n.jsx)("input",{ref:i,onChange:function(){var e=i.current.value;a.map((function(t){var n=t.pseudo.trim().toLowerCase(),r=c.find((function(e){return e.pseudo===t.pseudo}));e&&n.startsWith(e)&&!r&&s([].concat(Object(E.a)(c),[t]))}))},onKeyDown:function(e){return"Backspace"===e.key?s([]):null},type:"search",name:"search",placeholder:"Recherche..."}),c.length>0?Object(n.jsx)("ul",{className:"search-list",children:c.map((function(e){return Object(n.jsx)("li",{children:Object(n.jsx)(j.b,{to:"/public-profil/".concat(e._id),children:e.pseudo})},e._id)}))}):null]})},T=function(){var e=Object(r.useContext)(x.a);return Object(n.jsxs)("div",{className:"home",children:[Object(n.jsx)(b.a,{}),Object(n.jsxs)("div",{className:"main",children:[Object(n.jsx)("div",{className:"home-header",children:e?Object(n.jsx)(g,{}):Object(n.jsx)(k,{signIn:!0,signUp:!1})}),Object(n.jsx)(m,{})]}),Object(n.jsx)("div",{className:"right-side",children:Object(n.jsx)("div",{className:"right-side-container",children:Object(n.jsxs)("div",{className:"wrapper",children:[e&&Object(n.jsx)(I,{}),Object(n.jsx)(_,{}),e&&Object(n.jsx)(C,{})]})})}),"`"]})},R=c(11),F=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),c=t[0],s=t[1],i=Object(p.b)(),a=Object(p.c)((function(e){return e.userReducer}));return Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("pseudo",a.pseudo),t.append("userId",a._id),t.append("file",c),i(Object(R.m)(t,a._id))},className:"upload-pic",children:[Object(n.jsx)("label",{htmlFor:"file",children:"Changer d'image"}),Object(n.jsx)("input",{onChange:function(e){return s(e.target.files[0])},type:"file",id:"file",name:"file",accept:".jpeg, .jpg, .png"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{type:"submit",value:"Envoyer"})]})},L=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),c=t[0],s=t[1],i=Object(r.useState)(!1),a=Object(u.a)(i,2),o=a[0],l=a[1],j=Object(p.c)((function(e){return e.userReducer})),d=Object(p.c)((function(e){return e.usersReducer})),O=Object(p.c)((function(e){return e.errorReducer.userError})),f=Object(p.b)(),m=Object(r.useState)(!1),x=Object(u.a)(m,2),g=x[0],v=x[1],w=Object(r.useState)(!1),y=Object(u.a)(w,2),N=y[0],k=y[1];return Object(n.jsxs)("div",{className:"profil-container",children:[Object(n.jsx)(b.a,{}),Object(n.jsxs)("h1",{children:["Profil de ",j.pseudo]}),Object(n.jsxs)("div",{className:"update-container",children:[Object(n.jsxs)("div",{className:"left-part",children:[Object(n.jsx)("h3",{children:"Photo de profil"}),Object(n.jsx)("img",{src:j.picture,alt:"user img"}),Object(n.jsx)(F,{}),Object(n.jsx)("p",{children:O.maxSize}),Object(n.jsx)("p",{children:O.format})]}),Object(n.jsxs)("div",{className:"right-part",children:[Object(n.jsxs)("div",{className:"bio-update",children:[Object(n.jsx)("h3",{children:"Bio"}),!o&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("p",{onClick:function(){return l(!o)},children:j.bio}),Object(n.jsx)("button",{onClick:function(){return l(!o)},children:"Modifier bio"})]}),o&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("textarea",{onChange:function(e){return s(e.target.value)},defaultValue:j.bio}),Object(n.jsx)("button",{onClick:function(){f(Object(R.l)(j._id,c)),l(!1)},children:"Valider modifications"})]})]}),Object(n.jsxs)("h4",{children:["Membre depuis le : ",Object(h.a)(j.createdAt)]}),Object(n.jsxs)("h5",{onClick:function(){return v(!0)},children:["Abonnements : ",j.following?j.following.length:null]}),Object(n.jsxs)("h5",{onClick:function(){return k(!0)},children:["Abonn\xe9s : ",j.followers?j.followers.length:null]})]})]}),g&&Object(n.jsx)("div",{className:"popup-profil-container",children:Object(n.jsxs)("div",{className:"modal",children:[Object(n.jsx)("h3",{children:"Abonnements"}),Object(n.jsx)("span",{onClick:function(){return v(!1)},className:"cross",children:"\u2715"}),Object(n.jsx)("ul",{children:d.map((function(e){for(var t=0;t<j.following.length;t++)if(e._id===j.following[t])return Object(n.jsxs)("li",{children:[Object(n.jsx)("img",{src:e.picture,alt:"user-pic"}),Object(n.jsx)("h4",{children:e.pseudo}),Object(n.jsx)("div",{className:"follow-handler",children:Object(n.jsx)(S.a,{idToFollow:e._id,type:"suggestion"})})]},e._id)}))})]})}),N&&Object(n.jsx)("div",{className:"popup-profil-container",children:Object(n.jsxs)("div",{className:"modal",children:[Object(n.jsx)("h3",{children:"Abonn\xe9s"}),Object(n.jsx)("span",{onClick:function(){return k(!1)},className:"cross",children:"\u2715"}),Object(n.jsx)("ul",{children:d.map((function(e){for(var t=0;t<j.followers.length;t++)if(e._id===j.followers[t])return Object(n.jsxs)("li",{children:[Object(n.jsx)("img",{src:e.picture,alt:"user-pic"}),Object(n.jsx)("h4",{children:e.pseudo}),Object(n.jsx)("div",{className:"follow-handler",children:Object(n.jsx)(S.a,{idToFollow:e._id,type:"suggestion"})})]},e._id)}))})]})})]})},D=function(){var e=Object(r.useContext)(x.a);return Object(n.jsx)("div",{className:"profil-page",children:e?Object(n.jsx)(L,{}):Object(n.jsxs)("div",{className:"log-container",children:[Object(n.jsx)(k,{signIn:!1,signUp:!0}),Object(n.jsx)("div",{className:"img-container",children:Object(n.jsx)("img",{src:"./img/log.svg",alt:"log"})})]})})},A=function(){var e=Object(r.useContext)(x.a),t=Object(p.c)((function(e){return e.trendingReducer}));return Object(n.jsxs)("div",{className:"trending-page",children:[Object(n.jsx)(b.a,{}),Object(n.jsx)("div",{className:"main",children:Object(n.jsx)("ul",{children:!Object(h.b)(t[0])&&t.map((function(e){return Object(n.jsx)(f.a,{post:e},e._id)}))})}),Object(n.jsx)("div",{className:"right-side",children:Object(n.jsxs)("div",{className:"right-side-container",children:[Object(n.jsx)(_,{}),e&&Object(n.jsx)(C,{})]})})]})},P=c(51),M=c(55),U=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),c=t[0],s=t[1],i=Object(p.c)((function(e){return e.allPostReducer})),a=Object(p.c)((function(e){return e.userReducer}));return Object(r.useEffect)((function(){if(!Object(h.b)(a)&&!Object(h.b)(i)){var e=[];a.following.map((function(t){e.push(i.filter((function(e){return e.posterId===t})));for(var c=[],n=0;n<e.length;n++)c=c.concat(e[n]);var r=c.sort((function(e,t){return new Date(t.updatedAt)-new Date(e.updatedAt)}));s(r)}))}}),[a,i]),Object(n.jsx)("div",{className:"thread-container",children:Object(n.jsx)("ul",{children:!Object(h.b)(c)&&c.map((function(e){return Object(n.jsx)(f.a,{post:e},e._id)}))})})},H=function(){var e=Object(r.useContext)(x.a);return Object(n.jsxs)("div",{className:"home",children:[Object(n.jsx)(b.a,{}),Object(n.jsxs)("div",{className:"main",children:[Object(n.jsx)("div",{className:"home-header",children:e?Object(n.jsx)(g,{}):Object(n.jsx)(k,{signIn:!0,signUp:!1})}),e&&Object(n.jsx)(U,{})]}),Object(n.jsx)("div",{className:"right-side",children:Object(n.jsx)("div",{className:"right-side-container",children:Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)(_,{}),e&&Object(n.jsx)(C,{})]})})})]})},V=function(){return Object(n.jsxs)(j.a,{children:[Object(n.jsx)(P.a,{}),Object(n.jsxs)(d.d,{children:[Object(n.jsx)(d.b,{exact:!0,path:"/",component:T}),Object(n.jsx)(d.b,{exact:!0,path:"/profil",component:D}),Object(n.jsx)(d.b,{exact:!0,path:"/public-profil/:id",component:M.a}),Object(n.jsx)(d.b,{exact:!0,path:"/trending",component:A}),Object(n.jsx)(d.b,{exact:!0,path:"/my-follow",component:H}),Object(n.jsx)(d.a,{to:"/"})]})]})},B=function(){var e=Object(r.useState)(null),t=Object(u.a)(e,2),c=t[0],s=t[1],i=Object(p.b)();return Object(r.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"get",url:"".concat("https://pine-apple-server.herokuapp.com/","jwtid"),withCredentials:!0}).then((function(e){return s(e.data)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then((function(){return console.log("Uid confirm")})).catch((function(e){return console.log(e)})),c&&i(Object(R.j)(c))}),[c,i]),Object(n.jsx)(x.a.Provider,{value:c,children:Object(n.jsx)(V,{})})},q=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,90)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),r(e),s(e),i(e)}))},z=c(22),G=c(56),W=c(57),J=c(9),K={};var Q="GET_USERS",X={};var Y={};var Z={postError:[],userError:[]};var $={};var ee={};var te=Object(z.combineReducers)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.c:return t.payload;case R.g:return Object(J.a)(Object(J.a)({},e),{},{picture:t.payload});case R.f:return Object(J.a)(Object(J.a)({},e),{},{bio:t.payload});case R.b:return Object(J.a)(Object(J.a)({},e),{},{following:[t.payload.idToFollow].concat(Object(E.a)(e.following))});case R.e:return Object(J.a)(Object(J.a)({},e),{},{following:e.following.filter((function(e){return e!==t.payload.idToUnfollow}))});case R.a:return Object(J.a)(Object(J.a)({},e),{},{notifications:[]});default:return e}},usersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return t.payload;default:return e}},postReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.e:return t.payload;case O.h:return e.map((function(e){return e._id===t.payload.postId?Object(J.a)(Object(J.a)({},e),{},{likers:[t.payload.userId].concat(Object(E.a)(e.likers))}):e}));case O.i:return e.map((function(e){return e._id===t.payload.postId?Object(J.a)(Object(J.a)({},e),{},{likers:e.likers.filter((function(e){return e!==t.payload.userId}))}):e}));case O.j:return e.map((function(e){return e._id===t.payload.postId?Object(J.a)(Object(J.a)({},e),{},{message:t.payload.message}):e}));case O.b:return e.filter((function(e){return e._id!==t.payload.postId}));case O.c:return e.map((function(e){return e._id===t.payload.postId?Object(J.a)(Object(J.a)({},e),{},{comments:e.comments.map((function(e){return e._id===t.payload.commentId?Object(J.a)(Object(J.a)({},e),{},{text:t.payload.text}):e}))}):e}));case O.a:return e.map((function(e){return e._id===t.payload.postId?Object(J.a)(Object(J.a)({},e),{},{comments:e.comments.filter((function(e){return e._id!==t.payload.commentId}))}):e}));default:return e}},errorReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.f:return{postError:t.payload,userError:[]};case R.d:return{userError:t.payload,postError:[]};default:return e}},allPostReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.d:return t.payload;default:return e}},trendingReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.g:return t.payload;default:return e}}}),ce=Object(z.createStore)(te,Object(G.composeWithDevTools)(Object(z.applyMiddleware)(W.a)));ce.dispatch((function(e){return w.a.get("".concat("https://pine-apple-server.herokuapp.com/","api/user")).then((function(t){e({type:Q,payload:t.data})})).catch((function(e){return console.log({err:e})}))})),ce.dispatch(Object(O.p)()),i.a.render(Object(n.jsx)(p.a,{store:ce,children:Object(n.jsx)(B,{})}),document.getElementById("root")),q()}},[[89,1,2]]]);
//# sourceMappingURL=main.1d415954.chunk.js.map