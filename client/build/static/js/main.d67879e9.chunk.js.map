{"version":3,"sources":["components/LeftNav.jsx","actions/post.action.js","components/Utils.js","actions/user.actions.js","components/profil/FollowHandler.jsx","components/AppContext.jsx","components/post/LikeButton.jsx","components/post/DeleteCard.jsx","components/post/EditDeleteComment.jsx","components/post/CardComments.jsx","components/post/Card.jsx","components/Thread.jsx","components/post/NewPost.jsx","components/log/SignInForm.jsx","components/log/SignUpForm.jsx","components/log/Log.jsx","components/Trends.jsx","components/profil/FriendsHint.jsx","pages/Home.jsx","components/profil/UploadImg.jsx","components/profil/UpdateProfil.jsx","pages/Profil.jsx","pages/Trending.jsx","components/log/Logout.jsx","components/Navbar.jsx","components/routes/index.jsx","App.js","reducers/user.reducer.js","actions/users.actions.js","reducers/users.reducer.js","reducers/post.reducer.js","reducers/error.reducer.js","reducers/allPost.reducer.js","reducers/trending.reducer.js","reducers/index.js","index.js"],"names":["LeftNav","className","exact","to","activeClassName","src","alt","GET_POSTS","GET_ALL_POST","LIKE_POST","UNLIKE_POST","UPDATE_POST","DELETE_POST","EDIT_COMMENT","DELETE_COMMENT","GET_TRENDS","GET_POST_ERRORS","getPosts","count","dispatch","axios","method","url","process","then","res","dataLimit","data","slice","type","payload","catch","err","console","log","addPost","errors","dateParser","date","timestamp","Date","parse","toLocaleDateString","hour","minute","second","weekday","year","month","day","toString","timestampParser","tsp","isEmpty","value","undefined","Object","keys","length","trim","GET_USER","UPLOAD_PICTURE","UPDATE_BIO","FOLLOW_USER","UNFOLLOW_USER","GET_USER_ERRORS","FollowHandler","idToFollow","userData","useSelector","state","userReducer","useState","isFollowed","setIsFollowed","useDispatch","useEffect","following","includes","onClick","followerId","idToUnfollow","_id","followUser","UidContext","createContext","LikeButton","post","liked","setLiked","uid","useContext","likers","trigger","position","closeDocumentClick","style","textAlign","postId","userId","id","DeleteCard","deleteQuote","window","confirm","EditDeleteComment","comment","isAuthor","setIsAuthor","edit","setEdit","text","setText","handleDelete","commentId","deleteComment","commenterId","onSubmit","e","preventDefault","editComment","htmlFor","name","onChange","target","defaultValue","CardComments","usersData","usersReducer","comments","map","user","picture","commenterPseudo","addComment","pseudo","placeholder","Card","isLoading","setIsLoading","isUpdated","setIsUpdated","textUpdate","setTextUpdate","showComments","setShowComments","posterId","createdAt","message","video","width","height","frameBorder","title","allow","allowFullScreen","Thread","loadPost","setLoadPost","setCount","posts","postReducer","loadMore","innerHeight","document","documentElement","scrollTop","scrollingElement","scrollHeight","addEventListener","removeEventListener","NewPost","setMessage","postPicture","setPostPicture","setVideo","file","setFile","error","errorReducer","postError","handlePost","a","FormData","append","cancelPost","alert","findLink","split","i","embed","replace","splice","join","handleVideo","followers","now","accept","URL","createObjectURL","files","format","maxSize","SignInForm","email","setEmail","password","setPassword","emailError","querySelector","passwordError","withCredentials","innerHTML","location","SignUpForm","formSubmit","setFormSubmit","setPseudo","controlPassword","setControlPassword","handleRegister","terms","getElementById","pseudoError","passwordConfirmError","termsError","checked","href","rel","Log","signIn","signUp","signUpModal","setSignUpModal","signInModal","setSignInModal","handleModal","Trends","allPostReducer","trendList","trendingReducer","sortedArray","sort","b","getTrends","FriendsHint","playOne","setPlayOne","friendsHint","setFriendsHint","array","push","Math","random","notFriendsList","hint","Home","UploadImg","get","uploadPicture","UpdateProfil","bio","setBio","updateForm","setUpdateForm","userError","followingPopUp","setFollowingPopUp","followersPopUp","setFollowersPopUp","updateBio","Profil","Trending","Logout","logout","key","cookie","remove","expires","Navbar","Index","path","component","App","setuid","fetchToken","getUser","Provider","initialState","GET_USERS","combineReducers","action","filter","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render"],"mappings":"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","file":"static/js/main.d67879e9.chunk.js","sourcesContent":["import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nconst LeftNav = () => {\n\treturn (\n\t\t<div className=\"left-nav-container\">\n\t\t\t<div className=\"icons\">\n\t\t\t\t<div className=\"icons-bis\">\n\t\t\t\t\t<NavLink exact to='/' activeClassName=\"active-left-nav\">\n\t\t\t\t\t\t<img src=\"./img/icons/home.svg\" alt=\"home\"/>\n\t\t\t\t\t</NavLink>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<NavLink exact to='/trending' activeClassName=\"active-left-nav\">\n\t\t\t\t\t\t<img src=\"./img/icons/rocket.svg\" alt=\"home\"/>\n\t\t\t\t\t</NavLink>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<NavLink exact to='/profil' activeClassName=\"active-left-nav\">\n\t\t\t\t\t\t<img src=\"./img/icons/user.svg\" alt=\"home\"/>\n\t\t\t\t\t</NavLink>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default LeftNav;","import axios from 'axios';\n\nexport const GET_POSTS = 'GET_POSTS';\nexport const GET_ALL_POST = 'GET_ALL_POST';\nexport const ADD_POST = 'ADD_POST';\nexport const LIKE_POST = 'LIKE_POST';\nexport const UNLIKE_POST = 'UNLIKE_POST';\nexport const UPDATE_POST = 'UPDATE_POST';\nexport const DELETE_POST = 'DELETE_POST';\n\nexport const ADD_COMMENT = 'ADD_COMMENT';\nexport const EDIT_COMMENT = 'EDIT_COMMENT';\nexport const DELETE_COMMENT = 'DELETE_COMMENT';\n\nexport const GET_TRENDS = 'GET_TRENDS';\n\nexport const GET_POST_ERRORS = 'GET_POST_ERRORS';\n\nexport const getPosts = (count) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'get',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post`\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\tconst dataLimit = res.data.slice(0, count);\n\t\t\t\tdispatch({type: GET_POSTS, payload: dataLimit});\n\t\t\t\tdispatch({type: GET_ALL_POST, payload: res.data});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const addPost = (data) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'post',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post`,\n\t\t\tdata: data\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res.data.errors) {\n\t\t\t\t\tdispatch({type: GET_POST_ERRORS, payload: res.data.errors});\n\t\t\t\t} else {\n\t\t\t\t\tdispatch({type: GET_POST_ERRORS, payload: ''});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const likePost = (postId, userId) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/like-post/${postId}`,\n\t\t\tdata: {id: userId}\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: LIKE_POST, payload: {postId, userId}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const unlikePost = (postId, userId) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/unlike-post/${postId}`,\n\t\t\tdata: {id: userId}\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: UNLIKE_POST, payload: {postId, userId}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const updatePost = (postId, message) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'put',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/${postId}`,\n\t\t\tdata: {message}\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: UPDATE_POST, payload: {message, postId}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const deletePost = (postId) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'delete',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/${postId}`,\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: DELETE_POST, payload: {postId}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const addComment = (postId, commenterId, text, commenterPseudo) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/comment-post/${postId}`,\n\t\t\tdata: {\n\t\t\t\tcommenterId,\n\t\t\t\ttext,\n\t\t\t\tcommenterPseudo\n\t\t\t}\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: ADD_COMMENT, payload: {postId}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const editComment = (postId, commentId, text) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/edit-comment-post/${postId}`,\n\t\t\tdata: {\n\t\t\t\tcommentId,\n\t\t\t\ttext\n\t\t\t}\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: EDIT_COMMENT, payload: {postId, commentId, text}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const deleteComment = (postId, commentId) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/post/delete-comment-post/${postId}`,\n\t\t\tdata: {commentId}\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({type: DELETE_COMMENT, payload: {postId, commentId}});\n\t\t\t})\n\t\t\t.catch(err => console.log({err}));\n\t};\n};\n\nexport const getTrends = (sortedArray) => {\n\treturn (dispatch) => {\n\t\tdispatch({type: GET_TRENDS, payload: sortedArray});\n\t};\n};","export const dateParser = (date) => {\n\tlet options = {\n\t\thour: '2-digit',\n\t\tminute: '2-digit',\n\t\tsecond: '2-digit',\n\t\tweekday: 'long',\n\t\tyear: 'numeric',\n\t\tmonth: 'short',\n\t\tday: 'numeric'\n\t};\n\n\tlet timestamp = Date.parse(date);\n\n\tlet dateFormatted = new Date(timestamp).toLocaleDateString('fr-FR', options);\n\n\treturn dateFormatted.toString();\n};\n\nexport const timestampParser = (tsp) => {\n\tlet options = {\n\t\thour: '2-digit',\n\t\tminute: '2-digit',\n\t\tsecond: '2-digit',\n\t\tweekday: 'long',\n\t\tyear: 'numeric',\n\t\tmonth: 'short',\n\t\tday: 'numeric'\n\t};\n\n\tlet date = new Date(tsp).toLocaleDateString('fr-FR', options);\n\n\treturn date.toString();\n};\n\nexport const isEmpty = (value) => {\n\treturn value === undefined ||\n        value === null ||\n        (typeof value === 'object' && Object.keys(value).length === 0) ||\n        (typeof value === 'string' && value.trim().length === 0);\n};","import axios from 'axios';\n\nexport const GET_USER = 'GET_USER';\nexport const UPLOAD_PICTURE = 'UPLOAD_PICTURE';\nexport const UPDATE_BIO = 'UPDATE_BIO';\nexport const FOLLOW_USER = 'FOLLOW_USER';\nexport const UNFOLLOW_USER = 'UNFOLLOW_USER';\n\nexport const GET_USER_ERRORS = 'GET_USER_ERRORS';\n\nexport const getUser = (uid) => {\n\treturn (dispatch) => {\n\t\treturn axios\n\t\t\t.get(`${process.env.REACT_APP_API_URL}api/user/${uid}`)\n\t\t\t.then(res => {\n\t\t\t\tdispatch({ type: GET_USER, payload: res.data });\n\t\t\t})\n\t\t\t.catch(err => console.log({ err }));\n\t};\n};\n\nexport const uploadPicture = (data, id) => {\n\treturn (dispatch) => {\n\t\treturn axios\n\t\t\t.post(`${process.env.REACT_APP_API_URL}api/user/upload`, data)\n\t\t\t.then(res => {\n\t\t\t\tif (res.data.errors) {\n\t\t\t\t\tdispatch({ type: GET_USER_ERRORS, payload: res.data.errors });\n\t\t\t\t} else {\n\t\t\t\t\tdispatch({ type: GET_USER_ERRORS, payload: '' });\n\t\t\t\t\treturn axios\n\t\t\t\t\t\t.get(`${process.env.REACT_APP_API_URL}api/user/${id}`)\n\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\tdispatch({ type: UPLOAD_PICTURE, payload: res.data.picture});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => console.log({ err }));\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => console.log({ err }));\n\t};\n};\n\nexport const updateBio = (userId, bio) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'put',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/user/${userId}`,\n\t\t\tdata: { bio }\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({ type: UPDATE_BIO, payload: bio});\n\t\t\t})\n\t\t\t.catch(err => console.log({ err }));\n\t};\n};\n\nexport const followUser = (followerId, idToFollow) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/user/follow/${followerId}`,\n\t\t\tdata: { idToFollow }\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({ type: FOLLOW_USER, payload: {idToFollow}});\n\t\t\t})\n\t\t\t.catch(err => console.log({ err }));\n\t};\n};\n\nexport const unfollowUser = (followerId, idToUnfollow) => {\n\treturn (dispatch) => {\n\t\treturn axios({\n\t\t\tmethod: 'patch',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/user/unfollow/${followerId}`,\n\t\t\tdata: { idToUnfollow }\n\t\t})\n\t\t\t.then(() => {\n\t\t\t\tdispatch({ type: UNFOLLOW_USER, payload: {idToUnfollow}});\n\t\t\t})\n\t\t\t.catch(err => console.log({ err }));\n\t};\n};","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport { isEmpty } from '../Utils.js';\nimport { followUser, unfollowUser } from '../../actions/user.actions.js';\n\nconst FollowHandler = ({ idToFollow, type }) => {\n\n\tconst userData = useSelector(state => state.userReducer);\n\tconst [isFollowed, setIsFollowed] = useState(false);\n\tconst dispatch = useDispatch();\n\n\tconst handleFollow = () => {\n\t\tdispatch(followUser(userData._id, idToFollow));\n\t\tsetIsFollowed(true);\n\t};\n\n\tconst handleUnfollow = () => {\n\t\tdispatch(unfollowUser(userData._id, idToFollow));\n\t\tsetIsFollowed(false);\n\t};\n\n\tuseEffect(() => {\n\t\tif (!isEmpty(userData.following)) {\n\t\t\tif (userData.following.includes(idToFollow)) {\n\t\t\t\tsetIsFollowed(true);\n\t\t\t} else {\n\t\t\t\tsetIsFollowed(false);\n\t\t\t}\n\t\t}\n\t}, [userData, idToFollow]);\n\n\treturn (\n\t\t<>\n\t\t\t{isFollowed && !isEmpty(userData) && (\n\t\t\t\t<span onClick={handleUnfollow}>\n\t\t\t\t\t{type === 'suggestion' && <button className=\"unfollow-btn\">Abonné</button>}\n\t\t\t\t\t{type === 'card' && <img src=\"./img/icons/checked.svg\" alt=\"checked\" />}\n\t\t\t\t</span>\n\t\t\t)}\n\t\t\t{!isFollowed && !isEmpty(userData) && (\n\t\t\t\t<span onClick={handleFollow}>\n\t\t\t\t\t{type === 'suggestion' && <button className=\"follow-btn\">Suivre</button>}\n\t\t\t\t\t{type === 'card' && <img src=\"./img/icons/check.svg\" alt=\"check\" />}\n\t\t\t\t</span>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default FollowHandler;","import {createContext} from 'react';\n\nexport const UidContext = createContext(null);","import React from 'react';\nimport { useState, useEffect, useContext } from 'react';\nimport { UidContext } from '../AppContext.jsx';\nimport Popup from 'reactjs-popup';\nimport 'reactjs-popup/dist/index.css';\nimport { useDispatch } from 'react-redux';\nimport { likePost, unlikePost } from '../../actions/post.action.js';\n\nconst LikeButton = ({ post }) => {\n\n\tconst [liked, setLiked] = useState(false);\n\tconst uid = useContext(UidContext);\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tif (post.likers.includes(uid)) {\n\t\t\tsetLiked(true);\n\t\t} else {\n\t\t\tsetLiked(false);\n\t\t}\n\t}, [uid, liked, post.likers]);\n\n\tconst like = () => {\n\t\tdispatch(likePost(post._id, uid));\n\t\tsetLiked(true);\n\t};\n\n\tconst unlike = () => {\n\t\tdispatch(unlikePost(post._id, uid));\n\t\tsetLiked(false);\n\t};\n\n\treturn (\n\t\t<div className=\"like-container\">\n\t\t\t{uid === null && (\n\t\t\t\t<Popup\n\t\t\t\t\ttrigger={<img src=\"./img/icons/heart.svg\" alt=\"like\"/>}\n\t\t\t\t\tposition={['bottom center', 'bottom right', 'bottom left']}\n\t\t\t\t\tcloseDocumentClick\n\t\t\t\t>\n\t\t\t\t\t<div style={{textAlign: 'center'}}>Connectez-vous pour liker un post !</div>\n\t\t\t\t</Popup>\n\t\t\t)}\n\t\t\t{uid && !liked && (\n\t\t\t\t<img onClick={like} src=\"./img/icons/heart.svg\" alt=\"like\"/>\n\t\t\t)}\n\t\t\t{uid && liked && (\n\t\t\t\t<img onClick={unlike} src=\"./img/icons/heart-filled.svg\" alt=\"like\"/>\n\t\t\t)}\n\t\t\t<span>{post.likers && post.likers.length}</span>\n\t\t</div>\n\t);\n};\n\nexport default LikeButton;","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { deletePost } from '../../actions/post.action.js';\n\nconst DeleteCard = ({ id }) => {\n\tconst dispatch = useDispatch();\n\n\tconst deleteQuote = () => {\n\t\tdispatch(deletePost(id));\n\t};\n\n\treturn (\n\t\t<div onClick={() => {\n\t\t\tif (window.confirm('Voulez-vous supprimer cet article ?')) {\n\t\t\t\tdeleteQuote();\n\t\t\t}\n\t\t}}>\n\t\t\t<img src=\"./img/icons/trash.svg\" alt=\"trash\" />\n\t\t</div>\n\t);\n};\n\nexport default DeleteCard;","import React from 'react';\nimport { useState } from 'react';\nimport { UidContext } from '../AppContext.jsx';\nimport { useContext } from 'react';\nimport { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { deleteComment, editComment } from '../../actions/post.action.js';\n\nconst EditDeleteComment = ({ comment, postId}) => {\n\n\tconst [isAuthor, setIsAuthor] = useState(false);\n\tconst [edit, setEdit] = useState(false);\n\tconst [text, setText] = useState('');\n\tconst uid = useContext(UidContext);\n\tconst dispatch = useDispatch();\n\n\tconst handleEdit = (e) => {\n\t\te.preventDefault();\n\t\tif (text) {\n\t\t\tdispatch(editComment(postId, comment._id, text));\n\t\t\tsetText('');\n\t\t\tsetEdit(false);\n\t\t}\n\t};\n    \n\tconst handleDelete = () => {\n\t\tdispatch(deleteComment(postId, comment._id));\n\t};\n\n\tuseEffect(() => {\n\t\tconst checkAuthor = () => {\n\t\t\tif (uid === comment.commenterId) {\n\t\t\t\tsetIsAuthor(true);\n\t\t\t}\n\t\t};\n\t\tcheckAuthor();\n\t}, [uid, comment.commenterId]);\n\n\treturn (\n\t\t<div className=\"edit-comment\">\n\t\t\t{isAuthor && !edit && (\n\t\t\t\t<span onClick={() => setEdit(!edit)}>\n\t\t\t\t\t<img src=\"./img/icons/edit.svg\" alt=\"edit\"/>\n\t\t\t\t</span>\n\t\t\t)}\n\t\t\t{isAuthor && edit && (\n\t\t\t\t<form className=\"edit-comment-form\" onSubmit={handleEdit}>\n\t\t\t\t\t<label htmlFor=\"text\" onClick={() => setEdit(!edit)}>Editer</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input type=\"text\" name=\"text\" onChange={(e) => setText(e.target.value)} defaultValue={comment.text}/>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<div className=\"btn\">\n\t\t\t\t\t\t<span onClick={() => {\n\t\t\t\t\t\t\tif (window.confirm('Voulez-vous supprimer ce commentaire ?')) {\n\t\t\t\t\t\t\t\thandleDelete();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<img src=\"./img/icons/trash.svg\" alt=\"trash\"/>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<input type=\"submit\" value=\"Valider les modifications\" />\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default EditDeleteComment;","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useState } from 'react';\nimport { isEmpty, timestampParser } from '../Utils.js';\nimport FollowHandler from '../profil/FollowHandler.jsx';\nimport { addComment, getPosts } from '../../actions/post.action.js';\nimport EditDeleteComment from './EditDeleteComment.jsx';\n\nconst CardComments = ({ post }) => {\n\n\tconst [text, setText] = useState('');\n\tconst usersData = useSelector(state => state.usersReducer);\n\tconst userData = useSelector(state => state.userReducer);\n\tconst dispatch = useDispatch();\n    \n\tconst handleComment = (e) => {\n\t\te.preventDefault();\n\t\tif (text) {\n\t\t\tdispatch(addComment(post._id, userData._id, text, userData.pseudo))\n\t\t\t\t.then(() => dispatch(getPosts()))\n\t\t\t\t.then(() => setText(''))\n\t\t\t\t.catch(err => console.log({ err }));\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"comments-container\">\n\t\t\t{post.comments.map(comment => (\n\t\t\t\t<div key={comment._id} className={comment.commenterId === userData._id ? 'comment-container client' : 'comment-container'}>\n\t\t\t\t\t<div className=\"left-part\">\n\t\t\t\t\t\t{!isEmpty(usersData[0]) && usersData.map(user => {\n\t\t\t\t\t\t\tif (user._id === comment.commenterId) {\n\t\t\t\t\t\t\t\treturn <img key={comment.commenterId} src={user.picture} alt={comment.commenterId} />;\n\t\t\t\t\t\t\t} else return null;\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"right-part\">\n\t\t\t\t\t\t<div className=\"comment-header\">\n\t\t\t\t\t\t\t<div className=\"pseudo\">\n\t\t\t\t\t\t\t\t<h3>{comment.commenterPseudo}</h3>\n\t\t\t\t\t\t\t\t{comment.commenterId !== userData._id && (\n\t\t\t\t\t\t\t\t\t<FollowHandler idToFollow={comment.commenterId} type={'card'} />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span>{timestampParser(comment.timestamp)}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p>{comment.text}</p>\n\t\t\t\t\t\t<EditDeleteComment comment={comment} postId={post._id}/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t\t{userData._id && (\n\t\t\t\t<form onSubmit={handleComment} className=\"comment-form\">\n\t\t\t\t\t<input type=\"text\" name=\"text\" onChange={(e) => setText(e.target.value)} value={text} placeholder=\"Laisser un commentaire\"/>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input type=\"submit\" value=\"Envoyer\" />\n\t\t\t\t</form>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default CardComments;","import React from 'react';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useEffect } from 'react';\nimport { dateParser, isEmpty } from '../Utils.js';\nimport FollowHandler from '../profil/FollowHandler.jsx';\nimport LikeButton from './LikeButton.jsx';\nimport { updatePost } from '../../actions/post.action.js';\nimport DeleteCard from './DeleteCard.jsx';\nimport CardComments from './CardComments.jsx';\n\nconst Card = ({ post }) => {\n\n\tconst [isLoading, setIsLoading] = useState(true);\n\tconst [isUpdated, setIsUpdated] = useState(false);\n\tconst [textUpdate, setTextUpdate] = useState(null);\n\tconst [showComments, setShowComments] = useState(false);\n\tconst usersData = useSelector(state => state.usersReducer);\n\tconst userData = useSelector(state => state.userReducer);\n\tconst dispatch = useDispatch();\n\n\tconst updateItem = () => {\n\t\tif (textUpdate) {\n\t\t\tdispatch(updatePost(post._id, textUpdate));\n\t\t}\n\t\tsetIsUpdated(false);\n\t};\n\n\tuseEffect(() => {\n\t\tif (!isEmpty(usersData[0])) {\n\t\t\tsetIsLoading(false);\n\t\t}\n\t}, [usersData]);\n\n\treturn (\n\t\t<li className=\"card-container\">\n\t\t\t{isLoading ? (\n\t\t\t\t<i className=\"fas fa-spinner fa-spin\" />\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"card-left\">\n\t\t\t\t\t\t{!isEmpty(usersData[0]) && usersData.map(user => {\n\t\t\t\t\t\t\tif (user._id === post.posterId) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<img key={user._id} src={user.picture} alt={user.picture} />\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else return null;\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"card-right\">\n\t\t\t\t\t\t<div className=\"card-header\">\n\t\t\t\t\t\t\t<div className=\"pseudo\">\n\t\t\t\t\t\t\t\t{!isEmpty(usersData[0]) && usersData.map(user => {\n\t\t\t\t\t\t\t\t\tif (user._id === post.posterId) {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<h3 key={user._id}>{user.pseudo}</h3>\n\t\t\t\t\t\t\t\t\t\t\t\t{post.posterId !== userData._id && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FollowHandler idToFollow={post.posterId} type={'card'}/>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else return null;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span>{dateParser(post.createdAt)}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{!isUpdated && <p>{post.message}</p>}\n\t\t\t\t\t\t{isUpdated && (\n\t\t\t\t\t\t\t<div className=\"update-post\">\n\t\t\t\t\t\t\t\t<textarea defaultValue={post.message} onChange={(e) => setTextUpdate(e.target.value)} />\n\t\t\t\t\t\t\t\t<div className=\"button-container\">\n\t\t\t\t\t\t\t\t\t<button className=\"btn\" onClick={updateItem}>Valider modifications</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{post.picture && (\n\t\t\t\t\t\t\t<img src={post.picture} alt={post.picture} className=\"card-pic\" />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{post.video && (\n\t\t\t\t\t\t\t<iframe width=\"500\" height=\"300\" src={post.video} frameBorder=\"0\" title={post._id} allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{userData._id === post.posterId && (\n\t\t\t\t\t\t\t<div className=\"button-container\">\n\t\t\t\t\t\t\t\t<div onClick={() => setIsUpdated(!isUpdated)}>\n\t\t\t\t\t\t\t\t\t<img src=\"./img/icons/edit.svg\" alt=\"edit\"/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<DeleteCard id={post._id} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div className=\"card-footer\">\n\t\t\t\t\t\t\t<LikeButton post={post} />\n\t\t\t\t\t\t\t<div className=\"comment-icon\">\n\t\t\t\t\t\t\t\t<img onClick={() => setShowComments(!showComments)} src=\"./img/icons/message1.svg\" alt=\"comment\"/>\n\t\t\t\t\t\t\t\t{post.comments && <span>{post.comments.length}</span>}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{showComments && <CardComments post={post}/>}\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</li>\n\t);\n};\n\nexport default Card;","import React from 'react';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getPosts } from '../actions/post.action.js';\nimport { isEmpty } from './Utils.js';\nimport Card from './post/Card.jsx';\n\nconst Thread = () => {\n\n\tconst [loadPost, setLoadPost] = useState(true);\n\tconst [count, setCount] = useState(5);\n\tconst dispatch = useDispatch();\n\tconst posts = useSelector(state => state.postReducer);\n\n\tconst loadMore = () => {\n\t\tif (window.innerHeight + document.documentElement.scrollTop + 1 > document.scrollingElement.scrollHeight) {\n\t\t\tsetLoadPost(true);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (loadPost) {\n\t\t\tdispatch(getPosts(count));\n\t\t\tsetLoadPost(false);\n\t\t\tsetCount(count + 5);\n\t\t}\n\n\t\twindow.addEventListener('scroll', loadMore);\n\t\treturn () => window.removeEventListener;\n\n\t}, [dispatch, loadPost, count]);\n\n\treturn (\n\t\t<div className=\"thread-container\">\n\t\t\t<ul>\n\t\t\t\t{ !isEmpty(posts[0]) && (\n\t\t\t\t\tposts.map(post => {\n\t\t\t\t\t\treturn <Card key={post._id} post={post} />;\n\t\t\t\t\t})\n\t\t\t\t)}\n\t\t\t</ul>\n\t\t</div>\n\t);\n};\n\nexport default Thread;","import React from 'react';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useEffect } from 'react';\nimport { isEmpty, timestampParser } from '../Utils.js';\nimport { NavLink } from 'react-router-dom';\nimport { addPost, getPosts } from '../../actions/post.action.js';\n\nconst NewPost = () => {\n\n\tconst [isLoading, setIsLoading] = useState(true);\n\tconst [message, setMessage] = useState('');\n\tconst [postPicture, setPostPicture] = useState(null);\n\tconst [video, setVideo] = useState('');\n\tconst [file, setFile] = useState('');\n\n\tconst userData = useSelector(state => state.userReducer);\n\tconst error = useSelector(state => state.errorReducer.postError);\n\tconst dispatch = useDispatch();\n\n\tconst handlePost = async () => {\n\t\tif (message || postPicture || video) {\n\t\t\tconst data = new FormData();\n\t\t\tdata.append('posterId', userData._id);\n\t\t\tdata.append('message', message);\n\t\t\tif (file) {\n\t\t\t\tdata.append('file', file);\n\t\t\t}\n\t\t\tdata.append('video', video);\n\n\t\t\tawait dispatch(addPost(data));\n\t\t\tdispatch(getPosts());\n\n\t\t\tcancelPost();\n\n\t\t} else {\n\t\t\talert('Veuillez entrer un message');\n\t\t}\n\t};\n\n\tconst handlePicture = (e) => {\n\t\tsetPostPicture(URL.createObjectURL(e.target.files[0]));\n\t\tsetFile(e.target.files[0]);\n\t\tsetVideo('');\n\t};\n\n\tconst handleVideo = () => {\n\t\tlet findLink = message.split(' ');\n\t\tfor (let i = 0; i < findLink.length; i++) {\n\t\t\tif (findLink[i].includes('https://www.yout') || findLink[i].includes('https://yout')) {\n\t\t\t\tlet embed = findLink[i].replace('watch?v=', 'embed/');\n\t\t\t\tsetVideo(embed.split('&')[0]);\n\t\t\t\tfindLink.splice(i, 1);\n\t\t\t\tsetMessage(findLink.join(' '));\n\t\t\t\tsetPostPicture(null);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst cancelPost = () => {\n\t\tsetMessage('');\n\t\tsetPostPicture('');\n\t\tsetVideo('');\n\t\tsetFile('');\n\t};\n\n\tuseEffect(() => {\n\t\tif (!isEmpty(userData)) {\n\t\t\tsetIsLoading(false);\n\t\t}\n\t\thandleVideo();\n\t}, [userData, message, video]);\n\n\treturn (\n\t\t<div className=\"post-container\">\n\t\t\t{isLoading ? (\n\t\t\t\t<i className=\"fas fa-spinner fa-pulse\" />\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"data\">\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span>{userData.following ? userData.following.length : 0}</span>\n                            &nbsp;Abonnement{userData.following && userData.following.length > 1 ? 's' : null }\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<span>{userData.followers ? userData.followers.length : 0}</span>\n                             &nbsp;Abonné{userData.followers && userData.followers.length > 1 ? 's' : null }\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<NavLink exact to=\"/profil\">\n\t\t\t\t\t\t<div className=\"user-info\">\n\t\t\t\t\t\t\t<img src={userData.picture} alt=\"profil\"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</NavLink>\n\t\t\t\t\t<div className=\"post-form\">\n\t\t\t\t\t\t<textarea name=\"message\" id=\"message\" placeholder=\"Quoi de neuf ?\" value={message} onChange={(e) => setMessage(e.target.value)} />\n\t\t\t\t\t\t{message || postPicture || video.length > 10 ? (\n\t\t\t\t\t\t\t<li className=\"card-container\">\n\t\t\t\t\t\t\t\t<div className=\"card-left\">\n\t\t\t\t\t\t\t\t\t<img src={userData.picture} alt=\"pic\"/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"card-right\">\n\t\t\t\t\t\t\t\t\t<div className=\"card-header\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"pseudo\">\n\t\t\t\t\t\t\t\t\t\t\t<h3>{userData.pseudo}</h3>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<span>{timestampParser(Date.now())}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"content\">\n\t\t\t\t\t\t\t\t\t\t<p>{message}</p>\n\t\t\t\t\t\t\t\t\t\t{postPicture && (\n\t\t\t\t\t\t\t\t\t\t\t<img src={postPicture} alt=\"post-img\"/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{video && (\n\t\t\t\t\t\t\t\t\t\t\t<iframe title={video} src={video} frameBorder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypte-media; gyroscope; picture-in-picture\" allowFullScreen />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t) : null }\n\t\t\t\t\t\t<div className=\"footer-form\">\n\t\t\t\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t\t\t\t{isEmpty(video) && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<img src=\"./img/icons/picture.svg\" alt=\"pic\" />\n\t\t\t\t\t\t\t\t\t\t<input type=\"file\" id=\"file-upload\" name=\"file\" accept=\".jpg, .jpeg, .png\" onChange={handlePicture}/>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{video && (\n\t\t\t\t\t\t\t\t\t<button onClick={() => setVideo('')}>Supprimer video</button>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{!isEmpty(error.format) && (\n\t\t\t\t\t\t\t\t<p>{error.format}</p>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{!isEmpty(error.maxSize) && (\n\t\t\t\t\t\t\t\t<p>{error.maxSize}</p>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<div className=\"btn-send\">\n\t\t\t\t\t\t\t\t{message || postPicture || video.length > 5 ? (\n\t\t\t\t\t\t\t\t\t<button className=\"cancel\" onClick={cancelPost}>Annuler message</button>\n\t\t\t\t\t\t\t\t) : null }\n\t\t\t\t\t\t\t\t<button className=\"send\" onClick={handlePost}>Envoyer</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default NewPost;","import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst SignInForm = () => {\n\n\tconst [email, setEmail] = useState('');\n\tconst [password, setPassword] = useState('');\n\n\tconst handleLogin = (e) => {\n\t\te.preventDefault();\n\t\tconst emailError = document.querySelector('.email.error');\n\t\tconst passwordError = document.querySelector('.password.error');\n\n\t\taxios({\n\t\t\tmethod: 'post',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/user/login`,\n\t\t\twithCredentials: true,\n\t\t\tdata: {\n\t\t\t\temail: email,\n\t\t\t\tpassword: password\n\t\t\t},\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\tif (res.data.errors) {\n\t\t\t\t\temailError.innerHTML = res.data.errors.email;\n\t\t\t\t\tpasswordError.innerHTML = res.data.errors.password;\n\t\t\t\t} else {\n\t\t\t\t\twindow.location = '/';\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => console.log(err));\n\t};\n\n\treturn (\n\t\t<form onSubmit={handleLogin} id=\"sign-up-form\">\n\t\t\t<label htmlFor=\"email\">Email</label>\n\t\t\t<br/>\n\t\t\t<input onChange={(e) => setEmail(e.target.value)} type=\"text\" name=\"email\" id=\"email\" value={email}/>\n\t\t\t<div className=\"email error\" />\n\t\t\t<br/>\n\t\t\t<label htmlFor=\"password\">Mot de passe</label>\n\t\t\t<br/>\n\t\t\t<input onChange={(e) => setPassword(e.target.value)} type=\"password\" name=\"password\" id=\"password\" value={password}/>\n\t\t\t<div className=\"password error\" />\n\t\t\t<br/>\n\t\t\t<input type=\"submit\" value=\"Se connecter\"/>\n\t\t</form>\n\t);\n};\n\nexport default SignInForm;","import React from 'react';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport SignInForm from './SignInForm.jsx';\n\nconst SignUpForm = () => {\n\n\tconst [formSubmit, setFormSubmit] = useState(false);\n\tconst [pseudo, setPseudo] = useState('');\n\tconst [email, setEmail] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [controlPassword, setControlPassword] = useState('');\n\n\tconst handleRegister = async (e) => {\n\t\te.preventDefault();\n\t\tconst terms = document.getElementById('terms');\n\t\tconst pseudoError = document.querySelector('.pseudo.error');\n\t\tconst emailError = document.querySelector('.email.error');\n\t\tconst passwordError = document.querySelector('.password.error');\n\t\tconst passwordConfirmError = document.querySelector('.password-confirm.error');\n\t\tconst termsError = document.querySelector('.terms.error');\n\n\t\tpasswordConfirmError.innerHTML = '';\n\t\ttermsError.innerHTML = '';\n\n\t\tif (password !== controlPassword || !terms.checked) {\n\t\t\tif (password !== controlPassword) {\n\t\t\t\tpasswordConfirmError.innerHTML = 'Les mots de passe ne correspondent pas';\n\t\t\t}\n\t\t\tif (!terms.checked) {\n\t\t\t\ttermsError.innerHTML = 'Veuillez valider les conditions générales';\n\t\t\t}\n\t\t} else {\n\t\t\tawait axios({\n\t\t\t\tmethod: 'post',\n\t\t\t\turl: `${process.env.REACT_APP_API_URL}api/user/register`,\n\t\t\t\tdata: {\n\t\t\t\t\tpseudo,\n\t\t\t\t\temail,\n\t\t\t\t\tpassword\n\t\t\t\t}\n\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (res.data.errors) {\n\t\t\t\t\t\tpseudoError.innerHTML = res.data.errors.pseudo;\n\t\t\t\t\t\temailError.innerHTML = res.data.errors.email;\n\t\t\t\t\t\tpasswordError.innerHTML = res.data.errors.password;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetFormSubmit(true);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => console.log(err));\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{formSubmit ? (\n\t\t\t\t<>\n\t\t\t\t\t<SignInForm />\n\t\t\t\t\t<span />\n\t\t\t\t\t<h4 className=\"success\">Enregistrement réussi, veuillez-vous connecter</h4>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<form onSubmit={handleRegister} id=\"sign-up-form\">\n\t\t\t\t\t<label htmlFor=\"pseudo\">Pseudo</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input onChange={(e) => setPseudo(e.target.value)} type=\"text\" name=\"pseudo\" id=\"pseudo\" value={pseudo}/>\n\t\t\t\t\t<div className=\"pseudo error\" />\n\t\t\t\t\t<br/>\n\t\t\t\t\t<label htmlFor=\"email\">Email</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input onChange={(e) => setEmail(e.target.value)} type=\"text\" name=\"email\" id=\"email\" value={email}/>\n\t\t\t\t\t<div className=\"email error\" />\n\t\t\t\t\t<br/>\n\t\t\t\t\t<label htmlFor=\"password\">Mot de passe</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input onChange={(e) => setPassword(e.target.value)} type=\"password\" name=\"password\" id=\"password\" value={password}/>\n\t\t\t\t\t<div className=\"password error\" />\n\t\t\t\t\t<br/>\n\t\t\t\t\t<label htmlFor=\"password-conf\">Confirmer mot de passe</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input onChange={(e) => setControlPassword(e.target.value)} type=\"password\" name=\"password-conf\" id=\"password-conf\" value={controlPassword}/>\n\t\t\t\t\t<div className=\"password-confirm error\" />\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input type=\"checkbox\" id=\"terms\" />\n\t\t\t\t\t<label htmlFor=\"terms\">J'accepte les <a href=\"/\" target=\"_blank\" rel=\"noopener noreferrer\">conditions générales</a></label>\n\t\t\t\t\t<div className=\"terms error\" />\n\t\t\t\t\t<br/>\n\t\t\t\t\t<input type=\"submit\" value='Valider inscription'/>\n\t\t\t\t</form>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default SignUpForm;","import React, { useState } from 'react';\nimport SignInForm from './SignInForm.jsx';\nimport SignUpForm from './SignUpForm.jsx';\n\nconst Log = ({signIn, signUp}) => {\n\n\tconst [signUpModal, setSignUpModal] = useState(signUp);\n\tconst [signInModal, setSignInModal] = useState(signIn);\n\n\tconst handleModal = (e) => {\n\t\tif (e.target.id === 'register') {\n\t\t\tsetSignInModal(false);\n\t\t\tsetSignUpModal(true);\n\t\t} else if (e.target.id === 'login') {\n\t\t\tsetSignInModal(true);\n\t\t\tsetSignUpModal(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"connection-form\">\n\t\t\t<div className=\"form-container\">\n\t\t\t\t<ul>\n\t\t\t\t\t<li onClick={handleModal} id=\"register\" className={signUpModal ? 'active-btn' : null}>S'inscrire</li>\n\t\t\t\t\t<li onClick={handleModal} id=\"login\" className={signInModal ? 'active-btn' : null}>Se connecter</li>\n\t\t\t\t</ul>\n\t\t\t\t{signUpModal && <SignUpForm />}\n\t\t\t\t{signInModal && <SignInForm />}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Log;","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { isEmpty } from './Utils.js';\nimport { getTrends } from '../actions/post.action.js';\nimport { NavLink } from 'react-router-dom';\n\nconst Trends = () => {\n\n\tconst posts = useSelector(state => state.allPostReducer);\n\tconst usersData = useSelector(state => state.usersReducer);\n\tconst trendList = useSelector(state => state.trendingReducer);\n\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tif (!isEmpty(posts[0])) {\n\t\t\tconst postsArray = Object.keys(posts).map(i => posts[i]);\n\t\t\tlet sortedArray = postsArray.sort((a, b) => {\n\t\t\t\treturn b.likers.length - a.likers.length;\n\t\t\t});\n\t\t\tsortedArray.length = 3;\n\t\t\tdispatch(getTrends(sortedArray));\n\t\t}\n\t}, [posts, dispatch]);\n\n\treturn (\n\t\t<div className=\"trending-container\">\n\t\t\t<h4>Tendances</h4>\n\t\t\t<NavLink exact to=\"/trending\">\n\t\t\t\t<ul>\n\t\t\t\t\t{trendList.length && trendList.map(post => (\n\t\t\t\t\t\t<li key={post._id}>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{usersData[0] && usersData.map(user => {\n\t\t\t\t\t\t\t\t\tif (user._id === post.posterId) {\n\t\t\t\t\t\t\t\t\t\treturn <img key={user._id} src={user.picture} alt={user.picture}/>;\n\t\t\t\t\t\t\t\t\t} else return null;\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"trend-content\">\n\t\t\t\t\t\t\t\t<p>{post.message}</p>\n\t\t\t\t\t\t\t\t<span>Lire</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</NavLink>\n\t\t</div>\n\t);\n};\n\nexport default Trends;","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { isEmpty } from '../Utils.js';\nimport FollowHandler from './FollowHandler.jsx';\n\nconst FriendsHint = () => {\n\n\tconst [isLoading, setIsLoading] = useState(true);\n\tconst [playOne, setPlayOne] = useState(true);\n\tconst [friendsHint, setFriendsHint] = useState([]);\n\tconst userData = useSelector(state => state.userReducer);\n\tconst usersData = useSelector(state => state.usersReducer);\n\n\tuseEffect(() => {\n\t\tconst notFriendsList = () => {\n\t\t\tlet array = [];\n\t\t\tusersData.map(user => {\n\t\t\t\tif (user._id !== userData._id && !user.followers.includes(userData._id)) {\n\t\t\t\t\treturn array.push(user._id);\n\t\t\t\t}\n\t\t\t});\n\t\t\tarray.sort(() => 0.5 - Math.random());\n\t\t\tif (window.innerHeight > 780) {\n\t\t\t\tarray.length = 6;\n\t\t\t} else if (window.innerHeight > 720) {\n\t\t\t\tarray.length = 4;\n\t\t\t} else if (window.innerHeight > 615) {\n\t\t\t\tarray.length = 2;\n\t\t\t} else if (window.innerHeight > 540) {\n\t\t\t\tarray.length = 1;\n\t\t\t} else {\n\t\t\t\tarray.length = 0;\n\t\t\t}\n\t\t\tsetFriendsHint(array);\n\t\t};\n\n\t\tif (playOne && !isEmpty(usersData[0]) && !isEmpty(userData._id)) {\n\t\t\tnotFriendsList();\n\t\t\tsetIsLoading(false);\n\t\t\tsetPlayOne(false);\n\t\t}\n\t}, [userData, usersData]);\n\n\treturn (\n\t\t<div className=\"get-friends-container\">\n\t\t\t<h4>Suggestions</h4>\n\t\t\t{isLoading ? (\n\t\t\t\t<div className=\"icon\">\n\t\t\t\t\t<i className=\"fas fa-spinner fa-pulse\"/>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<ul>\n\t\t\t\t\t{friendsHint.map(hint => {\n\t\t\t\t\t\tfor (let i = 0; i < usersData.length; i++) {\n\t\t\t\t\t\t\tif (hint === usersData[i]._id) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<li className=\"user-hint\" key={hint}>\n\t\t\t\t\t\t\t\t\t\t<img src={usersData[i].picture} alt={usersData[i].picture}/>\n\t\t\t\t\t\t\t\t\t\t<p>{usersData[i].pseudo}</p>\n\t\t\t\t\t\t\t\t\t\t<FollowHandler idToFollow={usersData[i]._id} type={'suggestion'}/>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default FriendsHint;","import React, { useContext } from 'react';\nimport LeftNav from '../components/LeftNav.jsx';\nimport Thread from '../components/Thread.jsx';\nimport { UidContext } from '../components/AppContext.jsx';\nimport NewPost from '../components/post/NewPost.jsx';\nimport Log from '../components/log/Log.jsx';\nimport Trends from '../components/Trends.jsx';\nimport FriendsHint from '../components/profil/FriendsHint.jsx';\n\nconst Home = () => {\n\n\tconst uid = useContext(UidContext);\n\n\treturn (\n\t\t<div className=\"home\">\n\t\t\t<LeftNav/>\n\t\t\t<div className=\"main\">\n\t\t\t\t<div className=\"home-header\">\n\t\t\t\t\t{uid ? <NewPost/> : <Log signIn={true} signUp={false}/>}\n\t\t\t\t</div>\n\t\t\t\t<Thread/>\n\t\t\t</div>\n\t\t\t<div className=\"right-side\">\n\t\t\t\t<div className=\"right-side-container\">\n\t\t\t\t\t<div className=\"wrapper\">\n\t\t\t\t\t\t<Trends />\n\t\t\t\t\t\t{uid && <FriendsHint/>}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Home;","import React from 'react';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { uploadPicture } from '../../actions/user.actions.js';\n\nconst UploadImg = () => {\n\n\tconst [file, setFile] = useState('');\n\tconst dispatch = useDispatch();\n\tconst userData = useSelector(state => state.userReducer);\n\n\tconst handlePicture = (e) => {\n\t\te.preventDefault();\n\t\tconst data = new FormData();\n\t\tdata.append('pseudo', userData.pseudo);\n\t\tdata.append('userId', userData._id);\n\t\tdata.append('file', file);\n\n\t\tdispatch(uploadPicture(data, userData._id));\n\t};\n\n\treturn (\n\t\t<form onSubmit={handlePicture} className=\"upload-pic\">\n\t\t\t<label htmlFor=\"file\">Changer d'image</label>\n\t\t\t<input onChange={(e) => setFile(e.target.files[0])} type=\"file\" id=\"file\" name=\"file\" accept=\".jpeg, .jpg, .png\"/>\n\t\t\t<br/>\n\t\t\t<input type=\"submit\" value=\"Envoyer\" />\n\t\t</form>\n\t);\n};\n\nexport default UploadImg;","import React from 'react';\nimport LeftNav from '../LeftNav.jsx';\nimport { useDispatch, useSelector } from 'react-redux';\nimport UploadImg from './UploadImg.jsx';\nimport { useState } from 'react';\nimport { updateBio } from '../../actions/user.actions.js';\nimport { dateParser } from '../Utils.js';\nimport FollowHandler from './FollowHandler.jsx';\n\nconst UpdateProfil = () => {\n\n\tconst [bio, setBio] = useState('');\n\tconst [updateForm, setUpdateForm] = useState(false);\n\tconst userData = useSelector(state => state.userReducer);\n\tconst usersData = useSelector(state => state.usersReducer);\n\tconst error = useSelector(state => state.errorReducer.userError);\n\tconst dispatch = useDispatch();\n\n\tconst [followingPopUp, setFollowingPopUp] = useState(false);\n\tconst [followersPopUp, setFollowersPopUp] = useState(false);\n\n\tconst handleUpdate = () => {\n\t\tdispatch(updateBio(userData._id, bio));\n\t\tsetUpdateForm(false);\n\t};\n\n\treturn (\n\t\t<div className=\"profil-container\">\n\t\t\t<LeftNav />\n\t\t\t<h1>Profil de {userData.pseudo}</h1>\n\t\t\t<div className=\"update-container\">\n\t\t\t\t<div className=\"left-part\">\n\t\t\t\t\t<h3>Photo de profil</h3>\n\t\t\t\t\t<img src={userData.picture} alt=\"user img\"/>\n\t\t\t\t\t<UploadImg />\n\t\t\t\t\t<p>{error.maxSize}</p>\n\t\t\t\t\t<p>{error.format}</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"right-part\">\n\t\t\t\t\t<div className=\"bio-update\">\n\t\t\t\t\t\t<h3>Bio</h3>\n\t\t\t\t\t\t{!updateForm && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<p onClick={() => setUpdateForm(!updateForm)}>{userData.bio}</p>\n\t\t\t\t\t\t\t\t<button onClick={() => setUpdateForm(!updateForm)}>Modifier bio</button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{updateForm && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<textarea onChange={(e) => setBio(e.target.value)} defaultValue={userData.bio} />\n\t\t\t\t\t\t\t\t<button onClick={handleUpdate}>Valider modifications</button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<h4>Membre depuis le : {dateParser(userData.createdAt)}</h4>\n\t\t\t\t\t<h5 onClick={() => setFollowingPopUp(true)}>\n                        Abonnements : {userData.following ? userData.following.length : null}\n\t\t\t\t\t</h5>\n\t\t\t\t\t<h5 onClick={() => setFollowersPopUp(true)}>\n                        Abonnés : {userData.followers ? userData.followers.length : null}\n\t\t\t\t\t</h5>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{followingPopUp && (\n\t\t\t\t<div className=\"popup-profil-container\">\n\t\t\t\t\t<div className=\"modal\">\n\t\t\t\t\t\t<h3>Abonnements</h3>\n\t\t\t\t\t\t<span onClick={() => setFollowingPopUp(false)} className=\"cross\">&#10005;</span>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t{usersData.map(user => {\n\t\t\t\t\t\t\t\tfor (let i = 0; i < userData.following.length; i++) {\n\t\t\t\t\t\t\t\t\tif (user._id === userData.following[i]) {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<li key={user._id}>\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={user.picture} alt=\"user-pic\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<h4>{user.pseudo}</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"follow-handler\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FollowHandler idToFollow={user._id} type={'suggestion'} />\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t{followersPopUp && (\n\t\t\t\t<div className=\"popup-profil-container\">\n\t\t\t\t\t<div className=\"modal\">\n\t\t\t\t\t\t<h3>Abonnés</h3>\n\t\t\t\t\t\t<span onClick={() => setFollowersPopUp(false)} className=\"cross\">&#10005;</span>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t{usersData.map(user => {\n\t\t\t\t\t\t\t\tfor (let i = 0; i < userData.followers.length; i++) {\n\t\t\t\t\t\t\t\t\tif (user._id === userData.followers[i]) {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<li key={user._id}>\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={user.picture} alt=\"user-pic\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<h4>{user.pseudo}</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"follow-handler\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FollowHandler idToFollow={user._id} type={'suggestion'} />\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default UpdateProfil;","import React from 'react';\nimport Log from '../components/log/Log.jsx';\nimport {UidContext} from '../components/AppContext.jsx';\nimport {useContext} from 'react';\nimport UpdateProfil from '../components/profil/UpdateProfil.jsx';\n\nconst Profil = () => {\n\n\tconst uid = useContext(UidContext);\n\n\treturn (\n\t\t<div className=\"profil-page\">\n\t\t\t{uid ? (\n\t\t\t\t<UpdateProfil />\n\t\t\t) : (\n\t\t\t\t<div className=\"log-container\">\n\t\t\t\t\t<Log signIn={false} signUp={true} />\n\t\t\t\t\t<div className=\"img-container\">\n\t\t\t\t\t\t<img src='./img/log.svg' alt=\"log\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Profil;","import React, { useContext } from 'react';\nimport { UidContext } from '../components/AppContext.jsx';\nimport { useSelector } from 'react-redux';\nimport LeftNav from '../components/LeftNav.jsx';\nimport { isEmpty } from '../components/Utils.js';\nimport Card from '../components/post/Card.jsx';\nimport Trends from '../components/Trends.jsx';\nimport FriendsHint from '../components/profil/FriendsHint.jsx';\n\nconst Trending = () => {\n\n\tconst uid = useContext(UidContext);\n\tconst trendList = useSelector(state => state.trendingReducer);\n\n\treturn (\n\t\t<div className=\"trending-page\">\n\t\t\t<LeftNav/>\n\t\t\t<div className=\"main\">\n\t\t\t\t<ul>\n\t\t\t\t\t{!isEmpty(trendList[0]) && trendList.map(post => (\n\t\t\t\t\t\t<Card post={post} key={post._id}/>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div className=\"right-side\">\n\t\t\t\t<div className=\"right-side-container\">\n\t\t\t\t\t<Trends />\n\t\t\t\t\t{uid && <FriendsHint/>}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Trending;","import React from 'react';\nimport axios from 'axios';\nimport cookie from 'js-cookie';\n\nconst Logout = () => {\n\n\tconst removeCookie = (key) => {\n\t\tif (window !== undefined) {\n\t\t\tcookie.remove(key, {expires: 1});\n\t\t}\n\t};\n\n\tconst logout = async () => {\n\t\tawait axios({\n\t\t\tmethod: 'get',\n\t\t\turl: `${process.env.REACT_APP_API_URL}api/user/logout`,\n\t\t\twithCredentials: true\n\t\t})\n\t\t\t.then(() => removeCookie('jwt'))\n\t\t\t.catch(err => console.log({ err }));\n\n\t\twindow.location = '/';\n\t};\n\n\treturn (\n\t\t<li onClick={logout}>\n\t\t\t<img src=\"./img/icons/logout.svg\" alt=\"Logout\"/>\n\t\t</li>\n\t);\n};\n\nexport default Logout;","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { UidContext } from './AppContext.jsx';\nimport { useContext } from 'react';\nimport Logout from './log/Logout.jsx';\nimport { useSelector } from 'react-redux';\n\nconst Navbar = () => {\n    \n\tconst uid = useContext(UidContext);\n\tconst userData = useSelector(state => state.userReducer);\n    \n\treturn (\n\t\t<nav>\n\t\t\t<div className=\"nav-container\">\n\t\t\t\t<div className=\"logo\">\n\t\t\t\t\t<NavLink exact to=\"/\">\n\t\t\t\t\t\t<div className=\"logo\">\n\t\t\t\t\t\t\t<img src=\"./img/icon.png\" alt=\"logo\"/>\n\t\t\t\t\t\t\t<h3>Pineapple</h3>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</NavLink>\n\t\t\t\t</div>\n\t\t\t\t{uid ? (\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li/>\n\t\t\t\t\t\t<li className=\"welcome\">\n\t\t\t\t\t\t\t<NavLink exact to=\"/profil\">\n\t\t\t\t\t\t\t\t<h5>Bienvenue {userData.pseudo}</h5>\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<Logout/>\n\t\t\t\t\t</ul>\n\t\t\t\t) : (\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li/>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<NavLink exact to=\"/profil\">\n\t\t\t\t\t\t\t\t<img src=\"./img/icons/login.svg\" alt=\"logo\"/>\n\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</nav>\n\t);\n};\n\nexport default Navbar;","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\n\nimport Home from '../../pages/Home';\nimport Profil from '../../pages/Profil';\nimport Trending from '../../pages/Trending.jsx';\nimport Navbar from '../Navbar.jsx';\n\nconst Index = () => {\n\treturn (\n\t\t<Router>\n\t\t\t<Navbar />\n\t\t\t<Switch>\n\t\t\t\t<Route exact path=\"/\" component={Home}/>\n\t\t\t\t<Route exact path=\"/profil\" component={Profil}/>\n\t\t\t\t<Route exact path=\"/trending\" component={Trending}/>\n\t\t\t\t<Redirect to='/' />\n\t\t\t</Switch>\n\t\t</Router>\n\t);\n};\n\nexport default Index;","import React, { useState, useEffect }  from 'react';\nimport Routes from './components/routes';\nimport {UidContext} from './components/AppContext.jsx';\nimport axios from 'axios';\nimport { useDispatch } from 'react-redux';\nimport { getUser } from './actions/user.actions.js';\n\nconst App = () => {\n\n\tconst [uid, setuid] = useState(null);\n\tconst dispatch = useDispatch();\n\n\tuseEffect( () => {\n\t\tconst fetchToken = async () => {\n\t\t\tawait axios({\n\t\t\t\tmethod: 'get',\n\t\t\t\turl: `${process.env.REACT_APP_API_URL}jwtid`,\n\t\t\t\twithCredentials: true\n\t\t\t})\n\t\t\t\t.then(res => setuid(res.data))\n\t\t\t\t.catch(err => console.log(err));\n\t\t};\n\t\tfetchToken()\n\t\t\t.then(() => console.log({uid}))\n\t\t\t.catch(err => console.log(err));\n\n\t\tif (uid) {\n\t\t\tdispatch(getUser(uid));\n\t\t}\n\t}, [uid, dispatch]);\n\n\treturn (\n\t\t<UidContext.Provider value={uid}>\n\t\t\t<Routes/>\n\t\t</UidContext.Provider>\n\t);\n};\n\nexport default App;\n","import { FOLLOW_USER, GET_USER, UNFOLLOW_USER, UPDATE_BIO, UPLOAD_PICTURE } from '../actions/user.actions.js';\n\nconst initialState = {};\n\nexport default function userReducer(state = initialState, action) {\n\tswitch (action.type) {\n\tcase GET_USER:\n\t\treturn action.payload;\n\tcase UPLOAD_PICTURE:\n\t\treturn {\n\t\t\t...state,\n\t\t\tpicture: action.payload\n\t\t};\n\tcase UPDATE_BIO:\n\t\treturn {\n\t\t\t...state,\n\t\t\tbio: action.payload\n\t\t};\n\tcase FOLLOW_USER:\n\t\treturn {\n\t\t\t...state,\n\t\t\tfollowing: [action.payload.idToFollow, ...state.following]\n\t\t};\n\tcase UNFOLLOW_USER:\n\t\treturn {\n\t\t\t...state,\n\t\t\tfollowing: state.following.filter(id => id !== action.payload.idToUnfollow)\n\t\t};\n\tdefault:\n\t\treturn state;\n\t}\n}","import axios from 'axios';\n\nexport const GET_USERS = 'GET_USERS';\n\nexport const getUsers = () => {\n\treturn (dispatch) => {\n\t\treturn axios\n\t\t\t.get(`${process.env.REACT_APP_API_URL}api/user`)\n\t\t\t.then(res => {\n\t\t\t\tdispatch({ type: GET_USERS, payload: res.data});\n\t\t\t})\n\t\t\t.catch(err => console.log({ err }));\n\t};\n};","import { GET_USERS } from '../actions/users.actions.js';\n\nconst initialState = {};\n\nexport default function usersReducer(state = initialState, action) {\n\tswitch (action.type) {\n\tcase GET_USERS:\n\t\treturn action.payload;\n\tdefault:\n\t\treturn state;\n\t}\n}","import {\n\tDELETE_COMMENT,\n\tDELETE_POST,\n\tEDIT_COMMENT,\n\tGET_POSTS,\n\tLIKE_POST,\n\tUNLIKE_POST,\n\tUPDATE_POST\n} from '../actions/post.action.js';\n\nconst initialState = {};\n\nexport default function postReducer (state = initialState, action) {\n\tswitch (action.type) {\n\tcase GET_POSTS:\n\t\treturn action.payload;\n\tcase LIKE_POST:\n\t\treturn state.map(post => {\n\t\t\tif (post._id === action.payload.postId) {\n\t\t\t\treturn {\n\t\t\t\t\t...post,\n\t\t\t\t\tlikers: [action.payload.userId, ...post.likers]\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn post;\n\t\t});\n\tcase UNLIKE_POST:\n\t\treturn state.map(post => {\n\t\t\tif (post._id === action.payload.postId) {\n\t\t\t\treturn {\n\t\t\t\t\t...post,\n\t\t\t\t\tlikers: post.likers.filter(id => id !== action.payload.userId)\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn post;\n\t\t});\n\tcase UPDATE_POST:\n\t\treturn state.map(post => {\n\t\t\tif (post._id === action.payload.postId) {\n\t\t\t\treturn {\n\t\t\t\t\t...post,\n\t\t\t\t\tmessage: action.payload.message\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn post;\n\t\t});\n\tcase DELETE_POST:\n\t\treturn state.filter(post => post._id !== action.payload.postId);\n\tcase EDIT_COMMENT:\n\t\treturn state.map(post => {\n\t\t\tif (post._id === action.payload.postId) {\n\t\t\t\treturn {\n\t\t\t\t\t...post,\n\t\t\t\t\tcomments: post.comments.map(comment => {\n\t\t\t\t\t\tif (comment._id === action.payload.commentId) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...comment,\n\t\t\t\t\t\t\t\ttext: action.payload.text\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} else return comment;\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t} else return post;\n\t\t});\n\tcase DELETE_COMMENT:\n\t\treturn state.map(post => {\n\t\t\tif (post._id === action.payload.postId) {\n\t\t\t\treturn {\n\t\t\t\t\t...post,\n\t\t\t\t\tcomments: post.comments.filter(comment => comment._id !== action.payload.commentId)\n\t\t\t\t};\n\t\t\t} else return post;\n\t\t});\n\tdefault:\n\t\treturn state;\n\t}\n}","import { GET_POST_ERRORS } from '../actions/post.action.js';\nimport { GET_USER_ERRORS } from '../actions/user.actions.js';\n\nconst initialState = {postError: [], userError: []};\n\nexport default function errorReducer(state = initialState, action) {\n\tswitch (action.type) {\n\tcase GET_POST_ERRORS:\n\t\treturn {\n\t\t\tpostError: action.payload,\n\t\t\tuserError: []\n\t\t};\n\tcase GET_USER_ERRORS:\n\t\treturn {\n\t\t\tuserError: action.payload,\n\t\t\tpostError: []\n\t\t};\n\tdefault:\n\t\treturn state;\n\t}\n}","import { GET_ALL_POST } from '../actions/post.action.js';\n\nconst initialState = {};\n\nexport default function allPostReducer (state = initialState, action) {\n\tswitch (action.type) {\n\tcase GET_ALL_POST:\n\t\treturn action.payload;\n\tdefault:\n\t\treturn state;\n\t}\n}","import { GET_TRENDS } from '../actions/post.action.js';\n\nconst initialState = {};\n\nexport default function trendingReducer (state = initialState, action) {\n\tswitch (action.type) {\n\tcase GET_TRENDS:\n\t\treturn action.payload;\n\tdefault:\n\t\treturn state;\n\t}\n}","import { combineReducers } from 'redux';\nimport userReducer from './user.reducer.js';\nimport usersReducer from './users.reducer.js';\nimport postReducer from './post.reducer.js';\nimport errorReducer from './error.reducer.js';\nimport allPostReducer from './allPost.reducer.js';\nimport trendingReducer from './trending.reducer.js';\n\nexport default combineReducers({\n\tuserReducer,\n\tusersReducer,\n\tpostReducer,\n\terrorReducer,\n\tallPostReducer,\n\ttrendingReducer,\n});","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nimport { Provider } from 'react-redux';\nimport { applyMiddleware, createStore } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\nimport { getUsers } from './actions/users.actions.js';\nimport { getPosts } from './actions/post.action.js';\n\nconst store = createStore(\n\trootReducer, composeWithDevTools(applyMiddleware(thunk))\n);\n\nstore.dispatch(getUsers());\nstore.dispatch(getPosts());\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}